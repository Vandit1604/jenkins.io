<!DOCTYPE html>
<html lang="en">
<head>
<title>
Linux installation packages migrated from System V init to systemd
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Starting with Jenkins 2.335, the Jenkins project is migrating from System V init to systemd.
" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2022/03/25/systemd-migration/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Linux installation packages migrated from System V init to systemd" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Linux installation packages migrated from System V init to systemd" name="twitter:title">
<meta content="Starting with Jenkins 2.335, the Jenkins project is migrating from System V init to systemd.
" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Linux installation packages migrated from System V init to systemd" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2022/03/25/systemd-migration/" property="og:url">
<meta content="Starting with Jenkins 2.335, the Jenkins project is migrating from System V init to systemd.
" name="og:description">
<meta content="Linux installation packages migrated from System V init to systemd" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Linux installation packages migrated from System V init to systemd
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/basil/"><div class="app-avatar"></div> Basil Crow</a>
March 25, 2022
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Linux+installation+packages+migrated+from+System+V+init+to+systemd&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2022%2F03%2F25%2Fsystemd-migration%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="paragraph">
<p>Beginning with Jenkins 2.335 and Jenkins 2.332.1, the Jenkins project is migrating from <a href="https://en.wikipedia.org/wiki/Init">System V <code>init(8)</code></a> to <a href="https://www.freedesktop.org/wiki/Software/systemd/"><code>systemd(1)</code></a> in its official Debian, Red Hat, and openSUSE packages.
The <a href="https://hub.docker.com/r/jenkins/jenkins">official Docker image</a> and <a href="https://charts.jenkins.io/">Helm chart</a> remain unchanged.
For up-to-date information, refer to the <a href="/doc/book/system-administration/systemd-services/">Managing <code>systemd</code> services</a> page in the documentation.</p>
</div>
<div class="sect2">
<h3 id="background"><a class="anchor" href="#background"></a>Background</h3>
<div class="paragraph">
<p>Beginning in 2008, the Jenkins (then Hudson) project has delivered Linux OS installation packages for Debian (and derivatives), Red Hat (and derivatives), and openSUSE.
These packages were all based on the <a href="https://en.wikipedia.org/wiki/Init">System V <code>init(8)</code></a> system in common use at that time.
A remnant of the venerable <a href="https://en.wikipedia.org/wiki/UNIX_System_V">Unix System V</a> from 1983, <code>init(8)</code> had remained unchanged for decades.</p>
</div>
<div class="paragraph">
<p>The mid-2000s saw the emergence of a new generation of service management frameworks, starting with the release of <a href="https://en.wikipedia.org/wiki/Service_Management_Facility">Service Management Facility (SMF)</a> in <a href="https://en.wikipedia.org/wiki/Oracle_Solaris#Version_history">Solaris 10</a>, the release of <a href="https://en.wikipedia.org/wiki/Launchd"><code>launchd</code></a> in <a href="https://en.wikipedia.org/wiki/Mac_OS_X_Tiger">Mac OS X Tiger</a>, and the release of <a href="https://upstart.ubuntu.com/">Upstart</a> in <a href="https://en.wikipedia.org/wiki/Ubuntu_version_history">Ubuntu 6.10 (Edgy Eft)</a>.
In contrast to the serial service startup of <code>init(8)</code>, these frameworks modeled services as a dependency graph and started services in parallel.</p>
</div>
<div class="paragraph">
<p>The mid-2010s saw the rise of <code>systemd(1)</code> as the dominant service management framework on Linux,
and it became the default service management framework in <a href="https://en.wikipedia.org/wiki/Red_Hat_Enterprise_Linux#RHEL_7">Red Hat Enterprise Linux (RHEL) 7</a>, <a href="https://en.wikipedia.org/wiki/OpenSUSE#Version_history">openSUSE 12.2 (Mantis)</a>, <a href="https://en.wikipedia.org/wiki/Debian_version_history#Debian_8_(Jessie)">Debian 8 (Jessie)</a>, and <a href="https://en.wikipedia.org/wiki/Ubuntu_version_history#Ubuntu_15.04_(Vivid_Vervet)">Ubuntu 15.04 (Vivid Vervet)</a>.
A decade after the release of Solaris 10, the ideas behind its service management framework had spread to the majority of Unix-like systems.</p>
</div>
<div class="paragraph">
<p><code>systemd(1)</code> provides compatibility with the behavior exposed by System V <code>init(8)</code>,
and the System V <code>init(8)</code> scripts delivered in the Jenkins project&#8217;s official Linux OS packages continued to work in this compatibility mode.
Beginning with Jenkins 2.335 and Jenkins 2.332.1, the Jenkins project&#8217;s official Linux OS packages deliver a native <code>systemd(1)</code> <a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html">service unit</a>,
which supersedes the older System V <code>init(8)</code> scripts.
Seven years after <code>systemd(1)</code> became the default service management framework in the majority of Linux distributions, the Jenkins project provides full support for <code>systemd(1)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="motivation"><a class="anchor" href="#motivation"></a>Motivation</h3>
<div class="paragraph">
<p>As defined in W. Richard Stevens' book <a href="http://www.kohala.com/start/unp.html"><em>UNIX Network Programming</em></a> (Addison-Wesley, 1990),
a daemon is "a process that executes 'in the background' (i.e., without an associated terminal or login shell) either waiting for some event to occur, or waiting to perform some specified task on a periodic basis."
Upon startup, a typical daemon program will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Close all open <a href="https://en.wikipedia.org/wiki/File_descriptor">file descriptors</a>, including standard input, standard output, and standard error</p>
</li>
<li>
<p>Change its <a href="https://en.wikipedia.org/wiki/Working_directory">working directory</a> to the root filesystem, to ensure that it does not tie up another filesystem and prevent it from being unmounted</p>
</li>
<li>
<p>Reset its file mode creation mask (i.e., <a href="https://en.wikipedia.org/wiki/Umask"><code>umask(2)</code></a>) value</p>
</li>
<li>
<p>Run in the background (i.e., call <a href="https://illumos.org/man/2/fork"><code>fork(2)</code></a>)</p>
</li>
<li>
<p>Disassociate from its <a href="https://en.wikipedia.org/wiki/Process_group">process group</a> (usually a shell), to insulate itself from signals (such as <code>SIGHUP</code>) sent to the process group</p>
</li>
<li>
<p>Ignore all terminal I/O signals</p>
</li>
<li>
<p>Disassociate from the <a href="https://en.wikipedia.org/wiki/Controlling_terminal">controlling terminal</a> (and take steps not to reacquire one)</p>
</li>
<li>
<p>Handle any <code>SIGCLD</code> signals</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most programs that are designed to be run as daemons do this work for themselves at startup,
and Jenkins has traditionally done this using the <a href="https://akuma.kohsuke.org/">Akuma</a> daemonization library and <a href="https://github.com/java-native-access/jna">Java Native Access (JNA)</a>.
The Akuma library is no longer actively maintained,
and recent versions of Java have placed increasingly greater restrictions on the ability of Java programs to access internal system state via reflection and other mechanisms.
Furthermore, third-party daemonization software like <a href="https://software.clapper.org/daemonize/"><code>daemonize(1)</code></a> is not consistently packaged for all Linux distributions,
and the packages that exist are frequently unmaintained or have bugs that cause regressions for Jenkins users.
In other words, the status quo was increasingly unsustainable.</p>
</div>
<div class="paragraph">
<p>Users have also been requesting <code>systemd(1)</code> support in <a href="https://issues.jenkins.io/browse/JENKINS-41218">JENKINS-41218</a> since January 2017.</p>
</div>
<div class="paragraph">
<p>The migration to <code>systemd(1)</code> eliminates this long-standing pain point
by relying on <code>systemd(1)</code> to daemonize the Jenkins Java process.
This avoids the need for JNA-based tricks in Java,
and it also unifies our implementation of service management across all Linux distributions.
Furthermore, it allows for tighter integration between Jenkins core and the service management framework with regard to service startup notification.</p>
</div>
</div>
<div class="sect2">
<h3 id="changes"><a class="anchor" href="#changes"></a>Changes</h3>
<div class="paragraph">
<p>Although <code>systemd(1)</code> has been the default service management framework in the majority of Linux distributions for seven years, some members of our community may not be familiar with its use in the context of managing Jenkins.
The following section describes some of the changes in more detail and explains how to perform common system administration tasks.
For up-to-date information, refer to the <a href="/doc/book/system-administration/systemd-services/">Managing <code>systemd</code> services</a> page in the documentation.
See also the <a href="https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units">DigitalOcean community <code>systemd(1)</code> tutorial</a> to better understand the benefits of <code>systemd(1)</code> and the <code>systemctl(1)</code> command.</p>
</div>
<div class="sect3">
<h4 id="package-configuration"><a class="anchor" href="#package-configuration"></a>Package configuration</h4>
<div class="paragraph">
<p>Users who run Jenkins 2.335 or later and 2.332.1 LTS or later through the official Debian, Red Hat, or openSUSE packages are affected by this migration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <a href="https://hub.docker.com/r/jenkins/jenkins">official Docker image</a> and <a href="https://charts.jenkins.io/">Helm chart</a> remain unchanged.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The System V <code>init(8)</code> packages delivered the following configuration files:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Debian</dt>
<dd>
<p><code>/etc/default/jenkins</code></p>
</dd>
<dt class="hdlist1">Red Hat</dt>
<dd>
<p><code>/etc/sysconfig/jenkins</code></p>
</dd>
<dt class="hdlist1">openSUSE</dt>
<dd>
<p><code>/etc/sysconfig/jenkins</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Each configuration file used a unique format, with the Debian version being radically different from the Red Hat and openSUSE versions.
Furthermore, manual edits to these files would frequently conflict with updated upstream versions, triggering the package manager to flag the conflict and requiring manual intervention on upgrade.</p>
</div>
<div class="paragraph">
<p>New versions of Jenkins still ship these files and support Linux distributions that do not use <code>systemd(1)</code>.
At the time, no actively-supported distributions based on Red Hat or openSUSE are known to use System V <code>init(8)</code>.
On such systems, the <code>/etc/sysconfig/jenkins</code> file is left in place but unused at runtime.
However, the Debian package can still be installed on distributions such as <a href="https://www.devuan.org/">Devuan GNU+Linux</a>, which is a fork of Debian without <code>systemd(1)</code>.
On such systems, the <code>/etc/default/jenkins</code> file will still be used at runtime.</p>
</div>
<div class="paragraph">
<p>When installed on a modern Linux distribution running <code>systemd(1)</code>, the <code>systemd(1)</code> <a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html">service unit</a> is delivered to:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Debian</dt>
<dd>
<p><code>/lib/systemd/system/jenkins.service</code></p>
</dd>
<dt class="hdlist1">Red Hat</dt>
<dd>
<p><code>/usr/lib/systemd/system/jenkins.service</code></p>
</dd>
<dt class="hdlist1">openSUSE</dt>
<dd>
<p><code>/usr/lib/systemd/system/jenkins.service</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The main service unit is read-only and not intended to be edited manually.
It contains a large notice at the top of the file stating as much.
The canonical way to customize the <code>systemd(1)</code> service is to run <code>systemctl edit jenkins</code>,
which creates a <em>new</em> drop-in unit at <code>/etc/systemd/system/jenkins.service.d/override.conf</code>.
On a clean install, this drop-in unit does not exist.
When a user first customizes a clean install with <code>systemctl edit jenkins</code>, <code>systemd(1)</code> creates the drop-in unit and allows the user to customize it.
Note that such customizations must be done in a <code>[Service]</code> section in order to take effect.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<code>systemctl edit jenkins</code> creates the drop-in unit as <code>root</code> with 0644 (<code>-rw-r&#8212;&#8203;r--</code>) permissions.
The migration logic, on the other hand, creates the drop-in unit as <code>root</code> with 0600 (<code>-rw-------</code>) permissions.
This might be of consequence if you store an HTTPS keystore location and/or password in the drop-in unit
and also run jobs directly on the controller,
a practice which the Jenkins project <a href="/doc/book/security/controller-isolation/">explicitly discourages</a>.
When in doubt, secure the drop-in unit by setting its permissions to 0600 with <code>chmod(1)</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>One benefit of the drop-in unit is that it unifies configuration across all three distributions: Debian, Red Hat, and openSUSE.
Gone are the days of maintaining distribution-specific configuration logic.</p>
</div>
<div class="paragraph">
<p>Also note that the drop-in unit is not overwritten on upgrades.
Gone are the days of getting conflicts in <code>/etc/{default,sysconfig}/jenkins</code> on upgrades,
at least <em>after</em> the upgrade to a <code>systemd(1)</code>-based package is completed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Unlike the System V <code>init(8)</code> configuration, the <code>override.conf</code> file only contains customizations, not the original defaults.
Users who are accustomed to editing an existing set of defaults must refer to the (read-only) service unit side-by-side when editing the drop-in unit
or use a command like <code>systemctl edit jenkins --full</code>, which copies the original service unit instead of creating a drop-in unit.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Editing the drop-in unit with <code>systemctl edit jenkins</code> will automatically reload the <code>systemd(1)</code> configuration.
The settings will take effect the next time Jenkins is restarted.
If you edit the drop-in unit without <code>systemctl(1)</code>, you need to run <code>systemctl daemon-reload</code> for the changes to take effect.</p>
</div>
<div class="paragraph">
<p>A final point to mention about the service unit is its use of specifiers,
which may be unfamiliar to some users.
The drop-in unit does not perform shell expansion.
Specifiers can insert contextual information (like system hostname, unit name, and operating system kernel release) into the drop-in unit.
The <code>systemd(1)</code> documentation contains <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#id-1.13.3">a table of specifiers available in unit files</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="migration"><a class="anchor" href="#migration"></a>Migration</h4>
<div class="paragraph">
<p>The Jenkins project ships logic to automatically migrate the System V <code>init(8)</code> configuration file to the new <code>systemd(1)</code> <code>override.conf</code> format.
This migration logic does nothing if an <code>override.conf</code> file already exists,
which would be an indication that the migration script already ran
or that the user has made their own customizations that should be preserved.
If <code>override.conf</code> does not exist, package installation migrates the old System V <code>init(8)</code> configuration file to <code>override.conf</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="logging"><a class="anchor" href="#logging"></a>Logging</h4>
<div class="paragraph">
<p>The <code>systemd(1)</code> package also uses <code>systemd-journald(8)</code> for logging by default.
Rather than creating a log file in <code>/var/log/jenkins/jenkins.log</code>,
Jenkins now logs to the system&#8217;s journal.
Log entries may be viewed with <code>journalctl -u jenkins</code>.
This is perhaps the most noticeable user-visible change in this migration.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs">DigitalOcean log management tutorial</a> for more detailed information.</p>
</div>
</div>
<div class="sect3">
<h4 id="startup-notifications"><a class="anchor" href="#startup-notifications"></a>Startup notifications</h4>
<div class="paragraph">
<p>The System V <code>init(8)</code> logic was asynchronous; i.e., running <code>/etc/init.d/jenkins start</code> would return prior to the completion of Jenkins startup.
The <code>systemd(1)</code> logic is synchronous; i.e., running <code>systemctl start jenkins</code> will block until Jenkins signals successful startup.
This allows system administrators to write automation to programmatically deploy Jenkins using modern tools like Ansible.</p>
</div>
<div class="paragraph">
<p>Jenkins previously restarted itself after upgrading plugins or via the <code>/restart</code> or <code>/safeRestart</code> endpoints by calling <code>exec(2)</code>.
This was fragile and exposed users to a variety of bugs.
The <code>systemd(1)</code> implementation allows the main process to exit normally before starting it again from scratch.
In addition to eliminating a category of bugs, this also provides more visibility into service startup progress.
Some examples are shown below.</p>
</div>
<div class="paragraph">
<p>From <code>systemctl status jenkins</code> after upgrading plugins:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash"><span class="nv">$ </span>systemctl status jenkins
● jenkins.service - Jenkins Continuous Integration Server
     Loaded: loaded <span class="o">(</span>/lib/systemd/system/jenkins.service<span class="p">;</span> enabled<span class="p">;</span> vendor preset: enabled<span class="o">)</span>
    Drop-In: /etc/systemd/system/jenkins.service.d
             └─override.conf
     Active: active <span class="o">(</span>running<span class="o">)</span> <span class="o">[</span>…]
   Main PID: <span class="o">[</span>…] <span class="o">(</span>java<span class="o">)</span>
     Status: <span class="s2">"Restart in 10 seconds"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As Jenkins is being brought down:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash"><span class="nv">$ </span>systemctl status jenkins
● jenkins.service - Jenkins Continuous Integration Server
     Loaded: loaded <span class="o">(</span>/lib/systemd/system/jenkins.service<span class="p">;</span> enabled<span class="p">;</span> vendor preset: enabled<span class="o">)</span>
    Drop-In: /etc/systemd/system/jenkins.service.d
             └─override.conf
     Active: deactivating <span class="o">(</span>stop-sigterm<span class="o">)</span> since <span class="o">[</span>…]
   Main PID: <span class="o">[</span>…] <span class="o">(</span>java<span class="o">)</span>
     Status: <span class="s2">"Stopping Jenkins"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As Jenkins is starting up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash"><span class="nv">$ </span>systemctl status jenkins
● jenkins.service - Jenkins Continuous Integration Server
     Loaded: loaded <span class="o">(</span>/lib/systemd/system/jenkins.service<span class="p">;</span> enabled<span class="p">;</span> vendor preset: enabled<span class="o">)</span>
    Drop-In: /etc/systemd/system/jenkins.service.d
             └─override.conf
     Active: activating <span class="o">(</span>start<span class="o">)</span> since <span class="o">[</span>…]
   Main PID: <span class="o">[</span>…] <span class="o">(</span>java<span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>After successful startup:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash"><span class="nv">$ </span>systemctl status jenkins
● jenkins.service - Jenkins Continuous Integration Server
     Loaded: loaded <span class="o">(</span>/lib/systemd/system/jenkins.service<span class="p">;</span> enabled<span class="p">;</span> vendor preset: enabled<span class="o">)</span>
    Drop-In: /etc/systemd/system/jenkins.service.d
             └─override.conf
     Active: active <span class="o">(</span>running<span class="o">)</span> since <span class="o">[</span>…]
   Main PID: <span class="o">[</span>…] <span class="o">(</span>java<span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If Jenkins does not signal startup completion within a configured time,
the service will be considered failed and will be shut down again.
As each initialization milestone (i.e., "Started initialization", "Listed all plugins",
"Prepared all plugins", "Started all plugins", "Augmented all extensions",
"System config loaded", "System config adapted", "Loaded all jobs",
"Configuration for all jobs updated", and "Completed initialization") is attained,
the timeout is extended by the value of the <code>jenkins.model.Jenkins.extendTimeoutSeconds</code> system property (by default, 15 seconds).
The timeout can be configured with the <code>TimeoutStartSec</code> directive in the service unit.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reporting-issues"><a class="anchor" href="#reporting-issues"></a>Reporting issues</h3>
<div class="paragraph">
<p>If you find a regression, please file a bug report in <a href="https://issues.jenkins.io/">Jira</a>.
When reporting an issue, include the following information:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>core</code> component.</p>
</li>
<li>
<p>Provide the name, version, and architecture of the Linux distribution you are using (e.g., Ubuntu 20.04.4 LTS x86_64).</p>
</li>
<li>
<p>Provide the contents of the old System V <code>init(8)</code> configuration in <code>/etc/{default,sysconfig}/jenkins</code>, sanitized as necessary.</p>
</li>
<li>
<p>Provide the contents of the <code>systemd(1)</code> drop-in unit in <code>/etc/systemd/system/jenkins.service.d/override.conf</code>, sanitized as necessary.</p>
</li>
<li>
<p>Provide steps to reproduce the issue <em>from scratch</em> on a minimal Jenkins installation; the scenario should fail when the steps are followed on Jenkins 2.335 or later and pass when the steps are followed on Jenkins 2.334 or earlier.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="conclusion"><a class="anchor" href="#conclusion"></a>Conclusion</h3>
<div class="paragraph">
<p>We expect to see a bit of disruption from these changes but hope that in the long run they will save time for core and plugin developers and lead to a more secure and stable tool.
Please reach out on the <a href="https://groups.google.com/g/jenkinsci-dev">developers' mailing list</a> with any questions or suggestions.</p>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/announcement/">
announcement
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/community/">
community
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/core/">
core
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/platform-sig/">
platform-sig
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px"></div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/basil/">
Basil Crow
</a>
</p>
<div class="paragraph">
<p>Basil is a long-time Jenkins user and contributor, a Jenkins core maintainer, and the maintainer of the <a href="https://plugins.jenkins.io/email-ext">Email Extension</a>, <a href="https://plugins.jenkins.io/timestamper">Timestamper</a>, and <a href="https://plugins.jenkins.io/swarm">Swarm</a> plugins (among others).
Basil enjoys working on open source software in his free time.</p>
</div>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/basil" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
<li>
<a href="https://twitter.com/bcrow" rel="noreferrer noopener" target="_blank">
Twitter
</a>
</li>
<li>
<a href="https://www.linkedin.com/in/basilcrow" rel="noreferrer noopener" target="_blank">
LinkedIn
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2022/03/2022-03-25-systemd-migration.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
