<!DOCTYPE html>
<html lang="en">
<head>
<title>
The Silence of the Lambs: Inspecting binaries with Jenkins
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2018/11/12/inspecting-binaries-with-jenkins/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="The Silence of the Lambs: Inspecting binaries with Jenkins" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="The Silence of the Lambs: Inspecting binaries with Jenkins" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="The Silence of the Lambs: Inspecting binaries with Jenkins" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2018/11/12/inspecting-binaries-with-jenkins/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="The Silence of the Lambs: Inspecting binaries with Jenkins" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
The Silence of the Lambs: Inspecting binaries with Jenkins
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/michaelhuettermann/"><div class="app-avatar"><img alt="Michael Hüttermann" class="app-avatar__image" src="/images/avatars/michaelhuettermann.jpg"></div> Michael Hüttermann</a>
November 12, 2018
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=The+Silence+of+the+Lambs%3A+Inspecting+binaries+with+Jenkins&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2018%2F11%2F12%2Finspecting-binaries-with-jenkins%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is a guest post by <a href="https://github.com/michaelhuettermann">Michael Hüttermann</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In a past blog post,
<a href="/blog/2017/04/18/continuousdelivery-devops-sonarqube/">Delivery Pipelines, with Jenkins 2, SonarQube, and Artifactory</a>,
we talked about pipelines which result in binaries for development versions, and in
<a href="/blog/2017/07/05/continuousdelivery-devops-artifactory/">Delivery pipelines, with Jenkins 2: how to promote Java EE and Docker binaries toward production</a>,
we examined ways to consistently promote applications toward production. In this blog post, I continue on both by discussing more details on security related quality gates
and bringing this together with the handling of Docker images.</p>
</div>
<div class="sect1">
<h2 id="use-case-foster-security-on-given-containerized-business-application"><a class="anchor" href="#use-case-foster-security-on-given-containerized-business-application"></a>Use case: Foster security on given, containerized business application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Security is an overloaded term with varying meaning in different contexts. For this contribution, I consider security as the sum of rules regarding vulnerabilities
(Common Vulnerability and Exposure, CVE), in binaries. In a past blog post, we&#8217;ve identified SonarQube already, as a very helpful tool to identify flaws
in source code, particularly concerning reliability (bugs), vulnerabilities (security, e.g. CWE, that is common weakness enumaration, and OWASP, that is the Open Web Application Security Project), and
maintainability (code smells). Now it is a good time to add another tool to the chain, that is Twistlock, for inspection binaries for security issues.
Features of Twistlock include</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Compliance and vulnerability management, transitively</p>
</li>
<li>
<p>Runtime defense</p>
</li>
<li>
<p>Cloud-native CI/CD support</p>
</li>
<li>
<p>Broad coverage of supported artifact types and platforms</p>
</li>
<li>
<p>API, dashboards, and Jenkins integration, with strong configuration options</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The underlying use case can be derived from several real-world security initiatives, in enterprises, based on given containerized applications. In practice, it is not a surprise that after adding such new
quality gates, you identify historically grown issues. However, there are many good reasons to do so. You don&#8217;t need any Word documents to check any governance criteria manually, rather
execution and reporting are done automatically and also part of the actions are taken automatically. And above all, of course, your application is quality assured regarding known vulnerability issues, aligned with
the DevOps approach: development is interested in quick feedback whether their change would introduce any vulnerabilities, and operations is interested in insights whether and
how running applications are affected if a new CVE is discovered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The term DevSecOps was coined to explicitly add security concerns to DevOps.
In my opinion, security is already inherent part of DevOps.
Thus, there is no strong reason to introduce a new word. Surely, new words are catchy.
But they have limits.
Or have you ever experienced NoDev, the variant of DevOps where features are suddenly falling from the sky and deployed to production automatically?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Conceptually, container inspection is now part of the delivery pipeline and Twistlock processing is now triggered once we have produced our Docker images, see below, in order to get
fast feedback.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/01.png" alt="01" title="The delivery pipeline, failing the quality gate of inspecting Docker image."></span></p>
</div>
<div class="paragraph">
<p>Software is staged over different environments by configuration, without rebuilding. All changes go through the entire staging process, although defined
exception routines may be in place, for details see Michael Hüttermann, <em>Agile ALM</em> (Manning, 2012). The staged software consists of all artifacts which
make up the release, consistently, including the business application, test cases, build scripts, Chef cookbooks, Dockerfiles, Jenkins files to build all
that in a self-contained way, for details see Michael Hüttermann, <em>DevOps for Developers</em> (Apress, 2012).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This blog post covers sample tools. Please note, that there are also alternative tools available, and the best target architecture is aligned with concrete requirements and given basic
conditions. Besides that, the sample toolchain is derived from couple of real world success stories, designed and implemented in the field. However, this blog post
simplifies and abstracts them in order to stay focussed while discussing the primitives of delivery units. For example, aggregating multiple Docker images with ASCII files, does not change the
underlying primitives and their handlings. For more information on all parts of the blog post, please consult the respective documentation, good books or attend fine conferences. Or go to the extremes: talk to your colleagues.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In our sample process, we produce a web application that is packaged in a Docker image. The produced Docker images are distributed only if the dedicated quality gate passes.
A quality gate is a stage in the overall pipeline and a sum of defined commitments, often
called requirements, the unit of work must pass. In our case, the quality gate comprises inspection of produced binaries and it fails if vulnerabilities of severity 'critical' are found.
We can configure Twistlock according to our requirements. Have a look how we&#8217;ve integrated it into our Jenkins pipeline, with focus on detecting vulnerabilities.</p>
</div>
<div class="listingblock">
<div class="title">Jenkinsfile (excerpt): Twistlock inspection triggered</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="n">stage</span><span class="o">(</span><span class="s1">'Twistlock: Analysis'</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">String</span> <span class="n">version</span> <span class="o">=</span> <span class="n">readFile</span><span class="o">(</span><span class="s1">'version.properties'</span><span class="o">).</span><span class="na">trim</span><span class="o">()</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="n">println</span> <span class="s2">"Scanning for version: ${version}"</span>
    <span class="n">twistlockScan</span> <span class="nl">ca:</span> <span class="s1">''</span><span class="o">,</span> <span class="nl">cert:</span> <span class="s1">''</span><span class="o">,</span> <span class="nl">compliancePolicy:</span> <span class="s1">'critical'</span><span class="o">,</span> <span class="err">\</span>
        <span class="nl">dockerAddress:</span> <span class="s1">'unix:///var/run/docker.sock'</span><span class="o">,</span> <span class="err">\</span>
        <span class="nl">ignoreImageBuildTime:</span> <span class="kc">false</span><span class="o">,</span> <span class="nl">key:</span> <span class="s1">''</span><span class="o">,</span> <span class="nl">logLevel:</span> <span class="s1">'true'</span><span class="o">,</span> <span class="err">\</span>
        <span class="nl">policy:</span> <span class="s1">'critical'</span><span class="o">,</span> <span class="nl">repository:</span> <span class="s1">'huttermann-docker-local.jfrog.io/michaelhuettermann/alpine-tomcat7'</span><span class="o">,</span> <span class="err">\</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="nl">requirePackageUpdate:</span> <span class="kc">false</span><span class="o">,</span> <span class="nl">tag:</span> <span class="s2">"$version"</span><span class="o">,</span> <span class="nl">timeout:</span> <span class="mi">10</span>
<span class="o">}</span>

<span class="n">stage</span><span class="o">(</span><span class="s1">'Twistlock: Publish'</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="n">String</span> <span class="n">version</span> <span class="o">=</span> <span class="n">readFile</span><span class="o">(</span><span class="s1">'version.properties '</span><span class="o">).</span><span class="na">trim</span><span class="o">()</span>
    <span class="n">println</span> <span class="s2">"Publishing scan results for version: ${version}"</span>
    <span class="n">twistlockPublish</span> <span class="nl">ca:</span> <span class="s1">''</span><span class="o">,</span> <span class="nl">cert:</span> <span class="s1">''</span><span class="o">,</span> <span class="err">\</span>
        <span class="nl">dockerAddress:</span> <span class="s1">'unix:///var/run/docker.sock'</span><span class="o">,</span> <span class="nl">key:</span> <span class="s1">''</span><span class="o">,</span> <span class="err">\</span>
        <span class="nl">logLevel:</span> <span class="s1">'true'</span><span class="o">,</span> <span class="nl">repository:</span> <span class="s1">'huttermann-docker-local.jfrog.io/michaelhuettermann/alpine-tomcat7'</span><span class="o">,</span> <span class="nl">tag:</span> <span class="s2">"$version"</span><span class="o">,</span> <span class="err">\</span>
        <span class="nl">timeout:</span> <span class="mi">10</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Twistlock inspection as part of the sequence of stages in Jenkinsfile</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Nailing down the version of the to be inspected image, dynamically</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Configuring analysis including vulnerability severity level</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Publishing the inspection results to Twistlock console, that is the dashboard</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now let&#8217;s start with the first phase to bring our application in shape again, that is gaining insight about the security related flaws.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="phase-1-gain-insights-about-security-related-flaws"><a class="anchor" href="#phase-1-gain-insights-about-security-related-flaws"></a>Phase 1: Gain insights about security related flaws</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After we&#8217;ve introduced the new quality gate, it failed, see image above. As integration with other tools, Jenkins is the automation engine and does provide helpful context information,
however, those cannot replace features and data the dedicated, triggered tool does offer. Thus, this is the moment to switch to the dedicated tool, that is Twistlock. Opening
the dashboard, we can navigate to the Jenkins build jobs, that is the specific run of the build, and the respective results of the Twistlock analysis. What we see now is a list
of vulnerabilities, and we need to fix those of severity <em>critical</em> in order to pass the quality gate, and get our changes again toward production. The list shows entries of
type <em>jar</em>, that is a finding in a binary as part of the Docker image, in our case the WAR file we&#8217;ve deployed to a web container (Tomcat), and of type <em>OS</em>, those are issues of the underlying image itself, the
operating system, either part of the base image, or as a package added/changed in our Dockerfile.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/02.png" alt="02" title="Twistlock findings: overview."></span></p>
</div>
<div class="paragraph">
<p>We can now easily zoom in and examine the vulnerabilities of the Docker layers. This really helps to structure work and identify root causes. Since, typically,
a Docker image extends a Docker base image, the findings in the base image are shown on the top, see next screenshot, grouped by severity.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/03.png" alt="03" title="Twistlock also displays the vulnerabilities according to Docker layers. Findings based on the base image are listed at the top."></span></p>
</div>
<div class="paragraph">
<p>Other Docker layers were added to the base image, and those can add vulnerabilities too. In our case, the packaged WAR file obviously contains a vulnerability. The next image shows how we examine that finding, while this time
expanding the Twistlock wizard (that is the plus sign) to directly see the list of found vulnerabilities.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/04.png" alt="04" title="Twistlock recursively inspects embedded binaries auch as the WAR with its libraries. Here the wizard is expanded showing all vulnerabilities of this layer. On the right side, we can move over the different sections of our Dockerfile."></span></p>
</div>
<div class="paragraph">
<p>Finding and visualizing the issues are a very good first step, and we&#8217;ve even made those findings actionable, so we now have to take action and address them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="phase-2-address-the-findings"><a class="anchor" href="#phase-2-address-the-findings"></a>Phase 2: Address the findings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To address the findings, we need to split our initiative into two parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fixing the critical vulnerabilities related to the Docker image (in our case largely the base image)</p>
</li>
<li>
<p>Fixing the critical vulnerabilities related to the embedded deployment unit (in our case the WAR)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Let&#8217;s proceed bottom up, first coping with the Docker base image.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is an easy example covering multiple scenarios particularly identifying and fixing vulnerabilities in transitive binaries, i.e. binaries contained in
other binaries, e.g. a Docker image containing a WAR file that in turn contains libraries. To expand this vertical feasibility spike, you can easily add
more units of each layer, or add more abstractions, however, the idea can always be nailed down to the primitives, covered in this blog post.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s now have a look at the used Docker image by looking at the used Dockerfile.</p>
</div>
<div class="listingblock">
<div class="title">Dockerfile: The Dockerfile based on Alpine, running OpenJDK 8</div>
<div class="content">
<pre class="rouge highlight nowrap"><code>FROM openjdk:8-jre-alpine <i class="conum" data-value="1"></i><b>(1)</b>
LABEL maintainer "michael@huettermann.net"

# Domain of your Artifactory. Any other storage and URI download link works, just change the ADD command, see below.
ARG ARTI
ARG VER

# Expose web port
EXPOSE 8080

# Tomcat Version
ENV TOMCAT_VERSION_MAJOR 9 <i class="conum" data-value="2"></i><b>(2)</b>
ENV TOMCAT_VERSION_FULL  9.0.6

# Download, install, housekeeping
RUN apk add --update curl &amp;&amp;\  <i class="conum" data-value="3"></i><b>(3)</b>
  apk add bash &amp;&amp;\
  #apk add -u libx11 &amp;&amp;\  <i class="conum" data-value="4"></i><b>(4)</b>
  mkdir /opt &amp;&amp;\
  curl -LO ${ARTI}/list/generic-local/apache/org/tomcat/tomcat-${TOMCAT_VERSION_MAJOR}/v${TOMCAT_VERSION_FULL}/bin/apache-tomcat-${TOMCAT_VERSION_FULL}.tar.gz &amp;&amp;\
  gunzip -c apache-tomcat-${TOMCAT_VERSION_FULL}.tar.gz | tar -xf - -C /opt &amp;&amp;\
  rm -f apache-tomcat-${TOMCAT_VERSION_FULL}.tar.gz &amp;&amp;\
  ln -s /opt/apache-tomcat-${TOMCAT_VERSION_FULL} /opt/tomcat &amp;&amp;\
  rm -rf /opt/tomcat/webapps/examples /opt/tomcat/webapps/docs &amp;&amp;\
  apk del curl &amp;&amp;\
  rm -rf /var/cache/apk/*

# Download and deploy the Java EE WAR
ADD http://${ARTI}/list/libs-release-local/com/huettermann/web/${VER}/all-${VER}.war /opt/tomcat/webapps/all.war <i class="conum" data-value="5"></i><b>(5)</b>

RUN chmod 755 /opt/tomcat/webapps/*.war

# Set environment
ENV CATALINA_HOME /opt/tomcat

# Start Tomcat on startup
CMD ${CATALINA_HOME}/bin/catalina.sh run</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Base image ships OpenJDK 8, on Alpine</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Defined version of web container</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Applying some defined steps to configure Alpine, according to requirements</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Updating package itself would address one vulnerability already</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Deploying the application</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By checking available versions of the official OpenJDK Alpine image, we see that there&#8217;s a newer version 8u181 which we could use.
We can zoom in and study release notes and contents, or we just pragmatically switch the base image to a more recent version. Often it is a good idea
to upgrade versions regularly, in defined intervals. This leads to the following change in the Dockerfile.</p>
</div>
<div class="listingblock">
<div class="title">Dockerfile (excerpt): The Dockerfile based on Alpine, running OpenJDK 8u181</div>
<div class="content">
<pre class="rouge highlight nowrap"><code>FROM openjdk:8u181-jre-alpine <i class="conum" data-value="1"></i><b>(1)</b>
LABEL maintainer "michael@huettermann.net"</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Base image is now OpenJDK 8u181, on Alpine</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are more options available to fix the issues, but let&#8217;s proceed to the second part, the vulnerabilities in the deployment unit.</p>
</div>
<div class="paragraph">
<p>Before we push this change to GitHub, we also address the vulnerability issue in the deployment unit, that is <em>jetty-io</em>. Here we are a bit unsure about
why, in this specific use case, the library is used. To retrieve more information about dependencies, we run a <em>dependency:tree</em> command on our Maven
based project. We now see that jetty-io is transitively referenced by <em>org.seleniumhq.selenium:htmlunit-driver</em>. We can surely discuss why this is a compile
dependency and the libraries are shipped as part of the WAR, but let&#8217;s consider this to be given according to requirements, thus we must take special attention now
to version 2.29.0 of the specific library.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/05.png" alt="05" title="Inspecting the dependency structure, with the used build tool"></span></p>
</div>
<div class="paragraph">
<p>Also here we can browse release notes and content (particularly how those libs are built themselves), and come to the conclusion to
switch from the used version, that is <em>2.29.0</em>, to a newer version of <em>htmlunit-driver</em>, that is <em>2.31.1</em>.</p>
</div>
<div class="listingblock">
<div class="title">pom.xml (excerpt): Build file</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml">    <span class="nt">&lt;dependencies&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.seleniumhq.selenium<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>selenium-java<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>3.14.0<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.seleniumhq.selenium<span class="nt">&lt;/groupId&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="nt">&lt;artifactId&gt;</span>htmlunit-driver<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>2.31.1<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>4.7<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Part of the underlying POM defining dependencies</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Definition of the dependency, causing the vulnerability finding; we use a newer version now</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>OK, now we are done. We push the changes to GitHub, and our GitHub webhook directly triggers the workflow. This time the quality gate passes, so it
looks like our fixes did address the root causes and eliminated those with the configured threshold severity.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/06.png" alt="06" title="Part of the delivery pipeline, showing the quality gate passed and Docker image inspected without findings of severity CRITICAL"></span></p>
</div>
<div class="paragraph">
<p>Finally, after running through our entire workflow, that is made up of different pipelines, our inspected and quality assured container does successfully
run in our production runtime environment, that is on Oracle Cloud.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/jenkins-devsecops/07.png" alt="07" title="The quality assured Docker container runs in the Oracle Cloud."></span></p>
</div>
<div class="paragraph">
<p>Crisp, isn&#8217;t it?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary"><a class="anchor" href="#summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This closes our quick walkthrough of how to inject security related quality gates into a Jenkins based delivery pipeline.
We&#8217;ve discussed some concepts and how this can look like with sample tools.
In the center of our efforts, we used Jenkins, the swiss army knife of automation.
We enriched our ecosystem by integrating couple of platforms and tools, above all Twistlock.
After this tasty appetizer you are ready to assess your own delivery pipelines,
concepts and tools, and to possibly invest even more attention to security.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references"><a class="anchor" href="#references"></a>References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://huettermann.net/alm/">'Agile ALM', Manning, 2011</a></p>
</li>
<li>
<p><a href="http://huettermann.net/devops/">'DevOps for Developers', Apress, 2012</a></p>
</li>
<li>
<p><a href="https://www.docker.com/">Docker, the standard to develop and ship set of changes</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/_/openjdk/">Docker images, shipping OpenJDK</a></p>
</li>
<li>
<p><a href="https://cloud.oracle.com/en_US/containers">Oracle Cloud Infrastructure, for containers</a></p>
</li>
<li>
<p><a href="https://alpinelinux.org/">Alpine Linux</a></p>
</li>
<li>
<p><a href="https://www.sonarqube.org/">SonarQube, the language/platform agnostic Continuous Inspection tool</a></p>
</li>
<li>
<p><a href="https://www.twistlock.com/">Twistlock, the container security platform</a></p>
</li>
<li>
<p><a href="https://github.com/michaelhuettermann/sandbox/tree/master/all/">Sources on GitHub</a></p>
</li>
<li>
<p><a href="https://de.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange">ASCII, commonly used standard to work on primitives, such as Docker (and their aggregations)</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures">Common Vulnerabilities and Exposures</a></p>
</li>
<li>
<p><a href="https://youtu.be/jBGFjFc6Jf8?t=1427">Holistic pipelines, Live 15-minute Jenkins Demos, Part 1, on YouTube</a></p>
</li>
<li>
<p><a href="https://youtu.be/rS_pchiwGdM?t=95">Holistic pipelines, Live 15-minute Jenkins Demos, Part 2, on YouTube</a></p>
</li>
<li>
<p><a href="/blog/2017/04/18/continuousdelivery-devops-sonarqube/">Delivery Pipelines, with Jenkins 2, SonarQube, and Artifactory</a></p>
</li>
<li>
<p><a href="/blog/2017/07/05/continuousdelivery-devops-artifactory/">Delivery pipelines, with Jenkins 2: how to promote Java EE and Docker binaries toward production</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/devops/">
devops
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/devsecops/">
devsecops
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/security/">
security
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/vulnerabilities/">
vulnerabilities
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/compliance/">
compliance
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/twistlock/">
twistlock
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px">
<img alt="Michael Hüttermann" class="app-avatar__image" src="/jenkins.io/independent-scrolling-patch/images/avatars/michaelhuettermann.jpg">
</div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/michaelhuettermann/">
Michael Hüttermann
</a>
</p>
<div class="paragraph">
<p>Michael is expert in Continuous Delivery, DevOps and SCM/ALM supporting enterprises in implementing DevOps.
Michael is Jenkins Ambassador.</p>
</div>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/michaelhuettermann" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
<li>
<a href="https://twitter.com/huettermann" rel="noreferrer noopener" target="_blank">
Twitter
</a>
</li>
<li>
<a href="http://huettermann.net" rel="noreferrer noopener" target="_blank">
Blog
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2018/11/2018-11-12-inspecting-binaries-with-jenkins.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
