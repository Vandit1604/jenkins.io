<!DOCTYPE html>
<html lang="en">
<head>
<title>
Upgrading to Jenkins LTS 2.7.x
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.7/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Upgrading to Jenkins LTS 2.7.x" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Upgrading to Jenkins LTS 2.7.x" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Upgrading to Jenkins LTS 2.7.x" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.7/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Upgrading to Jenkins LTS 2.7.x" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="active">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<h1>
Upgrading to Jenkins LTS 2.7.x
</h1>
<p>
Each section covers the upgrade from the previous LTS release,
the section on 2.7.1 covers the upgrade from  1.651.3.
</p>
<h3 id="upgrading-to-jenkins-lts-2-7-4">
Upgrading to Jenkins 2.7.4
</h3>
<div class="paragraph">
<p>This release only fixed a regression introduced in 2.7.3. No upgrade notes for this release exist.</p>
</div>
<h3 id="upgrading-to-jenkins-lts-2-7-3">
Upgrading to Jenkins 2.7.3
</h3>
<div class="sect3">
<h4 id="enforced-upgrade-of-detached-plugins"><a class="anchor" href="#enforced-upgrade-of-detached-plugins"></a>Enforced upgrade of detached plugins</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-37041">JENKINS-37041</a></p>
</div>
<div class="paragraph">
<p>Jenkins will now ensure that detached plugins, i.e. those whose functionality used to be part of Jenkins core but was moved into a plugin, are always at least the bundled version. A message will be printed to the log informing administrators of this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Upgraded detached plugins (and dependencies)</pre>
</div>
</div>
</div>
<h3 id="upgrading-to-jenkins-lts-2-7-2">
Upgrading to Jenkins 2.7.2
</h3>
<div class="sect3">
<h4 id="support-for-http_proxy-environment-variable-in-remoting-component"><a class="anchor" href="#support-for-http_proxy-environment-variable-in-remoting-component"></a>Support for HTTP_PROXY environment variable in remoting component</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-32326">JENKINS-32326</a></p>
</div>
<div class="paragraph">
<p>Support for HTTP proxy exclusion in the build agent launcher was added. Build agents that define this variable, but whose connection to the Jenkins controller relies on it not being enabled may now fail to to connect to Jenkins. The solution is to fix the proxy configuration as passed to the agent process.</p>
</div>
</div>
<h3 id="upgrading-to-jenkins-lts-2-7-1">
Upgrading to Jenkins 2.7.1
</h3>
<div class="sect3">
<h4 id="setup-wizard"><a class="anchor" href="#setup-wizard"></a>Setup wizard</h4>
<div class="paragraph">
<p>The new user experience for Jenkins 2 was overhauled, and instances now start with a setup wizard that sets up a very conservative security configuration and guides users through installation of a recommended set of plugins.</p>
</div>
<div class="paragraph">
<p>For automatic deployments setting up a preconfigured environment e.g. using <a href="https://wiki.jenkins.io/display/JENKINS/Post-initialization+script"><code>init.groovy</code> or <code>init.groovy.d/</code></a>, the System property <a href="/doc/book/managing/system-properties/"><code>jenkins.install.runSetupWizard</code></a> allows skipping the setup wizard:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">java -Djenkins.install.runSetupWizard=false -jar jenkins.war</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="servlet-3-1-requirement"><a class="anchor" href="#servlet-3-1-requirement"></a>Servlet 3.1 requirement</h4>
<div class="paragraph">
<p>Jenkins now requires Servlet API 3.1.</p>
</div>
<div class="paragraph">
<p>Administrators running Jenkins on non-default servlet containers, such as Tomcat or Websphere, need to ensure the container is capable of Servlet 3.1.</p>
</div>
<div class="paragraph">
<p>The embedded Winstone-Jetty container has been upgraded to support Servlet 3.1.</p>
</div>
</div>
<div class="sect3">
<h4 id="ajp-support-removed-from-winstone-jetty"><a class="anchor" href="#ajp-support-removed-from-winstone-jetty"></a>AJP support removed from Winstone-Jetty</h4>
<div class="paragraph">
<p>The embedded Winstone-Jetty container has been upgraded and dropped support for the AJP protocol. If you&#8217;re using this protocol for communication between Jenkins and a reverse proxy, you will need to switch to HTTP, or use a different servlet container.</p>
</div>
<div class="paragraph">
<p>If you installed Jenkins using one of the native packages, it may enable AJP support by default, even if you&#8217;ve never used it. As the related command-line argument to <code>java -jar jenkins.war</code> has been dropped, it is possible that Jenkins will refuse to start after an upgrade, citing an unexpected argument. In that case, you need to edit the service configuration files (e.g. <code>/etc/default/jenkins</code> or <code>/etc/sysconfig/jenkins</code>) to remove that parameter.</p>
</div>
</div>
<div class="sect3">
<h4 id="different-bundled-plugins-mechanism"><a class="anchor" href="#different-bundled-plugins-mechanism"></a>Different bundled plugins mechanism</h4>
<div class="paragraph">
<p>In Jenkins 2, we removed the concept of <em>bundled plugins</em>. Now, Jenkins can be used with no plugins installed, and all installed plugins can be uninstalled. The new setup wizard allows users to quickly select what plugins to install from among the most popular plugins.</p>
</div>
<div class="paragraph">
<p>Detached plugins, i.e. those whose functionality used to be part of Jenkins core but was moved into a plugin, will now only be installed if Jenkins detects an upgrade from a version before the plugin was detached. This is still required to retain configuration-level compatibility when upgrading Jenkins. If you&#8217;ve been running Jenkins offline, please note that no plugins will be installed by default, and that many plugins will implicitly depend on formerly bundled plugins due to the compatibility mechanism mentioned.</p>
</div>
<div class="paragraph">
<p><strong>Workaround</strong>: The following plugins (and their dependencies documented on their wiki pages) should always be installed by default, or installation of new plugins by uploading them to Jenkins may fail (list applies to Jenkins 2.7.x): <em>maven-plugin, subversion, cvs, ant, javadoc, external-monitor-job, ldap, pam-auth, mailer, matrix-auth, windows-slaves, antisamy-markup-formatter, matrix-project, junit</em>.</p>
</div>
<div class="paragraph">
<p><strong>Workaround</strong>: Set up a private update site such as <a href="/blog/2015/07/14/juseppe-a-custom-update-site-for-jenkins/">Juseppe</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="groovy-upgraded-to-2-4-7"><a class="anchor" href="#groovy-upgraded-to-2-4-7"></a>Groovy upgraded to 2.4.7</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-21249">JENKINS-21249</a>, <a href="https://issues.jenkins.io/browse/JENKINS-38503">JENKINS-33358</a></p>
</div>
<div class="paragraph">
<p>Groovy has been upgraded from 1.8.9 to 2.4.7.</p>
</div>
<div class="paragraph">
<p>One possible side effect is a memory leak described in JENKINS-33358 and <a href="https://issues.apache.org/jira/browse/GROOVY-7591">GROOVY-7591</a>. If you experience this issue, you can set the system property <code>groovy.use.classvalue</code> to <code>true</code> to restore the previous behavior. Example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">java -Dgroovy.use.classvalue=true -jar jenkins.war</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="changes-in-ui-theme"><a class="anchor" href="#changes-in-ui-theme"></a>Changes in UI theme</h4>
<div class="paragraph">
<p>Jenkins 2 introduced changes to the UI of the New Item page and various configuration pages that may impact custom CSS/JS (injected e.g. using the <a href="https://plugins.jenkins.io/simple-theme-plugin">Simple Theme Plugin</a>) relying on the DOM or other features of the Jenkins UI.</p>
</div>
<div class="paragraph">
<p>Please note that we do not guarantee any UI level backwards compatibility for custom themes.</p>
</div>
</div>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/upgrade-guide.html.haml"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
