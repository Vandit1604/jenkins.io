<!DOCTYPE html>
<html lang="en">
<head>
<title>
Jenkins Security Advisory 2019-07-17
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/security/advisory/2019-07-17/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Jenkins Security Advisory 2019-07-17" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Jenkins Security Advisory 2019-07-17" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Jenkins Security Advisory 2019-07-17" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/security/advisory/2019-07-17/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Jenkins Security Advisory 2019-07-17" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body">
<div class="col-lg-3">
<div class="sidebar-nav tour">
<p>
<a href="/jenkins.io/independent-scrolling-patch/security/" class="">Jenkins Security Home</a>
</p>
<strong>
For Administrators
</strong>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/for-administrators/" class="">Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/advisories/" class="">Security Advisories</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/scheduling/" class="">Advisory Schedule</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/plugins/" class="">Vulnerabilities in Plugins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/fixing/" class="">How We Fix Security Issues</a>
</li>
</ul>
<strong>
For Reporters
</strong>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/reporting/" class="">Reporting Vulnerabilities</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/cna/" class="">Jenkins CNA</a>
</li>
</ul>
<strong>
For Maintainers
</strong>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/for-maintainers/" class="">Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/plugins/" class="">Vulnerabilities in Plugins</a>
</li>
</ul>
<strong>
Jenkins Security Team
</strong>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/team/" class="">About</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/security/improvements/" class="">Contributions</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<h1>
Jenkins Security Advisory 2019-07-17
</h1>
<p>
This advisory announces vulnerabilities in the following Jenkins deliverables:
</p>
<p>
<ul>
<li>
Jenkins (core)
</li>
</ul>
</p>
<h2>
Descriptions
</h2>
<h3 id="SECURITY-1424">
Arbitrary file write vulnerability using file parameter definitions
</h3>
<strong>
SECURITY-1424
/
CVE-2019-10352
</strong>
<br>
<strong>
Severity (CVSS):
</strong>
<a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N">
Medium
</a>
<br>
<strong>
Description:
</strong>
<div class="paragraph">
<p>Users with Job/Configure permission could specify a relative path escaping the base directory in the file name portion of a file parameter definition.
This path would be used to store the uploaded file on the Jenkins controller, resulting in an arbitrary file write vulnerability.</p>
</div>
<div class="paragraph">
<p>File parameters that escape the base directory are no longer accepted and the build will fail.</p>
</div>
<div class="paragraph">
<p>This vulnerability is the result of an incomplete fix for <a href="/security/advisory/2018-10-10/#SECURITY-1074">SECURITY-1074</a>.</p>
</div>
<h3 id="SECURITY-626">
CSRF protection tokens did not expire
</h3>
<strong>
SECURITY-626
/
CVE-2019-10353
</strong>
<br>
<strong>
Severity (CVSS):
</strong>
<a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:L">
High
</a>
<br>
<strong>
Description:
</strong>
<div class="paragraph">
<p>By default, CSRF tokens in Jenkins only checked user authentication and IP address.
This allowed attackers able to obtain a CSRF token for another user to implement CSRF attacks as long as the victim&#8217;s IP address remained unchanged.</p>
</div>
<div class="paragraph">
<p>CSRF tokens will now also check the web session ID to confirm they were created in the same session.
Once that&#8217;s invalidated or expired, corresponding CSRF tokens will become invalid as well.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This fix may impact scripts that obtain a crumb from the crumb issuer API. They may need to be updated to retain the session ID for subsequent requests.
For further information, see the <a href="/doc/upgrade-guide/2.176/#SECURITY-626">LTS upgrade guide</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We also publish the <a href="https://plugins.jenkins.io/strict-crumb-issuer">Strict Crumb Issuer Plugin</a> which contains additional protection mechanisms that give administrators more fine-grained control over the validity of CSRF tokens.
We plan to improve the built-in default crumb issuer based on user feedback of this implementation.</p>
</div>
<h3 id="SECURITY-534">
Unauthorized view fragment access
</h3>
<strong>
SECURITY-534
/
CVE-2019-10354
</strong>
<br>
<strong>
Severity (CVSS):
</strong>
<a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N">
Medium
</a>
<br>
<strong>
Description:
</strong>
<div class="paragraph">
<p>Jenkins uses the Stapler web framework to render its UI views.
These views are frequently composed of several view fragments, enabling plugins to extend existing views with more content.</p>
</div>
<div class="paragraph">
<p>In some cases attackers could directly access a view fragment containing sensitive information, bypassing any permission checks in the corresponding view.</p>
</div>
<div class="paragraph">
<p>The Stapler web framework has been extended with a Service Provider Interface (SPI) that allows preventing views from being rendered.
The implementation of that SPI in Jenkins now prevents view fragments from being rendered.
Further details are available in the <a href="/doc/developer/views/SECURITY-534">developer documentation</a>.</p>
</div>
<div class="paragraph">
<p>Most views in Jenkins and Jenkins plugins should be compatible with this change.
We track known affected plugins and their status in <a href="https://wiki.jenkins.io/display/JENKINS/Plugins+affected+by+the+SECURITY-534+fix">the Jenkins wiki</a>.</p>
</div>
<div class="paragraph">
<p>In rare cases, it may be desirable to disable this fix.
To do so, set the Java system property <code>jenkins.security.stapler.StaplerDispatchValidator.disabled</code> to <code>true</code>.
<a href="/doc/book/managing/system-properties/">Learn more about system properties in Jenkins</a>.</p>
</div>
<h2>
Severity
</h2>
<ul>
<li>
SECURITY-534:
<a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N">
Medium
</a>
</li>
<li>
SECURITY-626:
<a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:H/A:L">
High
</a>
</li>
<li>
SECURITY-1424:
<a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N">
Medium
</a>
</li>
</ul>
<h2>
Affected Versions
</h2>
<ul>
<li>
Jenkins weekly up to and including
2.185
</li>
<li>
Jenkins LTS up to and including
2.176.1
</li>
</ul>
<h2>
Fix
</h2>
<ul>
<li>
Jenkins weekly should be updated to version
2.186
</li>
<li>
Jenkins LTS should be updated to version
2.176.2
</li>
</ul>
<p>
These versions include fixes to the vulnerabilities described above. All prior versions are considered to be affected by these vulnerabilities unless otherwise indicated.
</p>
<h2>
Credit
</h2>
<p>
The Jenkins project would like to thank the reporters for discovering and
<a href="/jenkins.io/independent-scrolling-patch/security/#reporting-vulnerabilities">
reporting
</a>
these vulnerabilities:
<ul>
<li>
<strong>
Conor O'Neill of Tenable
</strong>
for
SECURITY-1424
</li>
<li>
<strong>
Jesse Glick, CloudBees, Inc.
</strong>
for
SECURITY-534
</li>
</ul>
</p>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//security/advisory/2019-07-17.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
