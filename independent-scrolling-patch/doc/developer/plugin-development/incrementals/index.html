<!DOCTYPE html>
<html lang="en">
<head>
<title>
Incrementals: Developing Components in Parallel
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="This article explains how to use Incrementals for developing plugins in parallel with Jenkins core" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/incrementals/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Incrementals: Developing Components in Parallel" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Incrementals: Developing Components in Parallel" name="twitter:title">
<meta content="This article explains how to use Incrementals for developing plugins in parallel with Jenkins core" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Incrementals: Developing Components in Parallel" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/incrementals/" property="og:url">
<meta content="This article explains how to use Incrementals for developing plugins in parallel with Jenkins core" name="og:description">
<meta content="Incrementals: Developing Components in Parallel" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<style>
  h4 {
    font-size: 22px;
  }
  div.container .row.body {
    margin-right: 1em;
    margin-left: 1em;
    padding-left: 0;
    padding-right: 0;
  }
  .toc {
      float: right;
  }
  div.sidebar-nav > ul {
    list-style: none;
    padding-inline-start: 2em;
  }
  ion-icon {
    color: #bf6900;
  }
  .jenkins-developer-chapters {
    list-style: none;
    padding-inline-start: 0;
    padding-left: 0;
    padding-right: 0;
  }
  #dev-docs {
    margin-bottom: 1em;
  }
  #reference-topics {
    font-weight: normal;
  }
  #reference-topics:active {
    font-weight: bold;
  }
  #taglibs {
    margin-bottom: 2em;
    font-weight: normal;
  }
  #taglibs:active {
    font-weight: bold;
  }
  #how-to-guides {
    font-weight: normal;
  }
  #how-to-guides:active {
    font-weight: bold;
  }
  #plugin-tutorial {
    font-weight: normal;
  }
  #plugin-tutorial:active {
    font-weight: bold;
  }
  #javadoc {
    font-weight: normal;
  }
  #javadoc:active {
    font-weight: bold;
  }
</style>
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-8 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-nowrap">
<div class="col-4" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/" class="">> Developer Documentation Home</a>
</p>
<h4 id="dev-docs">
Developer Documentation
</h4>
<h5 id="plugin-tutorial">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/tutorial/" class="">Plugin Tutorial</a>
</h5>
<h5 id="how-to-guides">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/guides/" class="">How-To Guides</a>
</h5>
<h5 id="reference-topics">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/book/" class="">Reference Topics</a>
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/architecture/" class="">Architecture</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/initialization/" class="">Initialization and Startup</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/extensibility/" class="">Extensibility</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/model/" class="">Model</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/handling-requests/" class="">Handling Requests</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/security/" class="">Security</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/persistence/" class="">Persistent Objects</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/scheduling/" class="">Scheduling</a>
<span title="Early work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/views/" class="">Views</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/forms/" class="">Forms</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/internationalization/" class="">Internationalization and Localization</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/distributed-builds/" class="">Distributed Builds</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/cli/" class="">Jenkins CLI</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/testing/" class="">Testing</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/telemetry/" class="">Telemetry</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/" class="active">Plugin Development</a>
<small>
<ul style="padding-left: 1rem;">
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/build-process/" class="">Plugin Build Process</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/choosing-jenkins-baseline/" class="">Choosing a Jenkins version to build against</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/dependency-management/" class="">Dependency Management</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/dependencies-and-class-loading/" class="">Dependencies and Class Loading</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/optional-dependencies/" class="">Optional dependencies</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/plugin-release-tips/" class="">Plugin Release Tips</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/incrementals/" class="active">Incrementals: Developing Components in Parallel</a>
</li>
</ul>
</small>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-governance/" class="">Plugin Governance</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/publishing/" class="">Publishing Plugins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/blueocean-plugin-development/" class="">Blue Ocean</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/building/" class="">Building and Debugging</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/development-environment/" class="">Development Environment</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/crowdin/" class="">Jenkins Crowdin Integration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/tutorial-improve/" class="">Improve a Plugin Tutorial</a>
</li>
</ul>
<h5>
Resources
</h5>
<h6 style="padding-left: 2rem;">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/extensions/" class="">Extensions Index</a>
</h6>
<h6 id="javadoc" style="padding-left: 2rem;">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/javadoc/" class="">Javadoc</a>
</h6>
<h6 id="taglibs" style="padding-left: 2rem;">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/development-environment/taglibs/" class="">Taglibs</a>
</h6>
<h5>
Tools
</h5>
<ul>
<li>
<a href="https://jenkinsci.github.io/maven-hpi-plugin/" rel="noreferrer noopener" target="_blank">
Maven HPI Plugin
</a>
</li>
</ul>
</div>
</div>
<div class="col-8">
<h1>
Incrementals: Developing Components in Parallel
</h1>
<div class="paragraph">
<p>A problem one might stumble upon is developing an API in Jenkins core and simultaneously building a reference
implementation inside a plugin.
Another similar but maybe more common problem could be developing an API in a base plugin (upstream) and consuming it
in a more specific plugin (downstream).
What to do, one might ask.</p>
</div>
<div class="paragraph">
<p>Worry not, incrementals are here to the rescue!</p>
</div>
<div class="paragraph">
<p>With incrementals, we can create incremental versions of Jenkins core or an upstream plugin on which the under
development downstream plugin can depend upon.
It also allows keeping track and switching between incremental versions.
Another advantage is that it allows others to test and collaborate more easily on the project!</p>
</div>
<div class="paragraph">
<p>Sounds cool? Let&#8217;s see how to go about it.
In this tutorial, we explain with the example of developing an API in core and consuming it in a plugin.
However these steps are very similar for when using an upstream plugin instead of Jenkins core.</p>
</div>
<div class="paragraph">
<p>This article is meant to be a quickstart for the consumption of incrementals.
For more details, please refer to the <a href="https://github.com/jenkinsci/incrementals-tools">incrementals documentation</a>.</p>
</div>
<div class="sect1">
<h2 id="enabling-incrementals"><a class="anchor" href="#enabling-incrementals"></a>Enabling Incrementals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Inside the (downstream) plugin, which is supposed to be the API consumer, you can enable incrementals by running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="shell">mvn incrementals:incrementalify</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-pull-request-in-jenkins-core"><a class="anchor" href="#create-a-pull-request-in-jenkins-core"></a>Create a Pull Request in Jenkins core</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next step is to <a href="https://github.com/jenkinsci/jenkins/pulls">create a PR on github</a> by clicking the "New Pull
Request" button and push the changes (your new API) to Jenkins core.
If instead you are developing the API inside an upstream plugin, then do the above in the upstream plugin repository.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/developer/plugin-development/incrementals/create-pr.png" alt="create pr">
</div>
</div>
<div class="paragraph">
<p>Note: Make sure that your branch has the latest changes from master, otherwise incrementals version
will NOT be created.
You can do this either by rebasing or by merging the latest changes from the master branch.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wait-for-all-checks-to-pass"><a class="anchor" href="#wait-for-all-checks-to-pass"></a>Wait for all checks to pass</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Wait for Jenkins to perform checks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="obtain-the-incrementals-version"><a class="anchor" href="#obtain-the-incrementals-version"></a>Obtain the Incrementals version</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After the checks are completed, you should get a message like below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/developer/plugin-development/incrementals/checks.png" alt="checks">
</div>
</div>
<div class="paragraph">
<p>Click on 'Details' adjacent to 'continuous-integration/jenkins/incrementals — Deployed to Incrementals.'</p>
</div>
<div class="paragraph">
<p>Note: If you only see one Github check 'continuous-integration/jenkins/pr-merge — This commit looks good' then there
is an error due to which incrementals version was not created.
One of the most likely reasons is that latest changes from master have not been pulled into the branch.
You can click on 'Details' adjacent to it to investigate this error from the logs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copy-the-version-id"><a class="anchor" href="#copy-the-version-id"></a>Copy the Version ID</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should be redirected to a page like below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/developer/plugin-development/incrementals/incrementals.png" alt="incrementals">
</div>
</div>
<div class="paragraph">
<p>Copy the version ID, which in this example would be <code>2.238-rc29961.5c3c5871cca6</code>.</p>
</div>
<div class="paragraph">
<p>Instead, you can also run the following in the upstream repository to obtain the incrementals version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code>mvn -Dset.changelist validate</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-the-plugin-pom"><a class="anchor" href="#update-the-plugin-pom"></a>Update the plugin POM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two changes you want to make to your plugin POM.</p>
</div>
<div class="paragraph">
<p>First, update the Jenkins version to the version ID copied in the previous step:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code>...
    &lt;properties&gt;
        &lt;jenkins.version&gt;2.238-rc29961.5c3c5871cca6&lt;/jenkins.version&gt;
        ...
    &lt;/properties&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case of upstream plugin, add its version in the <code>&lt;version&gt;</code> of your <code>&lt;dependency&gt;</code> inside the downstream plugin.</p>
</div>
<div class="paragraph">
<p>Now you can run your project like you normally do (say using <code>hpi:run</code>), and Jenkins will it automatically run it
against the incrementals version of the upstream project you specified.</p>
</div>
</div>
</div>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/developer/plugin-development/incrementals.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
