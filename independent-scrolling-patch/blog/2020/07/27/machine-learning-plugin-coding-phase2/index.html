<!DOCTYPE html>
<html lang="en">
<head>
<title>
Machine Learning Plugin project - Coding Phase 2 blog post
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Google Summer of Code 2020 - Machine Learning Plugin project update for Coding Phase 2" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2020/07/27/machine-learning-plugin-coding-phase2/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Machine Learning Plugin project - Coding Phase 2 blog post" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Machine Learning Plugin project - Coding Phase 2 blog post" name="twitter:title">
<meta content="Google Summer of Code 2020 - Machine Learning Plugin project update for Coding Phase 2" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/gsoc/2020/machine_learning_plugin/jenkins-gsoc-machine-learning-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Machine Learning Plugin project - Coding Phase 2 blog post" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2020/07/27/machine-learning-plugin-coding-phase2/" property="og:url">
<meta content="Google Summer of Code 2020 - Machine Learning Plugin project update for Coding Phase 2" name="og:description">
<meta content="Machine Learning Plugin project - Coding Phase 2 blog post" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/gsoc/2020/machine_learning_plugin/jenkins-gsoc-machine-learning-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Machine Learning Plugin project - Coding Phase 2 blog post
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/loghijiaha/"><div class="app-avatar"><img alt="Loghi Perinpanayagam" class="app-avatar__image" src="/images/avatars/loghijiaha.jpeg"></div> Loghi Perinpanayagam</a>
July 27, 2020
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Machine+Learning+Plugin+project+-+Coding+Phase+2+blog+post&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2020%2F07%2F27%2Fmachine-learning-plugin-coding-phase2%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="imageblock text-center">
<div class="content">
<img src="/images/gsoc/jenkins-gsoc-logo_small.png" alt="jenkins gsoc logo small">
</div>
</div>
<div class="paragraph">
<p>Welcome back folks!</p>
</div>
<div class="paragraph">
<p>This blog post is about my coding phase 2 in Jenkins <a href="/projects/gsoc/2020/projects/machine-learning/">Machine Learning Plugin</a> for this GSoC 2020.
After successfully passing the evaluation and demo in the phase 1, our team went ahead for facing the challenges in phase 2.</p>
</div>
<div class="sect1">
<h2 id="summary"><a class="anchor" href="#summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This phase of coding was well spent by documentation and by fixing many bugs.
As the main feature of connecting to an IPython Kernel is done in phase 1, we were able to focus on fixing minor/major bugs and documenting for the users.
According to the <a href="https://issues.jenkins.io/browse/JENKINS-62927">JENKINS-62927</a> issue, a Docker agent was built to facilitate users without concerning plugin dependencies in python.
In the act of deprecation of Python 2, we ported our plugin to support Python 3.
We have tested our plugin in Conda, venv and Windows environments.
Machine learning plugin has successfully passed the end to end test. A feature for a code editor is needed for further discussion/analysis as we have done a simple editor that may be useful in other ways in the future. <a href="https://github.com/jenkinsci/machine-learning-plugin/pull/35">PR#35</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="main-features-of-machine-learning-plugin"><a class="anchor" href="#main-features-of-machine-learning-plugin"></a>Main features of Machine Learning plugin</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Run Jupyter notebook, (Zeppelin) JSON and Python files</p>
</li>
<li>
<p>Run Python code directly</p>
</li>
<li>
<p>Convert Jupyter Notebooks to Python and JSON</p>
</li>
<li>
<p>Configure IPython kernel properties</p>
</li>
<li>
<p>Support to execute Notebooks/Python on Agent</p>
</li>
<li>
<p>Support for Windows and Linux</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upcoming-features"><a class="anchor" href="#upcoming-features"></a>Upcoming features</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Extract graph/map/images from the code</p>
</li>
<li>
<p>Save artifacts according to the step name</p>
</li>
<li>
<p>Generate reports for corresponding build</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="future-improvements"><a class="anchor" href="#future-improvements"></a>Future improvements</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Usage of JupyterRestClient</p>
</li>
<li>
<p>Support for multiple language kernels</p>
<div class="ulist">
<ul>
<li>
<p>Note : There is no commitment on future improvements during GSoC period</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="docker-agent"><a class="anchor" href="#docker-agent"></a>Docker agent</h3>
<div class="paragraph">
<p>The following Dockerfile can be used to build the Docker container as an agent for the Machine Learning plugin. This docker agent can be used to run  notebooks or python scripts.</p>
</div>
<div class="listingblock">
<div class="title">Dockerfile</div>
<div class="content">
<pre class="rouge highlight nowrap"><code>FROM jenkins/agent:latest

MAINTAINER Loghi &lt;loghijiaha@gmail.com&gt;

USER root

RUN apt update &amp;&amp; apt install --no-install-recommends python3 -y \
    python3-pip \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

COPY requirements.txt /requirements.txt

RUN pip3 install --upgrade pip setuptools &amp;&amp; \
    pip3 install --no-cache-dir -r /requirements.txt &amp;&amp; \
    ln -sf /usr/bin/python3 /usr/bin/python &amp;&amp; \
    ln -sf /usr/bin/pip3 /usr/bin/pip

USER jenkins</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ported-to-python-3"><a class="anchor" href="#ported-to-python-3"></a>Ported to Python 3</h3>
<div class="paragraph">
<p>As discussed in the previous meeting, we concluded that the plugin should support Python 3 as Python 2.7+ has been deprecated since the beginning of 2020. Pull request for docker agent should be also ported to Python 3 support.</p>
</div>
</div>
<div class="sect2">
<h3 id="jupyter-rest-client-api"><a class="anchor" href="#jupyter-rest-client-api"></a>Jupyter Rest Client API</h3>
<div class="paragraph">
<p>The Jupyter Notebook server API seemed to be promising that it can be also used to run notebooks and codes. There were 3 api implementations that were merged in the master. But we had to focus on what was proposed in the design document and had to finish all must-have issues/works. Jupyter REST client was left for future implementation. It is also a good start to contribute to the plugin from the community.</p>
</div>
</div>
<div class="sect2">
<h3 id="fixed-bugs-for-running-in-agent"><a class="anchor" href="#fixed-bugs-for-running-in-agent"></a>Fixed bugs for running in agent</h3>
<div class="paragraph">
<p>There were a few bugs related to the file path of notebooks while building a job. The major problem was caused by the python dependencies needed to connect to a IPython kernel. All issues/bugs were fixed before the timeline given.</p>
</div>
</div>
<div class="sect2">
<h3 id="r-support-as-a-future-improvement"><a class="anchor" href="#r-support-as-a-future-improvement"></a>R support as a future improvement</h3>
<div class="paragraph">
<p>This is what we tried to give a glimpse of knowledge that this plugin can be extended for multi language support in the future. There was a conclusion that the kernel should be selected dynamically using extension of the script file(like <code>eval_model.rb</code> or <code>train_model.r</code>), instead of scripting the same code for each kernel.</p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-and-end-to-end-testing"><a class="anchor" href="#documentation-and-end-to-end-testing"></a>Documentation and End to End testing</h3>
<div class="paragraph">
<p>A well explained documentation was published in the repository. A guided tutorial to run a notebook checked out from a git repo in an agent was included in the <a href="https://github.com/jenkinsci/machine-learning-plugin/blob/master/docs/ML-docker-agent.adoc">docs</a> page. Mentors helped to test our plugin in both Linux and Windows.</p>
</div>
</div>
<div class="sect2">
<h3 id="code-editor-with-rebuild-feature"><a class="anchor" href="#code-editor-with-rebuild-feature"></a>Code editor with rebuild feature</h3>
<div class="paragraph">
<p>Code editor was filtered as a nice to have feature in the design document. After grabbing the idea of Jenkinsfile replay editor, I could do the same for the code. At the same time, when we are getting the source code from git, it is not an elegant way of editing code in the original code. After the discussion, we had to leave the PR open that may have use cases in the future if needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="jenkins-lts-update"><a class="anchor" href="#jenkins-lts-update"></a>Jenkins LTS update</h3>
<div class="paragraph">
<p>The plugin has been updated to support Jenkins LTS 2.204.1 as 2.164.3 had some problems with installing pipeline supported API/plugin</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation-for-experimental-version"><a class="anchor" href="#installation-for-experimental-version"></a>Installation for experimental version</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the <a href="/doc/developer/publishing/releasing-experimental-updates/#using-the-experimental-update-center">experimental update center</a></p>
</li>
<li>
<p>Search for <code>Machine Learning Plugin</code> and check the box along it.</p>
</li>
<li>
<p>Click on <code>Install without restart</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The plugin should now be installed on your system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="resources"><a class="anchor" href="#resources"></a>Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="/blog/2020/06/03/machine-learning-plugin-community-bonding/">Community Bonding blog post</a></p>
</li>
<li>
<p><a href="/blog/2020/06/30/machine-learning-plugin-coding-phase1/">Phase 1 blog post</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/machine-learning-plugin.git">Github</a></p>
</li>
<li>
<p><a href="/projects/gsoc/2020/projects/machine-learning/">Project page</a></p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/10FjktNmWpdjgbGg3tEViadV_JNevn9W0sMOu-bF8m-o/edit?usp=sharing">Design document</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/machinelearning/">
machinelearning
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/datascience/">
datascience
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/plugins/">
plugins
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/communitybonding/">
communitybonding
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/gsoc/">
gsoc
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/gsoc2020/">
gsoc2020
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px">
<img alt="Loghi Perinpanayagam" class="app-avatar__image" src="/jenkins.io/independent-scrolling-patch/images/avatars/loghijiaha.jpeg">
</div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/loghijiaha/">
Loghi Perinpanayagam
</a>
</p>
<div class="paragraph">
<p>He was a GSoC 2020 student, contributor and maintainer for <a href="https://plugins.jenkins.io/machine-learning">Machine Learning</a> for Jenkins project. Highly interested and contributing on open source projects.</p>
</div>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/lper1582" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
<li>
<a href="https://twitter.com/loghi5" rel="noreferrer noopener" target="_blank">
Twitter
</a>
</li>
<li>
<a href="https://www.linkedin.com/in/loghi" rel="noreferrer noopener" target="_blank">
LinkedIn
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2020/07/2020-07-27-machine-learning-plugin-coding-phase2.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
