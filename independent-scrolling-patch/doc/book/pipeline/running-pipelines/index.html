<!DOCTYPE html>
<html lang="en">
<head>
<title>
Running Pipelines
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/book/pipeline/running-pipelines/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Running Pipelines" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Running Pipelines" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Running Pipelines" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/book/pipeline/running-pipelines/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Running Pipelines" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="active">Pipeline</a>
<small>
<ul style="padding-left: 1rem;">
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/getting-started/" class="">Getting started with Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/jenkinsfile/" class="">Using a Jenkinsfile</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/running-pipelines/" class="active">Running Pipelines</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/multibranch/" class="">Branches and Pull Requests</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/docker/" class="">Using Docker with Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/shared-libraries/" class="">Extending with Shared Libraries</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/development/" class="">Pipeline Development Tools</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/pipeline-best-practices/" class="">Pipeline Best Practices</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/scaling-pipeline/" class="">Scaling Pipelines</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/cps-method-mismatches/" class="">Pipeline CPS Method Mismatches</a>
</li>
</ul>
</small>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<div>
<div class="row">
<div class="col-md-4">
<a class="prev doc-page-link" href="../jenkinsfile">
⇐ Using a Jenkinsfile
</a>
</div>
<div class="col-md-4">
<a class="up doc-page-link" href="../">
⇑ Pipeline
</a>
<a class="index doc-page-link" href="../../">
Index
</a>
</div>
<div class="col-md-4">
<a class="next doc-page-link" href="../multibranch">
Branches and Pull Requests ⇒
</a>
</div>
</div>
</div>
<div>
<div class="row body">
<div class="section">
<h1>
Running Pipelines
</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#running-a-pipeline">Running a Pipeline</a>
<ul class="sectlevel2">
<li><a href="#multibranch">Multibranch</a></li>
<li><a href="#parameters">Parameters</a></li>
</ul>
</li>
<li><a href="#restarting-or-rerunning-a-pipeline">Restarting or Rerunning a Pipeline</a>
<ul class="sectlevel2">
<li><a href="#replay">Replay</a></li>
<li><a href="#restart-from-a-stage">Restart from a Stage</a>
<ul class="sectlevel3">
<li><a href="#how-to-use">How to Use</a>
<ul class="sectlevel4">
<li><a href="#restarting-from-the-classic-ui">Restarting from the Classic UI</a></li>
<li><a href="#restarting-from-the-blue-ocean-ui">Restarting from the Blue Ocean UI</a></li>
</ul>
</li>
<li><a href="#preserving-stashes-for-use-with-restarted-stages">Preserving `stash`es for Use with Restarted Stages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#scheduling-jobs-in-jenkins">Scheduling jobs in Jenkins</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="running-a-pipeline"><a class="anchor" href="#running-a-pipeline"></a>Running a Pipeline</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="multibranch"><a class="anchor" href="#multibranch"></a>Multibranch</h3>
<div class="paragraph">
<p>See <a href="../multibranch/">the Multibranch documentation</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="parameters"><a class="anchor" href="#parameters"></a>Parameters</h3>
<div class="paragraph">
<p>See <a href="../jenkinsfile/#handling-parameters">the Jenkinsfile documentation</a> for more information</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="restarting-or-rerunning-a-pipeline"><a class="anchor" href="#restarting-or-rerunning-a-pipeline"></a>Restarting or Rerunning a Pipeline</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are a number of ways to rerun or restart a completed Pipeline.</p>
</div>
<div class="sect2">
<h3 id="replay"><a class="anchor" href="#replay"></a>Replay</h3>
<div class="paragraph">
<p>See <a href="../development/#replay">the Replay documentation</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="restart-from-a-stage"><a class="anchor" href="#restart-from-a-stage"></a>Restart from a Stage</h3>
<div class="paragraph">
<p>You can restart any completed Declarative Pipeline from any
top-level stage which ran in that Pipeline. This allows you to rerun a Pipeline from a stage which failed due to
transient or environmental considerations, for example. All inputs to the Pipeline will be the same. This includes
SCM information, build parameters, and the contents of any <code>stash</code> step calls in the original Pipeline, if specified.</p>
</div>
<div class="sect3">
<h4 id="how-to-use"><a class="anchor" href="#how-to-use"></a>How to Use</h4>
<div class="paragraph">
<p>No additional configuration is needed in the Jenkinsfile to allow you to restart stages in your Declarative Pipelines.
This is an inherent part of Declarative Pipelines and is available automatically.</p>
</div>
<div class="sect4">
<h5 id="restarting-from-the-classic-ui"><a class="anchor" href="#restarting-from-the-classic-ui"></a>Restarting from the Classic UI</h5>
<div class="paragraph">
<p>Once your Pipeline has completed, whether it succeeds or fails, you can go to the side panel for the run in the classic
UI and click on "Restart from Stage".</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../resources/pipeline/restart-stages-sidebar.png" alt="Restart from Stage link">
</div>
</div>
<div class="paragraph">
<p>You will be prompted to choose from a list of top-level stages that were executed in the original run, in the order
they were executed. Stages which were skipped due to an earlier failure will not be available to be restarted, but
stages which were skipped due to a <code>when</code> condition not being satisfied will be available. The parent stage for a
group of <code>parallel</code> stages, or a group of nested <code>stages</code> to be run sequentially will also not be available - only
top-level stages are allowed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../resources/pipeline/restart-stages-dropdown.png" alt="Choose the stage to restart">
</div>
</div>
<div class="paragraph">
<p>Once you choose a stage to restart from and click submit, a new build, with a new build number, will be started. All
stages before the selected stage will be skipped, and the Pipeline will start executing at the selected stage. From
that point on, the Pipeline will run as normal.</p>
</div>
</div>
<div class="sect4">
<h5 id="restarting-from-the-blue-ocean-ui"><a class="anchor" href="#restarting-from-the-blue-ocean-ui"></a>Restarting from the Blue Ocean UI</h5>
<div class="paragraph">
<p>Restarting stages can also be done in the Blue Ocean UI.  Once your Pipeline has completed, whether it succeeds
or fails, you can click on the node which represents the stage.  You can then click on the <code>Restart</code> link for
that stage.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../resources/pipeline/pipeline-restart-stages-blue-ocean.png" alt="Click on Restart link for stage">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Blue Ocean status</div>
<div class="paragraph">
<p>Blue Ocean will not receive further functionality updates.
Blue Ocean will continue to provide easy-to-use Pipeline visualization, but it will not be enhanced further.
It will only receive selective updates for significant security issues or functional defects.</p>
</div>
<div class="paragraph">
<p>Alternative options for Pipeline visualization, such as the <a href="https://plugins.jenkins.io/pipeline-stage-view/">Pipeline: Stage View</a> and <a href="https://plugins.jenkins.io/pipeline-graph-view/">Pipeline Graph View</a> plugins, are available and offer some of the same functionality.
While not complete replacements for Blue Ocean, contributions are encouraged from the community for continued development of these plugins.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="preserving-stashes-for-use-with-restarted-stages"><a class="anchor" href="#preserving-stashes-for-use-with-restarted-stages"></a>Preserving `stash`es for Use with Restarted Stages</h4>
<div class="paragraph">
<p>Normally, when you run the <code>stash</code> step in your Pipeline, the resulting stash of artifacts is cleared when the
Pipeline completes, regardless of the result of the Pipeline. Since <code>stash</code> artifacts aren&#8217;t accessible outside of the
Pipeline run that created them, this has not created any limitations on usage. But with Declarative stage restarting,
you may want to be able to <code>unstash</code> artifacts from a stage which ran before the stage you&#8217;re restarting from.</p>
</div>
<div class="paragraph">
<p>To enable this, there is a job property that allows you to configure a maximum number of completed runs whose
<code>stash</code> artifacts should be preserved for reuse in a restarted run. You can specify anywhere from 1 to 50 as the
number of runs to preserve.</p>
</div>
<div class="paragraph">
<p>This job property can be configured in your Declarative Pipeline&#8217;s <code>options</code> section, as below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="n">options</span> <span class="o">{</span>
    <span class="n">preserveStashes</span><span class="o">()</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="c1">// or</span>
    <span class="n">preserveStashes</span><span class="o">(</span><span class="nl">buildCount:</span> <span class="mi">5</span><span class="o">)</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The default number of runs to preserve is 1, just the most recent completed build.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If a number for <code>buildCount</code> outside of the range of 1 to 5 is specified, the Pipeline will fail with a
validation error.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a Pipeline completes, it will check to see if any previously completed runs should have their <code>stash</code> artifacts
cleared.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduling-jobs-in-jenkins"><a class="anchor" href="#scheduling-jobs-in-jenkins"></a>Scheduling jobs in Jenkins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The scheduling function lets you schedule jobs to run automatically during off-hours or down times.
Scheduling jobs can help you to scale your environment as Jenkins usage increases.
This video provides insight on the scheduling function and its various configuration options.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="800" height="420" src="https://www.youtube.com/embed/JhvVJtYFUm0?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
<div>
<div class="row">
<div class="col-md-4">
<a class="prev doc-page-link" href="../jenkinsfile">
⇐ Using a Jenkinsfile
</a>
</div>
<div class="col-md-4">
<a class="up doc-page-link" href="../">
⇑ Pipeline
</a>
<a class="index doc-page-link" href="../../">
Index
</a>
</div>
<div class="col-md-4">
<a class="next doc-page-link" href="../multibranch">
Branches and Pull Requests ⇒
</a>
</div>
</div>
</div>
<hr>
<div class="container"></div>
<!-- starting partial _feedback-footer.html -->
<!-- HTML inclusion for chapter and section layouts (i.e. as footers) as well as
     for use in AsciiDoc file inclusions. -->

<!--
This feedback form was prepared from a Google Form, based on the techniques in
the following documentation sources:
https://codepen.io/learningcode/post/customize-a-google-form-for-your-website,
https://mrhaki.blogspot.com.au/2014/06/awesome-asciidoc-include-raw-html.html,
https://www.freshtechtips.com/2013/05/custom-google-drive-contact-form.html,
https://stackoverflow.com/questions/24436165/set-value-of-hidden-input-inside-form
-->

<!-- Feedback form functionality in JavaScript - refer to comments in this file
     for details on the functionality. -->
<script>
var feedbackForm = {
    formKey : 'e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w'
};
$(document).ready(function() {
    window.onload = feedbackForm.start(window.location.href);
});
</script>
<script src="/js/feedback-form-functionality.js"></script>

<p><a href="#feedback" data-bs-toggle="collapse">Was this page helpful?</a></p>

<div id="feedback" class="collapse">

<p>Please submit your feedback about this page through this
<a href="/doc/feedback-form/">quick form</a>.</p>

<p>Alternatively, if you don't wish to complete the quick form, you can simply
indicate if you found this page helpful?</p>

<!-- Redirects to custom "thank you" page once form is submitted. -->
<script type="text/javascript">
var submitted=false;
</script>
<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
onload="if(submitted) {window.location='/doc/thank-you-for-your-feedback/';}">
</iframe>
<form action="https://docs.google.com/forms/d/e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w/formResponse" method="POST" id="ss-form" target="hidden_iframe" onsubmit="submitted=true;">

<!-- Set the value of the current URL into the form. -->
<input type="hidden" name="entry.1246830226" id="current-url" value=""/>

<!-- The answer bit -->
<p><input type="radio" name="entry.790002525" id="h1" value="Yes" required/>
<label for="h1">Yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
<input type="radio" name="entry.790002525" id="h2" value="No"/>
<label for="h2">No</label></p>

<!-- The CAPTCHA bit -->

<p><label id="ssTestLabel" for="ssTestValue"></label><br/>
<input type="text" name="ssTestValue" value="" id="ssTestValue"/></p>

<!-- Submit button -->

<p><input class="button" type="submit" value="Submit"/></p>

</form>

<p>See existing feedback <a href="https://docs.google.com/spreadsheets/d/1IIdpVs39JDYKg0sLQIv-MNO928qcGApAIfdW5ohfD78" target="_blank" rel="noreferrer noopener">here</a>.</p>

</div>

<!-- ending partial _feedback-footer.html -->

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/book/pipeline/running-pipelines.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
