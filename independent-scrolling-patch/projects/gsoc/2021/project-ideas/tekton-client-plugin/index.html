<!DOCTYPE html>
<html lang="en">
<head>
<title>
Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/projects/gsoc/2021/project-ideas/tekton-client-plugin/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/projects/gsoc/2021/project-ideas/tekton-client-plugin/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body">
<div class="col-lg-9">
<h1>
Tekton Pipelines DSL for Jenkins with the Tekton Client Plugin
</h1>
<p>
<strong>
Project goal:
</strong>
Manage Tekton resources via Pipeline Steps / Jenkinsfile
</p>
<p>
<strong>
Skills to study/improve:
</strong>
Java, Kubernetes, Tekton Pipelines
</p>
<h2 class="title">
Details
</h2>
<div class="sect2">
<h3 id="background"><a class="anchor" href="#background"></a>Background</h3>
<div class="paragraph">
<p>With the movement of traditional software architecture to microservices, there has been a growth in usage of container orchestration infrastructure (Kubernetes) and tooling around it. To adapt to this there have been plugins developed for Jenkins like the kubernetes-plugin which allow this transition to be smooth for the users to keep the same CI/CD platform and migrate their workloads.</p>
</div>
<div class="paragraph">
<p>Building on Kubernetes would mean that any CI/CD tool which has been Kubernetes-native built with building on Kubernetes as it’s main idea would thrive better than Jenkins itself. Leveraging this, we can use the capability of spinning pipelines on Tekton (Serverless CI/CD for Kubernetes) through Jenkins. Using the same vocabulary and ideas to execute Jobs from Jenkins and having the workloads of the Jobs run by Tekton in Kubernetes, this plugin aims to bridge the gap between Jenkins and Kubernetes.</p>
</div>
<div class="paragraph">
<p>The Tekton Client Plugin allows users to create/delete resources via Build Steps but there is no way for users to employ their preexisting Jenkinsfile to extend their Jenkins pipeline to leverage Tekton for deploying on Kubernetes.</p>
</div>
<div class="paragraph">
<p>With no DSL for Tekton on Jenkins there is no way for the users to write scripts which can automate their Tekton lifecycle through Jenkins.</p>
</div>
<div class="sect3">
<h4 id="project-details"><a class="anchor" href="#project-details"></a>Project Details</h4>
<div class="paragraph">
<p>Create a DSL to interact with Tekton supported by Jenkins.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reference-links"><a class="anchor" href="#reference-links"></a>Reference Links</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jenkinsci/tekton-client-plugin">Tekton Client Plugin</a></p>
</li>
<li>
<p><a href="https://github.com/tektoncd/pipeline">Tekton Pipelines controller (Would need to be installed on a Kubernetes Cluster for development)</a></p>
</li>
<li>
<p><a href="https://github.com/fabric8io/kubernetes-client">Kubernetes Client in Java (used in Tekton Client Plugin)</a></p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/10n3vgYrjS_M1571OUOYLw4tK2QmxY7kp_wyUT3ke4gY/edit#">Tekton DSL Design Doc (outlines the scope of work)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="quick-start"><a class="anchor" href="#quick-start"></a>Quick-start</h3>
<div class="paragraph">
<p>To work with Tekton Client Plugin, having a Kubernetes cluster is essential.
A Minikube or KIND kubernetes cluster is sufficient to begin with development on the plugin.</p>
</div>
<div class="sect3">
<h4 id="installing-kubectl"><a class="anchor" href="#installing-kubectl"></a>Installing kubectl</h4>
<div class="paragraph">
<p>kubectl is a commandline tool used to interact with Kubernetes clusters. We would be using it here to understand the state of the resources</p>
</div>
</div>
<div class="sect3">
<h4 id="installing-kind"><a class="anchor" href="#installing-kind"></a>Installing KIND</h4>
<div class="paragraph">
<p>Follow this <a href="https://kind.sigs.k8s.io/docs/user/quick-start/">quick start guide</a> to install a KIND cluster.</p>
</div>
<div class="paragraph">
<p>Create a cluster using <code>kind</code> cli.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">kind create cluster</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check cluster installation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">kubectl get pods <span class="nt">-n</span> kube-system</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should contain pods which are in the <code>Running</code> state.</p>
</div>
</div>
<div class="sect3">
<h4 id="installing-tekton-on-your-kubernetes-cluster"><a class="anchor" href="#installing-tekton-on-your-kubernetes-cluster"></a>Installing Tekton on your Kubernetes cluster</h4>
<div class="paragraph">
<p>Follow this <a href="https://github.com/tektoncd/pipeline/blob/main/docs/install.md#installing-tekton-pipelines-on-kubernetes">github doc</a> and install the latest release of Tekton Pipeline on your k8s cluster.</p>
</div>
<div class="paragraph">
<p>Check Tekton installation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">kubectl get pods <span class="nt">-n</span> tekton-pipelines</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should contain pods which are in the <code>Running</code> state.</p>
</div>
</div>
<div class="sect3">
<h4 id="installing-tekton-cli"><a class="anchor" href="#installing-tekton-cli"></a>Installing Tekton CLI</h4>
<div class="paragraph">
<p>The Tekton CLI would be used to better debug and work with Tekton Pipelines.
Use this <a href="https://github.com/tektoncd/cli#installing-tkn">github doc</a> to install Tekton CLI.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-a-tekton-resource-using-jenkins-tekton-client-plugin"><a class="anchor" href="#create-a-tekton-resource-using-jenkins-tekton-client-plugin"></a>Create a Tekton resource using Jenkins + Tekton Client Plugin</h4>
<div class="sect4">
<h5 id="start-a-jenkins-instance-with-the-plugin-installed"><a class="anchor" href="#start-a-jenkins-instance-with-the-plugin-installed"></a>Start a Jenkins instance with the plugin installed</h5>
<div class="paragraph">
<p>Running a Tekton pipeline using the plugin is the best way to get acquainted to the plugin.
Once we have a kubernetes cluster running with Tekton installed we can start the plugin in development mode and create a tekton resources from the Jenkins console.</p>
</div>
<div class="paragraph">
<p>Clone and run the plugin in development mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">git clone https://github.com/jenkinsci/tekton-client-plugin
<span class="nb">cd </span>tekton-client-plugin
mvn hpi:run</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="create-a-tekton-taskrun"><a class="anchor" href="#create-a-tekton-taskrun"></a>Create a Tekton TaskRun</h5>
<div class="paragraph">
<p>Browse to localhost:8080/jenkins which will take you to the Jenkins console.
- Create a new Freestyle Project / Job by navigating to the <code>New Item</code> button on the top left corner of the screen. Choose Freestyle Project, give a name and click on <code>Ok</code>. This will take us to the job configuration next.
- In the job configuration, scroll down to the <code>Build</code> sub header. From the "Add build step` drop down, choose <code>Tekton : Create Resource (Raw)</code>. This will add a Build step to the configuration which will help us create a Tekton resource.
- In the Tekton createRaw build step configuration, choose the Input Type as <code>URL</code> and add the following url as the input.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">https://raw.githubusercontent.com/tektoncd/pipeline/main/examples/v1beta1/taskruns/task-result.yaml
This would create a TaskRun running a Task <span class="k">in </span>Tekton.</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="checking-the-state-of-taskrun-using-the-tekton-cli"><a class="anchor" href="#checking-the-state-of-taskrun-using-the-tekton-cli"></a>Checking the state of TaskRun using the Tekton CLI.</h5>
<div class="paragraph">
<p>Run the following commands to check the state of the TaskRun and the get the logs for the same respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">tkn taskrun list
tkn taskrun logs <span class="nt">-f</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="checking-the-state-of-taskrun-from-the-jenkins-console"><a class="anchor" href="#checking-the-state-of-taskrun-from-the-jenkins-console"></a>Checking the state of TaskRun from the Jenkins Console</h5>
<div class="paragraph">
<p>Go to the Jenkins console for the Job to see the output of the TaskRun from Jenkins.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="next-steps"><a class="anchor" href="#next-steps"></a>Next Steps</h3>
<div class="paragraph">
<p>To explore the Tekton Client Plugin further, check out more of the <a href="https://github.com/jenkinsci/tekton-client-plugin/tree/master/docs">documentation</a> and the <a href="https://github.com/jenkinsci/tekton-client-plugin/issues">github issues</a> to understand current landscape of the plugin and future work.</p>
</div>
</div>
<div class="sect2">
<h3 id="newbie-friendly-issues"><a class="anchor" href="#newbie-friendly-issues"></a>Newbie-friendly issues</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.jenkins.io/issues/?jql=labels%20%3D%20newbie-friendly%20AND%20status%20not%20in%20(Closed%2C%20Done%2C%20Resolved%2C%20%22Fixed%20but%20Unreleased%22)%20AND%20component%20%3D%20tekton-client-plugin%20AND%20project%20%3D%20JENKINS">Open newbie-friendly issues</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="skills-to-improvestudy"><a class="anchor" href="#skills-to-improvestudy"></a>Skills to improve/study</h3>
<div class="ulist">
<ul>
<li>
<p>Java</p>
</li>
<li>
<p>Docker,Kubernetes</p>
</li>
<li>
<p>Jenkins</p>
</li>
<li>
<p>Tekton Pipelines</p>
</li>
</ul>
</div>
</div>
<h2 class="title">
Potential Mentors
</h2>
<ul>
<li>
<a class="app-author-link" href="/blog/authors/waveywaves/"><div class="app-avatar"></div> Vibhav Bobade</a>
</li>
<li>
<a class="app-author-link" href="/blog/authors/garethjevans/"><div class="app-avatar"></div> Gareth Evans</a>
</li>
</ul>
<h2 class="title">
Project Links
</h2>
<ul>
<!-- starting partial connect-links.html.haml -->
<li>
<a href="https://groups.google.com/g/jenkins-cloud-native-sig" rel="noreferrer noopener" target="_blank">
Mailing List
</a>
</li>
<li>
<a href="https://gitter.im/jenkinsci/gsoc-sig" rel="noreferrer noopener" target="_blank">
<img src="https://badges.gitter.im/jenkinsci/gsoc-sig.svg" title="Gitter">
</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/projects/gsoc/#office-hours" rel="noreferrer noopener" target="_blank">
Meetings
</a>
</li>

<!-- ending partial connect-links.html.haml -->
<li>
<a href="https://docs.google.com/document/d/1_mS0gLgM7oz7PanE0X_SkJ8iUo-BPVCixXMSDO7-VMk/edit#" rel="noreferrer noopener" target="_blank">
Project idea draft
</a>
</li>
</ul>
<h2 class="title">
Organization Links
</h2>
<ul>
<li>
<a href="/projects/gsoc" target="_blank">
Jenkins GSoC page
</a>
- documentation, application guidelines
</li>
<li>
<a href="/participate" target="_blank">
Participate and contribute to Jenkins
</a>
- landing page for newcomer contributors
</li>
<li>
<a href="https://issues.jenkins.io/issues/?jql=project%20%3D%20JENKINS%20AND%20status%20in%20(Open%2C%20%22In%20Progress%22%2C%20Reopened)%20AND%20labels%20%3D%20newbie-friendly%20" rel="noreferrer noopener" target="_blank">
Newbie-friendly issues
</a>
- list of organization-wide newbie-friendly issues (use them if there is no links in the project idea)
</li>
</ul>
<p>
<a href="/projects/gsoc/2021/project-ideas" target="_blank">
> Go back to other GSoC
2021
project ideas
</a>
</p>

<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</div>
<div class="col-lg-3">
<div class="sidebar-nav">
<h4>
On this page
</h4>
<ul class="sectlevel2">
<li><a href="#background">Background</a></li>
<li><a href="#reference-links">Reference Links</a></li>
<li><a href="#quick-start">Quick-start</a></li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#newbie-friendly-issues">Newbie-friendly issues</a></li>
<li><a href="#skills-to-improvestudy">Skills to improve/study</a></li>
</ul>
<!-- starting partial connect-h4-div.html.haml -->
<div>
<h4>
Connect
</h4>
</div>
<ul>
<!-- starting partial connect-links.html.haml -->
<li>
<a href="https://groups.google.com/g/jenkins-cloud-native-sig" rel="noreferrer noopener" target="_blank">
Mailing List
</a>
</li>
<li>
<a href="https://gitter.im/jenkinsci/gsoc-sig" rel="noreferrer noopener" target="_blank">
<img src="https://badges.gitter.im/jenkinsci/gsoc-sig.svg" title="Gitter">
</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/projects/gsoc/#office-hours" rel="noreferrer noopener" target="_blank">
Meetings
</a>
</li>

<!-- ending partial connect-links.html.haml -->
</ul>

<!-- ending partial connect-h4-div.html.haml -->
<div>
<div class="block block-block even blog-posts" id="block-block-15">
<h4 class="title">
Recent Blog Posts
</h4>
<ul>
<li>
<a href="/blog/2022/12/27/run-jenkins-agent-as-a-service/">
Create a new Jenkins node, and run your Jenkins agent as a service
</a>
</li>
<li>
<a href="/blog/2022/12/14/require-java-11/">
Jenkins plugin development requires Java 11 or newer
</a>
</li>
<li>
<a href="/blog/2022/12/09/jfrog-maintenance/">
Maintenance with downtime of JFrog Artifactory (repo.jenkins-ci.org) 18 of December of 2022
</a>
</li>
<li>
<a href="/blog/2022/12/09/GSoC-the-gift-of-mentorship/">
[GSoC] 'Tis the Season to Give the Gift of Mentorship
</a>
</li>
<li>
<a href="/blog/2022/12/05/jenkins-newsletter/">
Jenkins November 2022 Newsletter
</a>
</li>
<li>
<a href="/blog/2022/11/24/jenkins-sponsor-appreciation/">
Jenkins Sponsor Appreciation
</a>
</li>
<li>
<a href="/blog/2022/11/23/get-prepared-for-gsoc/">
GSoC 2023: how to get prepared
</a>
</li>
<li>
<a href="/blog/2022/11/17/jenkins-election-candidates-and-results/">
Jenkins Elections Announcement
</a>
</li>
<li>
<a href="/blog/2022/11/17/hacktoberfest-recap/">
Hacktoberfest in Jenkins 2022
</a>
</li>
<li>
<a href="/blog/2022/11/16/gsoc-2023/">
Google Summer of Code 2023 Call for Project Ideas and Mentors
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//projects/gsoc/2021/project-ideas/tekton-client-plugin.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
