<!DOCTYPE html>
<html lang="en">
<head>
<title>
Plugin Installation Manager CLI Tool / Library
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/projects/gsoc/2019/plugin-installation-manager-tool-cli/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Plugin Installation Manager CLI Tool / Library" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Plugin Installation Manager CLI Tool / Library" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Plugin Installation Manager CLI Tool / Library" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/projects/gsoc/2019/plugin-installation-manager-tool-cli/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Plugin Installation Manager CLI Tool / Library" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body">
<div class="col-lg-9">
<h1>
Plugin Installation Manager CLI Tool / Library
</h1>
<p>
<b>
Goal:
</b>
Create a new library and tools to unify plugin management across the Jenkins ecosystem 
</p>
<p>
<b>
Status:
</b>
Completed
</p>
<h3 class="title">
Team
</h3>
<ul>
<li>
Student:
<a class="app-author-link" href="/blog/authors/stopalopa/"><div class="app-avatar"><img alt="Natasha Stopa" class="app-avatar__image" src="/images/avatars/stopalopa.jpg"></div> Natasha Stopa</a>
</li>
<li>
Mentor(s):
<a class="app-author-link" href="/blog/authors/kwhetstone/"><div class="app-avatar"></div> Kristin Whetstone</a>
, 
<a class="app-author-link" href="/blog/authors/batmat/"><div class="app-avatar"><img alt="Baptiste Mathus" class="app-avatar__image" src="/images/avatars/batmat.jpg"></div> Baptiste Mathus</a>
, 
<a class="app-author-link" href="/blog/authors/jonbrohauge/"><div class="app-avatar"></div> Jon Brohauge</a>
, 
<a class="app-author-link" href="/blog/authors/arnab1896/"><div class="app-avatar"></div> Arnab Banerjee</a>
, 
<a class="app-author-link" href="/blog/authors/oleg_nenashev/"><div class="app-avatar"><img alt="Oleg Nenashev" class="app-avatar__image" src="/images/avatars/oleg_nenashev.png"></div> Oleg Nenashev</a>
</li>
</ul>
<h2 class="title">
Details
</h2>
<div class="paragraph">
<p>There are currently many reincarnations of plugin management across Jenkins, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jenkinsci/docker#preinstalling-plugins">Docker images install-plugins.sh script</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/custom-war-packager">Custom WAR Packager</a></p>
</li>
<li>
<p><a href="https://github.com/jenkins-infra/jenkins.io/blob/c0ba3cab7a7dfe398ec411d3271922bb98f04f8e/content/projects/evergreen/index.adoc">Jenkins Evergreen</a></p>
</li>
<li>
<p><a href="https://github.com/ndeloof/jenkinsfile-runner-go">A Jenkinsfile Runner implementation</a></p>
</li>
<li>
<p><a href="https://github.com/coreos/jenkins-os/blob/master/init.groovy">coreOS groovy script</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The goal of this project is to create a new Plugin Manager CLI tool and a library which
would unify the plugin management across different Jenkins implementations and improve plugin tooling.
Although we looked at extracting plugin management from Jenkins Core into its own module, this proved
to be a challenging first step (see <a href="https://issues.jenkins.io/browse/JENKINS-57672">JENKINS-57672</a>).</p>
</div>
<div class="paragraph">
<p>The input to the the tool is a list of plugins, either specified via the --plugins CLI option, or using the --plugin-file option
with a .txt or yaml file. The library finds all recursive dependencies for each requested plugin, replacing every duplicate plugin
with the highest required version of that plugin. The direct plugin dependencies first try to be resolved using the
update center metadata. If that fails, they are determined by downloading the plugin to a temporary file and parsing the MANIFEST.MF file.
The final set of the plugins to be downloaded is found, taking into account any currently installed or bundled plugins, which are ignored.
The plugins are then downloaded and can be used when Jenkins starts.</p>
</div>
<div class="paragraph">
<p>Below is an example of how the tool can be used with Docker.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/images/post-images/gsoc-plugin-management-tool/chucknorris.png" alt="Plugin Tool Input">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/images/post-images/gsoc-plugin-management-tool/dockerfile.png" alt="Dockerfile">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/images/post-images/gsoc-plugin-management-tool/chucknorrisdetails.png" alt="Plugin Download Details">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/images/post-images/gsoc-plugin-management-tool/plugininjenkins.png" alt="Plugin Installed in Jenkins">
</div>
</div>
<div class="sect3">
<h4 id="helpful-links"><a class="anchor" href="#helpful-links"></a>Helpful Links</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.google.com/document/d/1lMCDqY5TKVXyFl67BmyMkaS9GTjRbueKr7ds395b_10/edit?usp=sharing">Original Project Proposal</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/plugin-installation-manager-tool">Code</a></p>
</li>
<li>
<p><a href="https://issues.jenkins.io/browse/JENKINS-58199?jql=project%20%3D%20JENKINS%20AND%20component%20%3D%20plugin-installation-manager-tool">Jira tasks and feature requests</a></p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/1G_s2CFdZcb_TPQuLD4wL99Yy8egTLdQyRULcJFwsr1E/edit?usp=sharing">Meeting notes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="phase-1"><a class="anchor" href="#phase-1"></a>Phase 1</h3>
<div class="paragraph">
<p>Phase 1 focused on extracting the <a href="https://github.com/jenkinsci/docker/blob/master/install-plugins.sh">docker install-plugins bash script</a> to Java.
The first alpha version of the library and CLI tool was released. It implemented basic functionality
of the install-plugins.sh script to take in plugins and download them to a user-specified directory.</p>
</div>
<div class="paragraph">
<p>The alpha release was announced in the following <a href="/blog/2019/07/02/plugin-management-tool-alpha-release/">blog post</a>
and a live demo can be seen in <a href="https://youtu.be/MDs0Vr7gnnA?t=196">the Phase 1 evaluation recording</a>
(<a href="https://docs.google.com/presentation/d/12Bo8w9SinrG5n82w-Unjx4MNq0mjkHFEOMc3Jf6rTQQ/edit#slide=id.p1">slides</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="phase-2"><a class="anchor" href="#phase-2"></a>Phase 2</h3>
<div class="paragraph">
<p>Phase 2 focused on improving upon what was written in Phase 1, with particular focus on making parsing more robust,
adding better Docker compatibility, and creating new CLI options that will make the plugin installation process
more transparent. Parsing was improved to filter out comments and blank lines, and accept a yaml file listing plugins to install
 as input. Instead of hard coding the update centers, options were added to allow update centers to be set via environment variables or CLI options.
Windows compatible defaults for locations to find an existing Jenkins war file and setting the plugin directory were also added.
To make the plugin installation process more transparent, options were added to view the list of plugins that would be installed prior
to installation, and view if any of these plugins had available updates or security warnings.  This last step involved re-writing
some of the plugin download and dependency resolution logic so that all plugins and their recursive dependencies are resolved
before the time of download.</p>
</div>
<div class="paragraph">
<p>The blog post announcing the new features can be found <a href="/blog/2019/07/30/plugin-management-tool-phase2-updates/">here</a> and the demo
for this coding phase can be found <a href="https://www.youtube.com/watch?v=HlENuZZq7zc&amp;feature=youtu.be&amp;t=221">here</a>
(<a href="https://docs.google.com/presentation/d/1wsM09IGgoA7gSsA9tW5fHlFAhl6B9fXlr-4iEP89SCk/edit?usp=sharing">slides</a>)</p>
</div>
</div>
<div class="sect2">
<h3 id="phase-3"><a class="anchor" href="#phase-3"></a>Phase 3</h3>
<div class="paragraph">
<p>Most of this phase was dedicated to cleaning up and testing the work done in Phase 1 and 2. Some fixes and optimizations included in
this coding phase include throwing an exception sooner if there are problems downloading a plugin or resolving its dependencies,
throwing an exception if the required Jenkins version listed for any of the plugins to be installed is lower than the version
of the Jenkins war file, and improving plugin download times through a custom IO thread pool and using http HEAD instead of http GET where appropriate.</p>
</div>
<div class="paragraph">
<p>I was also able to attend DevOps World and present the work I&#8217;ve done on this project both during the Continuous Delivery
Contributor Summit and for the <a href="https://devopsworldjenkinsworld2019.sched.com/event/SQhG/community-lunch-time-demos">Jenkins Community Demos</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/gsoc-plugin-management-tool/devopsworld.jpeg" alt="DevOps World Demo">
</div>
</div>
<div class="paragraph">
<p>Here are the <a href="https://docs.google.com/presentation/d/1f8aPNCs-Nxq_yvAnM_epWtP5jXQXQzB6SybxNFFbR_s/edit?usp=sharing">slides</a>
from my presentation. I detailed my time at DevOps World <a href="/blog/2019/08/22/devops-world/">here</a>.</p>
</div>
<div class="paragraph">
<p>I also presented my Phase 3 work at a Jenkins Online Meetup <a href="https://docs.google.com/presentation/d/14yiudx6uJ_FEyoSnVMsRwYdSr5KqpgXcZKVenp1ebgM/edit?usp=sharing">(slides)</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="future-directions"><a class="anchor" href="#future-directions"></a>Future Directions</h3>
<div class="paragraph">
<p>The project is very close to its first official release. After the first release, the goal is to incorporate it into the
<a href="https://github.com/jenkinsci/docker">official Jenkins Docker Image</a>, the <a href="https://github.com/jenkinsci/custom-war-packager">Custom War Packager</a>, and
to inject the library into Jenkins to install plugins before the
<a href="https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/README.md">Configuration as Code plugin</a> runs.
Other requested features include maven compatibility (<a href="https://issues.jenkins.io/browse/JENKINS-58217">JENKINS-58217: supporting maven as an installation source</a>
and <a href="https://issues.jenkins.io/browse/JENKINS-59066">JENKINS-59066: sharing a plugin cache with ~/.m2/repository</a>). See
<a href="https://issues.jenkins.io/browse/JENKINS-58199?jql=project%20%3D%20JENKINS%20AND%20component%20%3D%20plugin-installation-manager-tool">Jira</a>
to see and create additional requests. To get the most up-to-date changes outside of the release cycle, you can also
download the <a href="https://repo.jenkins-ci.org/incrementals/io/jenkins/plugin-management/plugin-management-cli/">incrementals binaries</a>.</p>
</div>
</div>
<h3 class="title">
Links
</h3>
<ul>
<!-- starting partial connect-links.html.haml -->
<li>
<a href="https://groups.google.com/g/jenkinsci-gsoc-all-public" rel="noreferrer noopener" target="_blank">
Mailing List
</a>
</li>
<li>
<a href="https://gitter.im/jenkinsci/plugin-installation-manager-cli-tool" rel="noreferrer noopener" target="_blank">
<img src="https://badges.gitter.im/jenkinsci/plugin-installation-manager-cli-tool.svg" title="Gitter">
</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/projects/gsoc/#office-hours" rel="noreferrer noopener" target="_blank">
Meetings
</a>
</li>
<li>
<a href="https://community.jenkins.io/c/contributing/gsoc" rel="noreferrer noopener" target="_blank">
Forum
</a>
</li>

<!-- ending partial connect-links.html.haml -->
<li>
<a href="/projects/gsoc" target="_blank">
Jenkins GSoC page
</a>
</li>
</ul>

<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</div>
<div class="col-lg-3">
<div class="sidebar-nav">
<h4>
On this page
</h4>
<ul class="sectlevel3">
<li><a href="#helpful-links">Helpful Links</a></li>
<li><a href="#phase-1">Phase 1</a></li>
<li><a href="#phase-2">Phase 2</a></li>
<li><a href="#phase-3">Phase 3</a></li>
<li><a href="#future-directions">Future Directions</a></li>
</ul>
<!-- starting partial connect-h4-div.html.haml -->
<div>
<h4>
Connect
</h4>
</div>
<ul>
<!-- starting partial connect-links.html.haml -->
<li>
<a href="https://groups.google.com/g/jenkinsci-gsoc-all-public" rel="noreferrer noopener" target="_blank">
Mailing List
</a>
</li>
<li>
<a href="https://gitter.im/jenkinsci/plugin-installation-manager-cli-tool" rel="noreferrer noopener" target="_blank">
<img src="https://badges.gitter.im/jenkinsci/plugin-installation-manager-cli-tool.svg" title="Gitter">
</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/projects/gsoc/#office-hours" rel="noreferrer noopener" target="_blank">
Meetings
</a>
</li>
<li>
<a href="https://community.jenkins.io/c/contributing/gsoc" rel="noreferrer noopener" target="_blank">
Forum
</a>
</li>

<!-- ending partial connect-links.html.haml -->
</ul>

<!-- ending partial connect-h4-div.html.haml -->
<div>
<div class="block block-block even blog-posts" id="block-block-15">
<h4 class="title">
Recent Blog Posts
</h4>
<ul>
<li>
<a href="/blog/2022/12/27/run-jenkins-agent-as-a-service/">
Create a new Jenkins node, and run your Jenkins agent as a service
</a>
</li>
<li>
<a href="/blog/2022/12/14/require-java-11/">
Jenkins plugin development requires Java 11 or newer
</a>
</li>
<li>
<a href="/blog/2022/12/09/jfrog-maintenance/">
Maintenance with downtime of JFrog Artifactory (repo.jenkins-ci.org) 18 of December of 2022
</a>
</li>
<li>
<a href="/blog/2022/12/09/GSoC-the-gift-of-mentorship/">
[GSoC] 'Tis the Season to Give the Gift of Mentorship
</a>
</li>
<li>
<a href="/blog/2022/12/05/jenkins-newsletter/">
Jenkins November 2022 Newsletter
</a>
</li>
<li>
<a href="/blog/2022/11/24/jenkins-sponsor-appreciation/">
Jenkins Sponsor Appreciation
</a>
</li>
<li>
<a href="/blog/2022/11/23/get-prepared-for-gsoc/">
GSoC 2023: how to get prepared
</a>
</li>
<li>
<a href="/blog/2022/11/17/jenkins-election-candidates-and-results/">
Jenkins Elections Announcement
</a>
</li>
<li>
<a href="/blog/2022/11/17/hacktoberfest-recap/">
Hacktoberfest in Jenkins 2022
</a>
</li>
<li>
<a href="/blog/2022/11/16/gsoc-2023/">
Google Summer of Code 2023 Call for Project Ideas and Mentors
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//projects/gsoc/2019/plugin-installation-manager-tool-cli.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
