<!DOCTYPE html>
<html lang="en">
<head>
<title>
AWS CodeDeploy Plugin for Jenkins
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/codedeploy/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="AWS CodeDeploy Plugin for Jenkins" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="AWS CodeDeploy Plugin for Jenkins" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="AWS CodeDeploy Plugin for Jenkins" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/codedeploy/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="AWS CodeDeploy Plugin for Jenkins" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<p>
The following plugin provides functionality available through
Pipeline-compatible steps. Read more about how to integrate steps into your
Pipeline in the
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/#declarative-steps">Steps</a>
section of the
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/">Pipeline Syntax</a>
page.
</p>
<p>
For a list of other such plugins, see the
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/">Pipeline Steps Reference</a>
page.
</p>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#aws-codedeploy-plugin-for-jenkins">AWS CodeDeploy Plugin for Jenkins</a>
<ul class="sectlevel2">
<li><a href="#stepclass-awscodedeploypublisher-deploy-an-application-to-aws-codedeploy"><code>step([$class: 'AWSCodeDeployPublisher'])</code>: Deploy an application to AWS CodeDeploy</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="aws-codedeploy-plugin-for-jenkins"><a class="anchor" href="#aws-codedeploy-plugin-for-jenkins"></a>AWS CodeDeploy Plugin for Jenkins</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://plugins.jenkins.io/codedeploy">View this plugin on the Plugins site</a></p>
</div>
<div class="sect2">
<h3 id="stepclass-awscodedeploypublisher-deploy-an-application-to-aws-codedeploy"><a class="anchor" href="#stepclass-awscodedeploypublisher-deploy-an-application-to-aws-codedeploy"></a><code>step([$class: 'AWSCodeDeployPublisher'])</code>: Deploy an application to AWS CodeDeploy</h3>
<ul><li><code>s3bucket : String</code>
<div><div>
 The bucket in S3 where new AWS CodeDeploy revisions will be uploaded.
</div></div>

</li>
<li><code>s3prefix : String</code>
<div><div>
 The prefix in the S3 Bucket to prepend to the AWS CodeDeploy revision. Default is the root of the bucket. You can use environment variables in this field.
</div></div>

</li>
<li><code>applicationName : String</code>
<div><div>
 The name of the AWS CodeDeploy application you wish to deploy to. This plugin assumes that you've already created the application and deployment group. If you haven't already, work through the <a href="http://alpha-docs-aws.amazon.com/codedeploy/latest/userguide/how-to-create-application.html" rel="nofollow">How to create an Application with AWS CodeDeploy</a> documentation. You can use environment variables in this field.
</div></div>

</li>
<li><code>deploymentGroupName : String</code>
<div><div>
 The name of the AWS CodeDeploy deployment group attached to your application that you want to deploy to. This plugin assumes that you've already created the application and deployment group. If you haven't already, work through the <a href="http://docs.aws.amazon.com/codedeploy/latest/userguide/how-to-create-application.html" rel="nofollow">How to create an Application with AWS CodeDeploy</a> documentation.
</div></div>

</li>
<li><code>deploymentConfig : String</code>
</li>
<li><code>region : String</code>
</li>
<li><code>deploymentGroupAppspec : boolean</code>
<div><div>
 <p>If checked, the build will use a dedicated appspec.yml file per deployment group.</p>
 <p>The appspec file should be named "appspec.DEPLOYMENT_GROUP_NAME.yml" and must be present in the jenkins project workspace.</p><br><br>
 <p>e.g.: appsec.staging.yml</p>
</div></div>

</li>
<li><code>waitForCompletion : boolean</code>
<div><div>
 <p>If checked, this build will wait for the AWS CodeDeploy deployment to finish (with either success or failure). Polling Timeout, below, sets the maximum amount of time to wait.<br><br>If unchecked, the deployment will be handed off to AWS CodeDeploy and the build will move on to the next step.</p>
 <p>The build will be marked a failure if <em>either</em> the timeout is reached or the deployment fails. The build log will indicate which.</p>
</div></div>

</li>
<li><code>pollingTimeoutSec : long</code>
</li>
<li><code>pollingFreqSec : long</code>
</li>
<li><code>credentials : String</code>
</li>
<li><code>versionFileName : String</code>
</li>
<li><code>deploymentMethod : String</code>
</li>
<li><code>awsAccessKey : String</code>
<div><div>
 <p>AWS Access and Secret keys to use for this deployment. At minimum the keys must be allowed to execute <code>codedeploy:*</code> and <code>s3:Put*</code>. It's a best practice to have these keys be from an IAM role with limited scope.</p>
 <p>If your Jenkins install is running on an EC2 instance with an associate IAM role, you can leave these fields blank. You will just need to ensure that the role has the correct policies.</p>
</div></div>

</li>
<li><code>awsSecretKey : String</code>
<div><div>
 <p>AWS Access and Secret keys to use for this deployment. At minimum the keys must be allowed to execute <code>codedeploy:*</code> and <code>s3:Put*</code>. It's a best practice to have these keys be from an IAM role with limited scope.</p>
 <p>If your Jenkins install is running on an EC2 instance with an associate IAM role, you can leave these fields blank. You will just need to ensure that the role has the correct policies.</p>
</div></div>

</li>
<li><code>iamRoleArn : String</code>
<div><div>
 <p>In order to keep your application(s) more secure, this plugin only uses temporary credentials via STS, scoped to each application. To set this up:</p>
 <ol>
  <li>Log into the AWS Management Console, and navigate to the <a href="https://console.aws.amazon.com/iam/" rel="nofollow">Identity and Access Management console</a>.</li>
  <li>Click on <a href="https://console.aws.amazon.com/iam/#roles" rel="nofollow">Roles</a>, then click <strong>Create New Role</strong>.</li>
  <li>Give an appropriate name for this role (for example, "JenkinsCodeDeployProject").</li>
  <li>In the "Select Role Type" screen, click "Role for Cross-Account Access" then select <strong>Allows IAM users from a 3rd party AWS account to access this account.</strong></li>
  <li>The account and external IDs for this Jenkins project are listed below</li>
  <li>In the policy screen, select <strong>Custom Policy</strong> and copy-paste the following policy:
   <ul>
    <li><code>{"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["codedeploy:*", "s3:*"], "Resource": "*"}]}</code></li>
   </ul></li>
  <li>Click <strong>Create Role</strong>, then copy-paste the <strong>Role ARN</strong> into the below field.</li>
  <li>Click the <strong>Test Connection</strong> button to ensure that the permissions are set up properly.</li>
 </ol>
</div></div>

</li>
<li><code>externalId : String</code>
<div><div>
 The External ID you should use in the IAM cross-account access policy.
</div></div>

</li>
<li><code>includes : String</code>
<div><div><strong>Includes</strong> and <strong>Excludes</strong> together define the file(s) that will be contained in the application revision that is uploaded to Amazon S3.
</div></div>

</li>
<li><code>proxyHost : String</code>
<div><div>
 <p>Proxy host DNS name</p>
</div></div>

</li>
<li><code>proxyPort : int</code>
<div><div>
 <p>Proxy host port</p>
</div></div>

</li>
<li><code>excludes : String</code>
<div><div><strong>Includes</strong> and <strong>Excludes</strong> together define the file(s) that will be contained in the application revision that is uploaded to Amazon S3.
</div></div>

</li>
<li><code>subdirectory : String</code>
<div><div>
 A subdirectory inside the workspace to be packed instead of the whole workspace. Remember that the <i>appspec.yml</i> must be placed at the top of the .zip archive. The <i>excludes</i> and <i>includes</i> will be applied based on this path.
</div></div>

</li>
</ul>
</div>
</div>
</div>
<hr>
<div class="container"></div>
<!-- starting partial _feedback-footer.html -->
<!-- HTML inclusion for chapter and section layouts (i.e. as footers) as well as
     for use in AsciiDoc file inclusions. -->

<!--
This feedback form was prepared from a Google Form, based on the techniques in
the following documentation sources:
https://codepen.io/learningcode/post/customize-a-google-form-for-your-website,
https://mrhaki.blogspot.com.au/2014/06/awesome-asciidoc-include-raw-html.html,
https://www.freshtechtips.com/2013/05/custom-google-drive-contact-form.html,
https://stackoverflow.com/questions/24436165/set-value-of-hidden-input-inside-form
-->

<!-- Feedback form functionality in JavaScript - refer to comments in this file
     for details on the functionality. -->
<script>
var feedbackForm = {
    formKey : 'e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w'
};
$(document).ready(function() {
    window.onload = feedbackForm.start(window.location.href);
});
</script>
<script src="/js/feedback-form-functionality.js"></script>

<p><a href="#feedback" data-bs-toggle="collapse">Was this page helpful?</a></p>

<div id="feedback" class="collapse">

<p>Please submit your feedback about this page through this
<a href="/doc/feedback-form/">quick form</a>.</p>

<p>Alternatively, if you don't wish to complete the quick form, you can simply
indicate if you found this page helpful?</p>

<!-- Redirects to custom "thank you" page once form is submitted. -->
<script type="text/javascript">
var submitted=false;
</script>
<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
onload="if(submitted) {window.location='/doc/thank-you-for-your-feedback/';}">
</iframe>
<form action="https://docs.google.com/forms/d/e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w/formResponse" method="POST" id="ss-form" target="hidden_iframe" onsubmit="submitted=true;">

<!-- Set the value of the current URL into the form. -->
<input type="hidden" name="entry.1246830226" id="current-url" value=""/>

<!-- The answer bit -->
<p><input type="radio" name="entry.790002525" id="h1" value="Yes" required/>
<label for="h1">Yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
<input type="radio" name="entry.790002525" id="h2" value="No"/>
<label for="h2">No</label></p>

<!-- The CAPTCHA bit -->

<p><label id="ssTestLabel" for="ssTestValue"></label><br/>
<input type="text" name="ssTestValue" value="" id="ssTestValue"/></p>

<!-- Submit button -->

<p><input class="button" type="submit" value="Submit"/></p>

</form>

<p>See existing feedback <a href="https://docs.google.com/spreadsheets/d/1IIdpVs39JDYKg0sLQIv-MNO928qcGApAIfdW5ohfD78" target="_blank" rel="noreferrer noopener">here</a>.</p>

</div>

<!-- ending partial _feedback-footer.html -->
<script>
  $(function() {
    var collapsibleList = function(e){
      for (var i=1; i < e.length; i++) {
        var li = e[i];
        if (li.tagName == "LI" && li.children[0]) {
          var r=li.children[0].innerText;
  
          var plus = $("<button class='btn btn-outline-secondary btn-xs'>+</button>");
          var minus = $("<button class='btn btn-outline-secondary btn-xs'>-</button>");
          $(li.children[0]).prepend(minus);
  
          var expander = $("<li/>").append($("<code/>").text(r)).prepend(plus);
          var toggle = (function() {
            this.next().toggleClass("collapse");
            this.toggleClass("collapse")
          }).bind(plus.parent());
          plus.on("click", toggle);
          minus.on("click", toggle);
          expander.insertBefore($(li));
          $(li).addClass("collapse");
        }
      }
    };
    $("ul>b:contains('Nested')").each(function(e,f){
      collapsibleList($(f).parent().children())
    });
  });
</script>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath=""></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
