<!DOCTYPE html>
<html lang="en">
<head>
<title>
Upgrading to Jenkins LTS 2.176.x
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.176/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Upgrading to Jenkins LTS 2.176.x" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Upgrading to Jenkins LTS 2.176.x" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Upgrading to Jenkins LTS 2.176.x" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.176/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Upgrading to Jenkins LTS 2.176.x" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="active">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<h1>
Upgrading to Jenkins LTS 2.176.x
</h1>
<p>
Each section covers the upgrade from the previous LTS release,
the section on 2.176.1 covers the upgrade from  2.164.3.
</p>
<h3 id="upgrading-to-jenkins-lts-2-176-4">
Upgrading to Jenkins 2.176.4
</h3>
<div class="paragraph">
<p>No notable changes requiring upgrade notes.</p>
</div>
<h3 id="upgrading-to-jenkins-lts-2-176-3">
Upgrading to Jenkins 2.176.3
</h3>
<div class="sect3">
<h4 id="SECURITY-1491"><a class="anchor" href="#SECURITY-1491"></a>Improved CSRF protection</h4>
<div class="paragraph">
<p><a href="/security/advisory/2019-08-28/#SECURITY-1491">SECURITY-1491</a></p>
</div>
<div class="paragraph">
<p>Jenkins 2.176.3 and 2.192 introduce further improvements to <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a> protection.
This increases the likelihood of using CSRF tokens in a way that is no longer supported.
The previous upgrade advice for <a href="#SECURITY-626">SECURITY-626</a> in 2.176.2 applies.</p>
</div>
</div>
<h3 id="upgrading-to-jenkins-lts-2-176-2">
Upgrading to Jenkins 2.176.2
</h3>
<div class="sect3">
<h4 id="SECURITY-626"><a class="anchor" href="#SECURITY-626"></a>Improved CSRF protection</h4>
<div class="paragraph">
<p><a href="/security/advisory/2019-07-17/#SECURITY-626">SECURITY-626</a></p>
</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a> tokens (crumbs) are now only valid for the web session they were created in to limit the impact of attackers obtaining them.
Scripts that obtain a crumb using the <code>/crumbIssuer/api</code> URL will now fail to perform actions protected from CSRF unless the scripts retain the web session ID in subsequent requests.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Scripts could instead use an API token, which has not required a CSRF token (crumb) since <a href="/changelog/#v2.96">Jenkins 2.96</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To disable this improvement you can set the system property <code>hudson.security.csrf.DefaultCrumbIssuer.EXCLUDE_SESSION_ID</code> to <code>true</code>.
Alternatively, you can install the <a href="https://plugins.jenkins.io/strict-crumb-issuer">Strict Crumb Issuer Plugin</a> which provides more options to customize the crumb validation.
It allows excluding the web session ID from the validation criteria, and instead e.g. replacing it with time-based expiration for similar (or even better) protection from CSRF.</p>
</div>
</div>
<div class="sect3">
<h4 id="SECURITY-534"><a class="anchor" href="#SECURITY-534"></a>New restrictions for view dispatching</h4>
<div class="paragraph">
<p><a href="/security/advisory/2019-07-17/#SECURITY-534">SECURITY-534</a></p>
</div>
<div class="paragraph">
<p>A design flaw in the Stapler web framework used by Jenkins allowed attackers in some cases to bypass permission checks and access view fragments disclosing sensitive information.
<a href="/security/advisory/2019-07-17/#SECURITY-534">For further details, see the security advisory</a>.</p>
</div>
<div class="paragraph">
<p>As a side effect of this security fix, some views may no longer be accessible.
This typically results in <code>HTTP 404 Not Found</code> responses.
Whenever this happens, Jenkins write a message similar to the following to the Jenkins system log:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">WARNING: New Stapler dispatch rules result in the URL "/example" no longer being allowed. If you consider it safe to use, add the following to the whitelist: "jenkins.model.Jenkins example". Learn more: https://jenkins.io/redirect/stapler-facet-restrictions</pre>
</div>
</div>
<div class="paragraph">
<p>If this happens due to legitimate use of the Jenkins UI, the affected view can be added to the list of approved views.
By default, a file named <code>stapler-views-whitelist.txt</code> in the <code>JENKINS_HOME</code> directory can be modified to add these signatures.
The location of this file can be overridden by the system property <code>jenkins.security.stapler.StaplerDispatchValidator.whitelist</code>.
Each line of this file contains a model class name followed by a space-delimited list of view names to allow.
Lines beginning with <code>#</code> are ignored.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># allow dispatch to 'example' from the 'jenkins.model.Jenkins' class
jenkins.model.Jenkins example

# allow some other views
com.example.FooBar foo bar</pre>
</div>
</div>
<div class="paragraph">
<p>When making changes to this whitelist, Jenkins will not automatically detect changes to the file.
To make Jenkins reload its cache of these whitelist entries, execute the following command in the Jenkins script console as an administrator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">jenkins.security.stapler.StaplerDispatchValidator.getInstance(Jenkins.instance.servletContext).cache.load()</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, individual line entries can be directly added in memory to the cache.
These will not be persisted on disk, so they&#8217;re only active until Jenkins is restarted.
This can be useful for iteratively enabling views without directly modifying the filesystem.
An administrator can add these entries using the following Jenkins script console command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">jenkins.security.stapler.StaplerDispatchValidator.getInstance(Jenkins.instance.servletContext).cache.loadWhitelist([
    'jenkins.model.Example example',
    'com.example.FooBar foo bar'
])</pre>
</div>
</div>
<div class="paragraph">
<p>These entries must be manually saved into the whitelist file in order to persist between restarts of Jenkins.</p>
</div>
<div class="paragraph">
<p>We track known affected plugins and their status in <a href="https://wiki.jenkins.io/display/JENKINS/Plugins+affected+by+the+SECURITY-534+fix">the Jenkins wiki</a>.</p>
</div>
</div>
<h3 id="upgrading-to-jenkins-lts-2-176-1">
Upgrading to Jenkins 2.176.1
</h3>
<div class="sect3">
<h4 id="remoting-mode-of-cli-removed"><a class="anchor" href="#remoting-mode-of-cli-removed"></a>Remoting-mode of CLI removed</h4>
<div class="paragraph">
<p><a href="https://jenkins.io/blog/2019/02/17/remoting-cli-removed/">Announcement blog post</a></p>
</div>
<div class="paragraph">
<p>Support for the remoting mode of the CLI has been removed (previously available using the <code>-remoting</code> argument to <code>java -jar jenkins-cli.jar</code>).
This includes related features and commands only available in that mode.
Most CLI features are still available via HTTP transport, or the builtin SSH server.</p>
</div>
</div>
<div class="sect3">
<h4 id="symbol-nonstoredpasswordparam-removed"><a class="anchor" href="#symbol-nonstoredpasswordparam-removed"></a>Symbol <code>nonStoredPasswordParam</code> removed</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-56776">JENKINS-56776</a></p>
</div>
<div class="paragraph">
<p>The password parameter type offered an alternative symbol <code>nonStoredPasswordParam</code> for use in pipelines and scripts.
It implied that the password value would not be stored.
As this is false&#8201;&#8212;&#8201;it is stored encrypted&#8201;&#8212;&#8201;the symbol has been removed.
Pipelines and other scripts using the symbol need to be changed to use the symbol <code>password</code> instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="mailer-plugin-resources-removed"><a class="anchor" href="#mailer-plugin-resources-removed"></a>Mailer plugin resources removed</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-55292">JENKINS-55292</a></p>
</div>
<div class="paragraph">
<p><a href="https://plugins.jenkins.io/mailer">Mailer Plugin</a> used to be a feature of Jenkins core that was split off into a plugin.
Some resources were accidentally left in core.
These have now been removed.</p>
</div>
<div class="paragraph">
<p>It is recommended to update to Mailer Plugin 1.23, the first plugin release to contain the resources, or newer, to prevent errors.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-security-warning-related-to-build-authorization"><a class="anchor" href="#new-security-warning-related-to-build-authorization"></a>New security warning related to build authorization</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-24513">JENKINS-24513</a></p>
</div>
<div class="paragraph">
<p>Builds in Jenkins run as the internal SYSTEM pseudo-user with full privileges by default.
This means that one build can e.g. trigger builds of any other project, unless the specific feature implementation performs some additional permission checks.</p>
</div>
<div class="paragraph">
<p>Jenkins now informs administrators if they have a potentially insecure configuration of Jenkins due to lack of installed or configured build authenticators.
Additionally, if builds run as the internal SYSTEM pseudo-user, build logs will include a message with that information.</p>
</div>
</div>
<div class="sect3">
<h4 id="built-in-support-for-cctray-cc-xml-files-removed"><a class="anchor" href="#built-in-support-for-cctray-cc-xml-files-removed"></a>Built-in support for CCtray (cc.xml) files removed</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins.io/browse/JENKINS-40750">JENKINS-40750</a></p>
</div>
<div class="paragraph">
<p>Built-in support for offering build information in the CCtray (cc.xml) format has been removed.
To restore this feature, install the <a href="https://plugins.jenkins.io/cctray-xml">CCtray XML Plugin</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="chinese-translations-removed"><a class="anchor" href="#chinese-translations-removed"></a>Chinese translations removed</h4>
<div class="paragraph">
<p>All Chinese translations not required for the setup wizard have been migrated into the <a href="https://plugins.jenkins.io/localization-zh-cn">Localization: Chinese (Simplified) plugin</a>.</p>
</div>
</div>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/upgrade-guide.html.haml"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
