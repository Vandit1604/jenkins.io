<!DOCTYPE html>
<html lang="en">
<head>
<title>
Upgrading to Jenkins LTS 2.277.x
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.277/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Upgrading to Jenkins LTS 2.277.x" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Upgrading to Jenkins LTS 2.277.x" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Upgrading to Jenkins LTS 2.277.x" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.277/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Upgrading to Jenkins LTS 2.277.x" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="active">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<h1>
Upgrading to Jenkins LTS 2.277.x
</h1>
<p>
Each section covers the upgrade from the previous LTS release,
the section on 2.277.1 covers the upgrade from  2.263.4.
</p>
<h3 id="upgrading-to-jenkins-lts-2-277-4">
Upgrading to Jenkins 2.277.4
</h3>
<div class="paragraph">
<p>No notable changes requiring upgrade notes.</p>
</div>
<h3 id="upgrading-to-jenkins-lts-2-277-3">
Upgrading to Jenkins 2.277.3
</h3>
<div class="paragraph">
<p>No notable changes requiring upgrade notes.</p>
</div>
<h3 id="upgrading-to-jenkins-lts-2-277-2">
Upgrading to Jenkins 2.277.2
</h3>
<div class="sect3">
<h4 id="submittedform"><a class="anchor" href="#submittedform"></a>Security hardening for form submissions</h4>
<div class="paragraph">
<p>A recurring security issue in Jenkins plugins is a lack of cross-site request forgery (CSRF) protection on form submission endpoints.</p>
</div>
<div class="paragraph">
<p>A security hardening in Jenkins 2.277.2 and 2.287 addresses some of these issues by causing structured form submission (calls to <code>StaplerRequest#getSubmittedForm</code>) to fail unless the HTTP verb of the request is POST (a requirement for CSRF protection to be effective).
This will prevent GET requests from being able to submit a JSON form submission (commonly used in Jenkins) as <code>?form</code> query parameter.</p>
</div>
<div class="paragraph">
<p>This additional safeguard can be configured by setting the <a href="/doc/book/managing/system-properties/#org-kohsuke-stapler-requestimpl-allowed_http_verbs_for_forms">Java system property <code>org.kohsuke.stapler.RequestImpl.ALLOWED_HTTP_VERBS_FOR_FORMS</code></a>.
It accepts a comma-separated list of HTTP verbs of requests allowed to provide structured form submission.
The default value is <code>POST</code>.
Setting this system property to <code>GET,POST</code> would also allow <code>GET</code> requests to provide structured form submissions.
Doing so is discouraged.
Affected components should instead explicitly require <code>POST</code> requests by annotating web methods using <code>@POST</code> and configure HTML forms they provide to use <code>&lt;form … method="POST"&gt;</code>, and clients should submit <code>POST</code> requests.</p>
</div>
</div>
<h3 id="upgrading-to-jenkins-lts-2-277-1">
Upgrading to Jenkins 2.277.1
</h3>
<div class="sect3">
<h4 id="configuration-form-modernization"><a class="anchor" href="#configuration-form-modernization"></a>Configuration Form Modernization</h4>
<div class="paragraph">
<p>The transition from HTML <code>&lt;table&gt;</code> layout to HTML <code>&lt;div&gt;</code> layout in configuration forms requires changes in some plugins for compatibility.
Jenkins administrators should update the installed plugins when they upgrade to Jenkins 2.277.1.
Some older plugin releases will cause the Jenkins "Configure System" page to fail to save.
Other older plugin releases will report Java runtime exceptions until they are updated to the most recent release.</p>
</div>
<div class="paragraph">
<p>Use the Plugin Manager to update plugins affected by configuration form modernization immediately <strong>after</strong> upgrading to Jenkins 2.277.1.</p>
</div>
<div class="paragraph">
<p>If you are experiencing configuration form problems (e.g., form controls not working, the save button not working, etc.) after updating plugins:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Refer to the <a href="https://issues.jenkins.io/secure/Dashboard.jspa?selectPageId=20741">known broken plugins dashboard</a>; if you are using a plugin that is known to be broken, disable it and upvote the issue.</p>
</li>
<li>
<p>Disable any plugins that are no longer in use, particularly if those plugins are <a href="https://github.com/jenkins-infra/update-center2/blob/master/resources/artifact-ignores.properties">no longer distributed on the Jenkins update site</a> (including Team Foundation Server and Perforce).</p>
</li>
<li>
<p>Refer to the detailed instructions for debugging and reporting an issue in the <a href="/doc/developer/views/table-to-div-migration/"><code>&lt;table&gt;</code> to <code>&lt;div&gt;</code> layout migration guide</a>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Privately maintained plugins may need to be updated for the change from <code>&lt;table&gt;</code> layout to <code>&lt;div&gt;</code> layout.
Plugin maintainers should refer to the <a href="/doc/developer/views/table-to-div-migration/"><code>&lt;table&gt;</code> to <code>&lt;div&gt;</code> layout migration guide</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="installation-wizard-may-show-up-on-startup-jenkins-65149"><a class="anchor" href="#installation-wizard-may-show-up-on-startup-jenkins-65149"></a>Installation Wizard may show up on startup (JENKINS-65149)</h4>
<div class="paragraph">
<p>Jenkins 2.277.1 removes the Upgrade Wizard that was no longer operational after Jenkins 2.0 (<a href="https://github.com/jenkinsci/jenkins/pull/5283">pull request</a>).
It led to regression for instances created before 2.4 / 2.7.1 LTS.
For such, Jenkins 2.277.1 will show the Setup Wizard on first startup.
The regression is tracked as <a href="https://issues.jenkins.io/browse/JENKINS-65149">JENKINS-65149</a>.</p>
</div>
<div class="paragraph">
<p>Workaround: When the setup wizard shows up, click the <em>Select plugins to install</em> option, then select <em>None</em>  in the opened Windows, and then click "Install" button.
It will effectively skip the Installation Wizard.
It will not appear again after the restart,
because Jenkins will create the required state file in the <code>JENKINS_HOME</code> directory.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/changelog/upgrade-guide-2.277.1/installationWizard_step1.png" alt="Skipping Upgrade Wizard. Step 1"></span></p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/changelog/upgrade-guide-2.277.1/installationWizard_step2.png" alt="Skipping Upgrade Wizard. Step 2"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="spring-security-update"><a class="anchor" href="#spring-security-update"></a>Spring Security update</h4>
<div class="paragraph">
<p>Jenkins 2.277.1 has replaced the outdated Acegi Security library with the Spring Security library.
The most popular plugins have already been updated as necessary to support the change.
Some older plugin releases may report <code>NoClassDefFoundError</code> for obsolete types defined in Acegi Security.
Other older plugin releases will report Java runtime exceptions like <code>NoSuchMethodError</code> or <code>AccessDeniedException2</code> until they are updated to the most recent release.
Refer to the <a href="https://github.com/jenkinsci/jep/blob/master/jep/227/compatibility.adoc">Spring Security compatibility table</a> for questions related to specific plugins.</p>
</div>
<div class="paragraph">
<p>Use the Plugin Manager to update plugins affected by the Spring Security update before upgrading to Jenkins 2.277.1.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Privately maintained plugins may need changes to adapt to the change from Acegi Security to Spring Security.
Refer to Jesse Glick&#8217;s <a href="/blog/2020/11/10/spring-xstream/">Spring Security blog post</a> for more details.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="xstream-update-jep-228"><a class="anchor" href="#xstream-update-jep-228"></a>XStream update (JEP-228)</h4>
<div class="paragraph">
<p>Jenkins 2.277.1 has replaced its outdated fork of the XStream XML serialization library with a recent release of the official XStream library.
The most popular plugins have already been updated as necessary to support the change.
Some older plugin releases may report <code>NoSuchMethodError</code>.
Other older plugin releases may fail to interpret existing settings or may write their settings in a different format than was used before the XStream update.
Refer to the <a href="https://github.com/jenkinsci/jep/blob/master/jep/228/compatibility.adoc">XStream compatibility table</a> for questions related to specific plugins.</p>
</div>
<div class="paragraph">
<p>Use the Plugin Manager to update plugins affected by the XStream update before upgrading to Jenkins 2.277.1.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Privately maintained plugins may need changes to adapt to the change from the Jenkins XStream fork to the official XStream library.
Refer to Jesse Glick&#8217;s <a href="/blog/2020/11/10/spring-xstream/">XStream unfork blog post</a> for more details.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="asm-update"><a class="anchor" href="#asm-update"></a>ASM update</h4>
<div class="paragraph">
<p>Jenkins 2.277.1 updates the <a href="https://asm.ow2.io/">ASM Java bytecode manipulation and analysis framework</a> that is used for bytecode processing in many plugins.
This update affects plugins that depend on ASM for bytecode processing.
Some older plugin releases may report a <code>RuntimeException</code> with the message "Error creating extended parser class" (like <a href="https://plugins.jenkins.io/token-macro">Token Macro plugin</a>).
Other older plugin releases may fail to interpret existing settings (like <a href="https://plugins.jenkins.io/email-ext">Email Extension plugin</a>).</p>
</div>
<div class="paragraph">
<p>Use the Plugin Manager to update plugins affected by the ASM update after upgrading to Jenkins 2.277.1.</p>
</div>
</div>
<div class="sect3">
<h4 id="stop-bundling-cvs-plugin-with-jenkins"><a class="anchor" href="#stop-bundling-cvs-plugin-with-jenkins"></a>Stop bundling CVS plugin with Jenkins</h4>
<div class="paragraph">
<p>Certain key Jenkins capabilities were initially created inside the Jenkins core.
As Jenkins has developed further, capabilities moved from inside Jenkins core to dedicated Jenkins plugins, like the <a href="https://plugins.jenkins.io/cvs">CVS plugin</a>.
When those plugins were created, the plugins were "bundled" inside the jenkins.war file to retain compatibility for plugins that depended on their functionality to be inside Jenkins core.
The Jenkins project is no longer publishing any plugins that require the "bundled" versions of the <a href="https://plugins.jenkins.io/cvs">CVS plugin</a>.
The <a href="https://plugins.jenkins.io/cvs">CVS plugin</a> is no longer bundled with Jenkins.</p>
</div>
<div class="paragraph">
<p>In very rare cases, this could result in problems when attempting to install plugins compatible with Jenkins (then Hudson) before 1.340.
If you use a plugin that relies on the functionality provided by the CVS plugin and manage plugins outside the Jenkins plugin manager, you will now need to ensure yourself that a recent release of the CVS plugin is installed.
Jenkins will attempt to load such plugins but may fail at any time during startup or afterwards with <code>ClassNotFoundException</code> or similar.
In those cases, the best path forward is usually to modify the plugin that has the problem so that it requires a newer version of Jenkins core.</p>
</div>
</div>
<div class="sect2">
<h3 id="old-system-property-replacement"><a class="anchor" href="#old-system-property-replacement"></a>Old system property replacement</h3>
<div class="paragraph">
<p>This release drops support for deprecated system properties (<a href="https://github.com/jenkinsci/jenkins/pull/4962">pull request</a>).
Affected system properties:
<code>hudson.model.Hudson.logStartupPerformance</code>,
<code>hudson.model.Hudson.initLogLevel</code>,
<code>hudson.model.Hudson.parallelLoad</code>,
<code>hudson.model.Hudson.killAfterLoad</code>, and
<code>hudson.model.Hudson.workspaceDirName</code>.
None of the Jenkins official distributions sets these properties by default.</p>
</div>
<div class="paragraph">
<p>If your instance any of the listed properties in the startup configuration,
please use <code>jenkins.model.Jenkins.</code>-prefixed properties instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="old-passwords-not-supported-jenkins-65107"><a class="anchor" href="#old-passwords-not-supported-jenkins-65107"></a>Old passwords not supported (JENKINS-65107)</h3>
<div class="paragraph">
<p>This release drops support for passwords that were stored with Jenkins versions prior to 2013.
Passwords created with Jenkins prior to the September 2012 introduction of bcrypt based password hashing will need to change their password before the upgrade.
If the upgrade has already been completed, then an administrator can login and change the password of the affected users with "Manage Users" from the "Manage Jenkins" page.
If no administrator user is available after the upgrade, please refer to <a href="/doc/book/security/access-control/disable/">Disable Access Control</a> for alternatives.</p>
</div>
</div>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/upgrade-guide.html.haml"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
