<!DOCTYPE html>
<html lang="en">
<head>
<title>
Git Credentials Binding for sh, bat, powershell
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Git credentials binding allows Pipeline jobs and Freestyle jobs to perform authenticated git commands from shell, batch, and powershell scripts.
" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2021/08/19/git-credentials-binding-work-report/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Git Credentials Binding for sh, bat, powershell" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Git Credentials Binding for sh, bat, powershell" name="twitter:title">
<meta content="Git credentials binding allows Pipeline jobs and Freestyle jobs to perform authenticated git commands from shell, batch, and powershell scripts.
" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/post-images/2021-08-git-credentials-binding/git-credentials-binding.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Git Credentials Binding for sh, bat, powershell" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2021/08/19/git-credentials-binding-work-report/" property="og:url">
<meta content="Git credentials binding allows Pipeline jobs and Freestyle jobs to perform authenticated git commands from shell, batch, and powershell scripts.
" name="og:description">
<meta content="Git Credentials Binding for sh, bat, powershell" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/post-images/2021-08-git-credentials-binding/git-credentials-binding.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Git Credentials Binding for sh, bat, powershell
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/arpoch/"><div class="app-avatar"></div> Harshit Chopra</a>
August 19, 2021
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Git+Credentials+Binding+for+sh%2C+bat%2C+powershell&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2021%2F08%2F19%2Fgit-credentials-binding-work-report%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="sect1">
<h2 id="abstract"><a class="anchor" href="#abstract"></a>Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project implemented two new credential bindings to perform authenticated operations using command line git in Jenkins pipeline and freestyle jobs.</p>
</div>
<div class="paragraph">
<p>The two credential bindings are <code>gitSshPrivateKey</code> and <code>gitUsernamePassword</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="anchor" href="#implementation"></a>Implementation</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Type</dt>
<dd>
<p>Feature</p>
</dd>
<dt class="hdlist1">Location</dt>
<dd>
<p>The <code>gitUsernamePassword</code> binding is implemented in Jenkins <a href="https://plugins.jenkins.io/git/">git plugin</a> <a href="https://github.com/jenkinsci/git-plugin/releases/tag/git-4.8.0">v4.8.0</a>.
The <code>gitSshPrivateKey</code> binding is implemented in a <a href="https://github.com/jenkinsci/git-plugin/pull/1111">pull request</a> to the Jenkins <a href="https://plugins.jenkins.io/git/">git plugin</a></p>
</dd>
<dt class="hdlist1">Dependencies</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://plugins.jenkins.io/credentials-binding/">Credentials Binding Plugin</a>-
It is used to bind Git specific environment variables with shell scripts/commands which perform git authentication on behalf of the user, without their interaction with the command-line.</p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/bouncycastle-api/">Bouncy Castle API Plugin</a>-
Provides an API to do common tasks like PEM/PKCS#8 Encoding/Decoding and ensuring its stability among Bouncy Castle API versions.</p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/sshd/">SSH Server Plugin</a>-
Provides an API to perform tasks like OpenSSH private key encoding and decoding.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="phase-1-git-username-password-binding-gitusernamepassword"><a class="anchor" href="#phase-1-git-username-password-binding-gitusernamepassword"></a>Phase 1: Git Username Password Binding (gitUsernamePassword)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="deliverables"><a class="anchor" href="#deliverables"></a>Deliverables</h3>
<div class="ulist">
<ul>
<li>
<p>Support git authentication over the <strong>HTTP</strong> protocol</p>
<div class="ulist">
<ul>
<li>
<p>Use the <code>GIT_ASKPASS</code> environment variable to provide user credentials to command line git</p>
</li>
</ul>
</div>
</li>
<li>
<p>Support different</p>
<div class="ulist">
<ul>
<li>
<p><em>OS environments</em>: CentOS 7, CentOS 8, Debian 9, Debian 10, FreeBSD 12, OpenBSD 6.9, openSUSE 15.2, Ubuntu 18.04, Ubuntu 20.04, Ubuntu 21.04, and Windows 10.</p>
</li>
<li>
<p><em>Processors</em>: amd64, arm32, arm64, and s390x.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Authentication support for command line git only, not JGit or JGit Apache.</p>
<div class="ulist">
<ul>
<li>
<p>Check for specific git versions</p>
</li>
<li>
<p>Setting git specific environment variables based on OS type</p>
</li>
</ul>
</div>
</li>
<li>
<p>Automated test coverage more than 90%</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="resources"><a class="anchor" href="#resources"></a>Resources</h3>
<div class="ulist">
<ul>
<li>
<p>Pull Requests</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jenkinsci/git-plugin/pull/1104">Add Git Credentials binding for Username and Password</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/git-client-plugin/pull/724">Check the least command line git version required</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/git-plugin/pull/1119/files">Git username password binding doc update in git-plugin</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.jenkins.io/projects/gsoc/2021/projects/git-credentials-binding/#git-username-and-password-binding">gitUsernamePassword binding explanation</a></p>
</li>
<li>
<p><a href="https://docs.google.com/presentation/d/1LCH0dXzWka_l-WQ3SVMCXfU7w7jQENXS-bdz2E5GIgU/edit?usp=sharing">Webinar slides</a></p>
</li>
<li>
<p><a href="https://www.jenkins.io/blog/2021/07/27/git-credentials-binding-phase-1/">Git username password binding released blog post</a></p>
</li>
<li>
<p>Phase 1 demo and presentation:</p>
</li>
</ul>
</div>
<div class="videoblock">
<div class="content">
<iframe width="800" height="420" src="https://www.youtube.com/embed/_D0hiA1Cgz8?rel=0&amp;start=4068" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="phase-2-git-ssh-private-key-binding-gitsshprivatekey"><a class="anchor" href="#phase-2-git-ssh-private-key-binding-gitsshprivatekey"></a>Phase 2: Git SSH Private Key Binding (gitSshPrivateKey)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="deliverables-2"><a class="anchor" href="#deliverables-2"></a>Deliverables</h3>
<div class="ulist">
<ul>
<li>
<p>To support git authentication over the <strong>SSH</strong> protocol</p>
</li>
<li>
<p>Supports:</p>
<div class="ulist">
<ul>
<li>
<p>Private Key Formats</p>
<div class="ulist">
<ul>
<li>
<p>OpenSSH</p>
</li>
<li>
<p>PEM</p>
</li>
<li>
<p>PKCS#8</p>
</li>
</ul>
</div>
</li>
<li>
<p>Encryption algorithms</p>
<div class="ulist">
<ul>
<li>
<p>RSA</p>
</li>
<li>
<p>DSA</p>
</li>
<li>
<p>ECDSA</p>
</li>
<li>
<p>ED25519</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>OS environments</em>: CentOS 7, CentOS 8, Debian 9, Debian 10, FreeBSD 12, OpenBSD 6.9, openSUSE 15.3, Ubuntu 18.04, Ubuntu 20.04, Ubuntu 21.04, and Windows 10.</p>
</li>
<li>
<p><em>Processors</em>: amd64, arm32, arm64, and s390x.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Authentication support for command line git only, not JGit or JGit Apache.</p>
</li>
<li>
<p>Use git specific environment variables depending upon the minimum git version</p>
<div class="ulist">
<ul>
<li>
<p><code>GIT_SSH_COMMAND</code> - If the version is greater than 2.3, provides ssh command including the necessary options.</p>
</li>
<li>
<p><code>SSH_ASKPASS</code> - If the version is less than 2.3, an executable script is attached to the variable.</p>
</li>
<li>
<p>Setting variables based on the OS type</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="resources-2"><a class="anchor" href="#resources-2"></a>Resources</h3>
<div class="ulist">
<ul>
<li>
<p>Pull Requests</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jenkinsci/git-plugin/pull/1111">Add Git Credentials binding for SSH Private Key</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jenkinsci/git-plugin/pull/1111/commits/dd86551cda93447090584407304f83ca3030f154">Last GSOC-2021 noted commit</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/jenkinsci/git-client-plugin/pull/727">Scope change of getSSHExecutable method</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.jenkins.io/projects/gsoc/2021/projects/git-credentials-binding/#git-ssh-private-key-binding">gitSshPrivateKey binding explanation</a></p>
</li>
<li>
<p><a href="https://docs.google.com/presentation/d/1oVjwKt4OsxxDWs4eY3JL6jNxi2YyY9IQNizws-EAITM/edit?usp=sharing">Webinar Slides</a></p>
</li>
<li>
<p>Final phase demo and presentation</p>
</li>
</ul>
</div>
<div class="videoblock">
<div class="content">
<iframe width="800" height="420" src="https://www.youtube.com/embed/XRnZGvaGSqE?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="achievements"><a class="anchor" href="#achievements"></a>Achievements</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The git credential bindings which are available through the git plugin automate the git authentication process for a user effortlessly</p>
</li>
<li>
<p>The <code>gitUsernamePassword</code> and <code>gitSshPrivateKey</code> binding provides git authentication support for Pipeline and Freestyle Project users in various OS environments on different processors</p>
</li>
<li>
<p>The <code>gitUsernamePassword</code> binding has been released and is readily available from git plugin v4.8.0 and above</p>
</li>
<li>
<p>The <code>gitSshPrivateKey</code> binding provides support for OpenSSH format which is default for OpenSSH v7.8 and above</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="future-work"><a class="anchor" href="#future-work"></a>Future Work</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>SSH private key binding pull request merge and release</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unexpected complications from Jenkins class loader required extra effort and investigation, including an experiment shading a dependency into the git plugin
We intentionally chose to avoid the complication and risk of shading the dependency
If the SSH library use requires shading, then we may need to use maven modules in the git plugin</p>
</div>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/git/">
git
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/gsoc/">
gsoc
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px"></div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/arpoch/">
Harshit Chopra
</a>
</p>
<div class="paragraph">
<p>Harshit Chopra is an open source enthusiast from India.</p>
</div>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/arpoch" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
<li>
<a href="https://twitter.com/Harshit14413301" rel="noreferrer noopener" target="_blank">
Twitter
</a>
</li>
<li>
<a href="https://www.linkedin.com/in/harshit-chopra-275269178" rel="noreferrer noopener" target="_blank">
LinkedIn
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2021/08/2021-08-19-git-credentials-binding-work-report.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
