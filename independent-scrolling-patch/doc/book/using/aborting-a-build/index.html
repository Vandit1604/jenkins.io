<!DOCTYPE html>
<html lang="en">
<head>
<title>
Aborting a build
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/book/using/aborting-a-build/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Aborting a build" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Aborting a build" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Aborting a build" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/book/using/aborting-a-build/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Aborting a build" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="active">Using Jenkins</a>
<small>
<ul style="padding-left: 1rem;">
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/using-credentials/" class="">Using credentials</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/searchbox/" class="">Search Box</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/referencing-another-project-by-name/" class="">Referencing another project by name</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/aborting-a-build/" class="active">Aborting a build</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/fingerprints/" class="">Fingerprints</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/using-local-language/" class="">Using local language</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/change-time-zone/" class="">Change time zone</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/remote-access-api/" class="">Remote Access API</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/executor-starvation/" class="">Executor Starvation</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/using-agents/" class="">Using Jenkins agents</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/using-jmeter-with-jenkins/" class="">Using JMeter with Jenkins</a>
</li>
</ul>
</small>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<div>
<div class="row">
<div class="col-md-4">
<a class="prev doc-page-link" href="../referencing-another-project-by-name">
⇐ Referencing another project by name
</a>
</div>
<div class="col-md-4">
<a class="up doc-page-link" href="../">
⇑ Using Jenkins
</a>
<a class="index doc-page-link" href="../../">
Index
</a>
</div>
<div class="col-md-4">
<a class="next doc-page-link" href="../fingerprints">
Fingerprints ⇒
</a>
</div>
</div>
</div>
<div>
<div class="row body">
<div class="section">
<h1>
Aborting a build
</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>When you click that [x] icon from the UI, the following things happen:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Browser sends a request to the server.</p>
</li>
<li>
<p>The server interrupts (via Thread.interrupt()) the thread (AKA
executor thread) that is responsible for carrying out a build.</p>
</li>
<li>
<p>The server returns</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this point, your browser is back, but the actual abort process
happens from here asynchronously.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The thread gets the interrupt signal. How quickly this happens depends
on what the executor is doing at the time of the interruption.
Specifically, an executor thread can only be interrupted in
"interruption points" due to the Java design.</p>
<div class="ulist">
<ul>
<li>
<p>Waiting for a completion of a child process (for example, maybe the
build is running Ant) is an interruption point. That means if the
executor was doing that, it gets interrupted instantaneously.</p>
</li>
<li>
<p>Waiting for a computation on an agent is an interruption point.</p>
</li>
<li>
<p>Waiting for file or network I/O is not an interruption point. This
often causes the problem where a build appears to be un-abortable. For
example, checking out a Subversion repository falls in this category.</p>
</li>
<li>
<p>Normal computation is also not an interruption point.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The executor performs a clean up operation. This depends on what it
was doing by the time it noticed the interruption.</p>
<div class="ulist">
<ul>
<li>
<p>If it was waiting for a completion of a child process, Jenkins will
search for all the descendant processes and kill them all. On Unix, this
is done through <code>java.lang.UnixProcess.destroyProcess</code>, which sends
<a href="http://en.wikipedia.org/wiki/SIGTERM">SIGTERM</a> on Unix-based JDK implementations. On Windows,
this is done through
<a href="http://msdn.microsoft.com/en-us/library/ms686714(VS.85).aspx">TerminateProcess</a>
API.</p>
</li>
<li>
<p>If it was waiting for a completion of some computation in an agent, the
thread that&#8217;s performing the remote computation is interrupted
asynchronously. How quickly that threads gets interrupted depends on
what that thread is doing. See above.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Executor starts unwinding the stack, and eventually it finishes the
unwinding. At this point, the build is marked as aborted and executor
returns to the idle status.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Pipeline jobs can be stopped by sending an HTTP POST request to URL
endpoints of a build.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BUILD ID URL/stop</code> - aborts a Pipeline.</p>
</li>
<li>
<p><code>BUILD ID URL/term</code> - forcibly terminates a build (should only be
used if <code>stop</code> does not work).</p>
</li>
<li>
<p><code>BUILD ID URL/kill</code> - hard kill a pipeline. This is the most
destructive way to stop a pipeline and should only be used as a last
resort.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="if-your-build-isnt-aborting"><a class="anchor" href="#if-your-build-isnt-aborting"></a>If your build isn&#8217;t aborting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Check the thread dump <code>http://yourserver/jenkins/threadDump</code> and
look for the executor thread in question — they are named after the
agent and executor number. That&#8217;ll normally tell you where the thread
is, and often reveals why it&#8217;s not responding to an interruption.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<hr>
<div>
<div class="row">
<div class="col-md-4">
<a class="prev doc-page-link" href="../referencing-another-project-by-name">
⇐ Referencing another project by name
</a>
</div>
<div class="col-md-4">
<a class="up doc-page-link" href="../">
⇑ Using Jenkins
</a>
<a class="index doc-page-link" href="../../">
Index
</a>
</div>
<div class="col-md-4">
<a class="next doc-page-link" href="../fingerprints">
Fingerprints ⇒
</a>
</div>
</div>
</div>
<hr>
<div class="container"></div>
<!-- starting partial _feedback-footer.html -->
<!-- HTML inclusion for chapter and section layouts (i.e. as footers) as well as
     for use in AsciiDoc file inclusions. -->

<!--
This feedback form was prepared from a Google Form, based on the techniques in
the following documentation sources:
https://codepen.io/learningcode/post/customize-a-google-form-for-your-website,
https://mrhaki.blogspot.com.au/2014/06/awesome-asciidoc-include-raw-html.html,
https://www.freshtechtips.com/2013/05/custom-google-drive-contact-form.html,
https://stackoverflow.com/questions/24436165/set-value-of-hidden-input-inside-form
-->

<!-- Feedback form functionality in JavaScript - refer to comments in this file
     for details on the functionality. -->
<script>
var feedbackForm = {
    formKey : 'e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w'
};
$(document).ready(function() {
    window.onload = feedbackForm.start(window.location.href);
});
</script>
<script src="/js/feedback-form-functionality.js"></script>

<p><a href="#feedback" data-bs-toggle="collapse">Was this page helpful?</a></p>

<div id="feedback" class="collapse">

<p>Please submit your feedback about this page through this
<a href="/doc/feedback-form/">quick form</a>.</p>

<p>Alternatively, if you don't wish to complete the quick form, you can simply
indicate if you found this page helpful?</p>

<!-- Redirects to custom "thank you" page once form is submitted. -->
<script type="text/javascript">
var submitted=false;
</script>
<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
onload="if(submitted) {window.location='/doc/thank-you-for-your-feedback/';}">
</iframe>
<form action="https://docs.google.com/forms/d/e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w/formResponse" method="POST" id="ss-form" target="hidden_iframe" onsubmit="submitted=true;">

<!-- Set the value of the current URL into the form. -->
<input type="hidden" name="entry.1246830226" id="current-url" value=""/>

<!-- The answer bit -->
<p><input type="radio" name="entry.790002525" id="h1" value="Yes" required/>
<label for="h1">Yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
<input type="radio" name="entry.790002525" id="h2" value="No"/>
<label for="h2">No</label></p>

<!-- The CAPTCHA bit -->

<p><label id="ssTestLabel" for="ssTestValue"></label><br/>
<input type="text" name="ssTestValue" value="" id="ssTestValue"/></p>

<!-- Submit button -->

<p><input class="button" type="submit" value="Submit"/></p>

</form>

<p>See existing feedback <a href="https://docs.google.com/spreadsheets/d/1IIdpVs39JDYKg0sLQIv-MNO928qcGApAIfdW5ohfD78" target="_blank" rel="noreferrer noopener">here</a>.</p>

</div>

<!-- ending partial _feedback-footer.html -->

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/book/using/aborting-a-build.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
