<!DOCTYPE html>
<html lang="en">
<head>
<title>
Jenkins Essentials: The days of versions are numbered
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2018/04/27/essentials-versions-are-numbered/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Jenkins Essentials: The days of versions are numbered" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Jenkins Essentials: The days of versions are numbered" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Jenkins Essentials: The days of versions are numbered" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2018/04/27/essentials-versions-are-numbered/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Jenkins Essentials: The days of versions are numbered" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Jenkins Essentials: The days of versions are numbered
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/rtyler/"><div class="app-avatar"><img alt="R. Tyler Croy" class="app-avatar__image" src="/images/avatars/rtyler.jpeg"></div> R. Tyler Croy</a>
April 27, 2018
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Jenkins+Essentials%3A+The+days+of+versions+are+numbered&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2018%2F04%2F27%2Fessentials-versions-are-numbered%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<em>Jenkins Essentials</em> has been renamed to <em>Jenkins <strong>Evergreen</strong></em> since this was written.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A couple weeks ago, I
<a href="/blog/2018/04/06/jenkins-essentials/">wrote about the Jenkins Essentials</a>
effort, on which we&#8217;ve been making steady progress. Personally, the most
exciting challenge of this project is defining the machinery to drive
<a href="/blog/2018/04/06/jenkins-essentials/#auto-update">automatic updates</a>
of Jenkins Essentials, which viewed from a high level, are <em>classic</em> continuous
delivery challenges.</p>
</div>
<div class="paragraph">
<p>In this post, I wanted to dive into a bit of the gritty details of how we&#8217;re
going to be delivering Jenkins Essentials with automatic updates, which has
some really interesting requirements for the development of Jenkins itself.</p>
</div>
<div class="paragraph">
<p><span class="image right"><img src="/images/logos/magician/256.png" alt="Jenkins Essentials"></span></p>
</div>
<div class="paragraph">
<p>The traditional Jenkins core and plugin development workflow involves a
developer working on changes for some amount of time, then when they&#8217;re ready,
they "create a release" which typically involves publishing artifacts to our
Artifactory, and then on a timer (typically every 15 minutes) the Update Center will
re-generate a file called <code>update-center.json</code>. Once the new Update Center has
been generated, it is published and consumed by Jenkins installations within
24 hours. Of course, only after Jenkins administrators recognize that there is
an update available, can they install it. All in all, it can take quite a long
time from when a developer publishes a release, to when it is successfully used
by an end-user.</p>
</div>
<div class="paragraph">
<p>With our desire to make Jenkins Essentials updates seamless and automatic, the
status quo clearly was not going to work. Our shift in thinking has required a
couple simultaneous efforts to make this more continuously delivered approach
viable.</p>
</div>
<div class="sect1">
<h2 id="developer-improvements"><a class="anchor" href="#developer-improvements"></a>Developer Improvements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting from the developer&#8217;s workflow,
<a href="https://github.com/jglick">Jesse Glick</a>
has been working on publishing "incremental builds" of artifacts into a
<a href="https://github.com/jenkins-infra/iep/tree/master/iep-009">special Maven repository</a>
in Artifactory. Much of his work is described in the very thorough
<a href="https://github.com/jenkinsci/jep/tree/master/jep/305">Jenkins Enhancement Proposal 305</a>.
This support, which is <em>now live</em> on
<a href="https://ci.jenkins.io/blue/">ci.jenkins.io</a>
allows plugin developers to publish versioned changes from <em>pull requests</em> and
<em>branches</em> to the <code>incrementals</code> repository. Not only does this make it much
easier for Jenkins Essentials to deliver changes closer to the <code>HEAD</code> of
<code>master</code> branches, it also unlocks lots of flexibility for Jenkins developers
who coordinate changes across matrices of plugins and core, as occasionally is
necessary for Jenkins Pipeline, Credentials, Blue Ocean, and a number of other
foundational components of a modern Jenkins install.</p>
</div>
<div class="paragraph">
<p>In a follow-up blog post, Jesse is going to go into much more detail on some of
the access control and tooling changes he had to solve to make this
incrementals machinery work.</p>
</div>
<div class="paragraph">
<p>Of course, incremental builds are only a piece of the puzzle, with those
artifacts, Jenkins Essentials has to be able to do something useful with them!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-improvements"><a class="anchor" href="#update-improvements"></a>Update Improvements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The number one requirement, from my perspective, for the automatically updated
distribution is that it is <strong>safe</strong>. "Safe" means that a user doesn&#8217;t need to
be involved in the update process, and if something goes wrong, the
instance recovers without the user needing to do anything to remediate a
"bad code deploy."</p>
</div>
<div class="paragraph">
<p>In my previous post on the subject, I mentioned Baptiste&#8217;s work on
<a href="https://github.com/jenkinsci/jep/tree/master/jep/302">Jenkins Enhancement
Proposal 302</a> which describes the "data safety" system for safely applying
updates, and in case of failure, rolling back.</p>
</div>
<div class="paragraph">
<p>The next obvious question is "what&#8217;s failure?" which Baptiste spent some time
exploring and implementing in two more designs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://github.com/jenkinsci/jep/tree/master/jep/304">JEP-304: Essentials Client Error Telemetry Logging</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/jep/tree/master/jep/306">JEP-306: Essentials Instance Client Health Checking</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>On the server side, of which there is substantial work for Jenkins Essentials,
these concepts integrate with the concept of an
<a href="https://github.com/jenkinsci/jep/blob/master/jep/307">Update Lifecycle</a>
between the server and client. In essence, the server side must be able to
deliver the right updates to the right clients, and avoid delivering tainted
updates (those with known problems) to clients. While this part of the work is
still on-going, tremendous progress has been made over the past couple weeks
in ensuring that updates can be safely, securely, and automatically delivered.</p>
</div>
<div class="paragraph">
<p>With the ability to identify "bad code deploys", and having a mechanism for
safely rolling back, not only does Jenkins Essentials allow seamless
updates, but it enables Jenkins developers to deliver features and bugfixes
<em>much</em> more quickly than our current distribution model allows.</p>
</div>
<hr>
<div class="paragraph">
<p>While Jenkins Essentials does not have a package ready for broad consumption
yet, we&#8217;re rapidly closing in on the completion of our first milestone which
ties all of these automatic update components together and builds the
foundation for continuous delivery of all subsequent improvements.</p>
</div>
<div class="paragraph">
<p>You can follow our progress in the
<a href="https://github.com/jenkins-infra/evergreen">jenkins-infra/evergreen</a>
repository, or join us in our
<a href="https://gitter.im/jenkins-infra/evergreen">Gitter chat</a>!</p>
</div>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/evergreen/">
evergreen
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px">
<img alt="R. Tyler Croy" class="app-avatar__image" src="/jenkins.io/independent-scrolling-patch/images/avatars/rtyler.jpeg">
</div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/rtyler/">
R. Tyler Croy
</a>
</p>
<div class="paragraph">
<p>R&#46; Tyler Croy has been part of the Jenkins project for the past seven years.
While avoiding contributing any Java code, Tyler is involved in many of the
other aspects of the project which keep it running, such as this website,
infrastructure, governance, etc.</p>
</div>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/rtyler" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
<li>
<a href="https://twitter.com/agentdero" rel="noreferrer noopener" target="_blank">
Twitter
</a>
</li>
<li>
<a href="http://unethicalblogger.com" rel="noreferrer noopener" target="_blank">
Blog
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2018/04/2018-04-27-essentials-versions-are-numbered.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
