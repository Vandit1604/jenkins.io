<!DOCTYPE html>
<html lang="en">
<head>
<title>
Announcing the beta of Declarative Pipeline Syntax
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2016/12/19/declarative-pipeline-beta/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Announcing the beta of Declarative Pipeline Syntax" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Announcing the beta of Declarative Pipeline Syntax" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Announcing the beta of Declarative Pipeline Syntax" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2016/12/19/declarative-pipeline-beta/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Announcing the beta of Declarative Pipeline Syntax" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Announcing the beta of Declarative Pipeline Syntax
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/hrmpw/"><div class="app-avatar"></div> Patrick Wolf</a>
December 19, 2016
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Announcing+the+beta+of+Declarative+Pipeline+Syntax&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2016%2F12%2F19%2Fdeclarative-pipeline-beta%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="paragraph">
<p>Last week we released version 0.7.1 of the
<a href="https://plugins.jenkins.io/pipeline-model-definition"><em>Pipeline-Model-Definition</em></a>
plugin and wanted to crown it as the official Beta version of the Declarative
Pipeline syntax. Although it has been available in the update center
<a href="/blog/2016/09/19/blueocean-beta-declarative-pipeline-pipeline-editor/">since August</a>,
we continue to solidify the syntax. We feel this release is getting
very close to the final version and should not change much before 1.0. However,
it is still a Beta so further tweaks are possible.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A release (0.8.0) is planned for early January 2017 which will finalize the
syntax with the following changes:
<a href="https://issues.jenkins.io/browse/JENKINS-40524">JENKINS-40524</a>,
<a href="https://issues.jenkins.io/browse/JENKINS-40370">JENKINS-40370</a>,
<a href="https://issues.jenkins.io/browse/JENKINS-40462">JENKINS-40462</a>,
<a href="https://issues.jenkins.io/browse/JENKINS-40337">JENKINS-40337</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="what-is-declarative-pipeline"><a class="anchor" href="#what-is-declarative-pipeline"></a>What is Declarative Pipeline?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All the way back at Jenkins World in September, Andrew Bayer presented a
<a href="https://www.cloudbees.com/introducing-new-way-define-jenkins-pipelines">sneak peak</a>
of a new syntax for constructing Pipelines. We are calling this new syntax
Declarative Pipeline to differentiate it from the existing Scripted Pipeline
syntax that has always been a part of Pipeline.</p>
</div>
<div class="paragraph">
<p>After listening to many Jenkins users over the last year we felt that, while
Pipeline Script provides tremendous power, flexibility, and extensibility, the
learning curve for Scripted Pipeline was steep for users new to either Jenkins
or Pipeline. Beginning users wanting to take advantage of all the features
provided by Pipeline and Jenkinsfiles were required to learn Scripted Pipeline
or remain limited to the functionality provided by Freestyle jobs.</p>
</div>
<div class="paragraph">
<p>Declarative Pipeline does not replace Scripted Pipeline but extends Pipeline it
with a pre-defined structure to let users focus entirely on the <code>steps</code>
required at each <code>stage</code> without needing to worry about scripting every aspect
of the pipeline. Granular flow-control is extremely powerful and Scripted
Pipeline syntax will always be part of Pipeline but it&#8217;s not for everyone.</p>
</div>
<div class="paragraph">
<p>Declarative Pipeline enables all users to connect simple, declarative blocks
that define agents (including Docker), post actions, environment
settings, credentials and all stages that make up the pipeline. Best of all,
because this Declarative syntax is part of Pipeline, all build steps and build
wrappers available in Plugins or loaded from Shared Libraries are also
available as <code>steps</code> in Declarative.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example"><a class="anchor" href="#example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is an example of a pipeline in Declarative syntax. You can also switch the view to show the same pipeline in Scripted syntax.
 The Declarative syntax has a more straightforward structure that is easier to grok by users not versed in Groovy.</p>
</div>
<div class="pipeline-block">  <div class="listingblock pipeline-declarative">
    <div class="title">Jenkinsfile (Declarative Pipeline)</div>
    <div class="content">
  <pre class="CodeRay highlight nowrap"><code class="language-groovy" data-lang="groovy">pipeline {
  agent  <span style="color:#606">label</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">has-docker</span><span style="color:#710">'</span></span>, <span style="color:#606">dockerfile</span>: <span style="color:#069">true</span>
  environment {
    GIT_COMMITTER_NAME = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jenkins</span><span style="color:#710">&quot;</span></span>
    GIT_COMMITTER_EMAIL = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jenkins@jenkins.io</span><span style="color:#710">&quot;</span></span>
  }
  stages {
    stage(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Build</span><span style="color:#710">&quot;</span></span>) {
      steps {
        sh <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">mvn clean install -Dmaven.test.failure.ignore=true</span><span style="color:#710">'</span></span>
      }
    }
    stage(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Archive</span><span style="color:#710">&quot;</span></span>){
      steps {
        archive <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*/target/**/*</span><span style="color:#710">&quot;</span></span>
        junit <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">*/target/surefire-reports/*.xml</span><span style="color:#710">'</span></span>
      }
    }
  }
  post {
    always {
      deleteDir()
    }
    success {
      mail <span style="color:#606">to</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">me@example.com</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">subject</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SUCCESS: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>currentBuild.fullDisplayName<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>, <span style="color:#606">body</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Yay, we passed.</span><span style="color:#710">&quot;</span></span>
    }
    failure {
      mail <span style="color:#606">to</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">me@example.com</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">subject</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FAILURE: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>currentBuild.fullDisplayName<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>, <span style="color:#606">body</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Boo, we failed.</span><span style="color:#710">&quot;</span></span>
    }
  }
}</code></pre>
</div></div>  <div class="pipeline-script-expand">
    <a href="#" onclick="javascript:$(this).parent().siblings('.pipeline-script').toggle(); return false;">Toggle Scripted Pipeline</a>
    <em>(Advanced)</em>
  </div>
  <div class="listingblock pipeline-script"
        style="display: none">
    <div class="title">Jenkinsfile (Scripted Pipeline)</div>
    <div class="content">
  <pre class="CodeRay highlight nowrap"><code class="language-groovy" data-lang="groovy">withEnv([<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">GIT_COMMITTER_NAME = jenkins</span><span style="color:#710">&quot;</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">GIT_COMMITTER_EMAIL = jenkins@jenkins.io</span><span style="color:#710">&quot;</span></span>]) {
  node(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">has-docker</span><span style="color:#710">'</span></span>) {
    <span style="color:#080;font-weight:bold">try</span> {
      checkout scm <span style="color:#777">// checks out Dockerfile and source code</span>
      <span style="color:#080;font-weight:bold">def</span> myImage = docker.build <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">my-environment:snapshot</span><span style="color:#710">'</span></span>
      myImage.inside {
        stage(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Build</span><span style="color:#710">'</span></span>) {
          sh <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">mvn clean install -Dmaven.test.failure.ignore=true</span><span style="color:#710">'</span></span>
        }
        stage(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Archive</span><span style="color:#710">'</span></span>) {
          archive <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*/target/**/*</span><span style="color:#710">&quot;</span></span>
          junit <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">*/target/surefire-reports/*.xml</span><span style="color:#710">'</span></span>
        }
      }
      <span style="color:#080;font-weight:bold">if</span> (currentBuild.result == <span style="color:#069">null</span> || currentBuild.result == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">SUCCESS</span><span style="color:#710">'</span></span>) {
        mail <span style="color:#606">to</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">me@example.com</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">subject</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SUCCESS: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>currentBuild.fullDisplayName<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>, <span style="color:#606">body</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Yay, we passed.</span><span style="color:#710">&quot;</span></span>
      }
    }
    <span style="color:#080;font-weight:bold">catch</span> (exc) {
      mail <span style="color:#606">to</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">me@example.com</span><span style="color:#710">&quot;</span></span>, <span style="color:#606">subject</span>:<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FAILURE: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>currentBuild.fullDisplayName<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span>, <span style="color:#606">body</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Boo, we failed.</span><span style="color:#710">&quot;</span></span>
    }
    <span style="color:#080;font-weight:bold">finally</span> {
      deleteDir()
    }
  }
}</code></pre>
</div></div></div>
</div>
</div>
<div class="sect1">
<h2 id="how-can-you-help"><a class="anchor" href="#how-can-you-help"></a>How can you help?</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the latest version of the
<a href="https://plugins.jenkins.io/pipeline-model-definition"><em>Pipeline-Model-Definition</em></a> plugin.</p>
</li>
<li>
<p>Read the documentation:
<a href="https://github.com/jenkinsci/pipeline-model-definition-plugin/wiki/getting%20started">Getting Started</a> and
<a href="https://github.com/jenkinsci/pipeline-model-definition-plugin/blob/master/SYNTAX.md">Syntax overview</a>.
(These documents will be incorporated into the Jenkins.io documentation.)</p>
</li>
<li>
<p>Convert some of your existing Pipeline scripts into Declarative</p>
</li>
<li>
<p>Log any issues or enhancements you have
<a href="https://issues.jenkins.io/browse/JENKINS-40493">here</a>
for the syntax, the execution, or the documentation.</p>
</li>
<li>
<p>Ask questions. You can send questions to the
<a href="mailto:jenkinsci-users@googlegroups.com">users mailing list</a>
or visit the <code>#jenkins</code> channel on IRC.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-will-this-work-with-blue-ocean"><a class="anchor" href="#how-will-this-work-with-blue-ocean"></a>How will this work with Blue Ocean?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blue Ocean is all about Pipelines in Jenkins. Running, displaying, and soon,
creating Pipelines.  Blue Ocean will be able to run and display Pipelines
written in this new syntax just like any other Pipeline works today. However,
because Declarative Pipeline includes a pre-defined structure, or model, it is
now possible to create and edit pipelines with a GUI editor.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/blueocean/pipeline-editor.png" alt="Pipeline Editor"></span></p>
</div>
<div class="paragraph">
<p>Although we plan to launch 1.0 of Declarative Pipeline before Blue Ocean 1.0 is
officially available, we expect to have a working Beta of the Editor available
to play with. The combination of a simple syntax and an intuitive editor
should make creating Jenkins Pipelines a breeze.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="happy-holidays"><a class="anchor" href="#happy-holidays"></a>Happy Holidays</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I hope everyone has a great end of the year and a Happy New Year. With
Declarative Pipeline and
<a href="/projects/blueocean">Blue Ocean</a>
we expect great things for Jenkins in 2017!</p>
</div>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/pipeline/">
pipeline
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/blueocean/">
blueocean
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px"></div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/hrmpw/">
Patrick Wolf
</a>
</p>
This author has no biography defined.
See social media links referenced below.
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/HRMPW" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
<li>
<a href="https://twitter.com/hrmpw" rel="noreferrer noopener" target="_blank">
Twitter
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2016/2016-12-19-declarative-pipeline-beta.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
