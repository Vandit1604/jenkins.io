<!DOCTYPE html>
<html lang="en">
<head>
<title>
Upgrading to Jenkins LTS 2.319.x
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.319/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Upgrading to Jenkins LTS 2.319.x" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Upgrading to Jenkins LTS 2.319.x" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Upgrading to Jenkins LTS 2.319.x" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/2.319/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Upgrading to Jenkins LTS 2.319.x" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="active">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<h1>
Upgrading to Jenkins LTS 2.319.x
</h1>
<p>
Each section covers the upgrade from the previous LTS release,
the section on 2.319.1 covers the upgrade from  2.303.3.
</p>
<h3 id="upgrading-to-jenkins-lts-2-319-3">
Upgrading to Jenkins 2.319.3
</h3>
<div class="paragraph">
<p>No notable changes requiring upgrade notes.</p>
</div>
<h3 id="upgrading-to-jenkins-lts-2-319-2">
Upgrading to Jenkins 2.319.2
</h3>
<div class="sect3">
<h4 id="SECURITY-2558"><a class="anchor" href="#SECURITY-2558"></a>Triggering Builds in Scripted Clients Without a Security Realm</h4>
<div class="paragraph">
<p>Jenkins used to allow triggering builds using HTTP GET requests when no security realm and authorization strategy are defined.
This is newly prohibited since Jenkins 2.319.2 and 2.330 as this could be abused via CSRF even when Jenkins is operated on a private network.</p>
</div>
<div class="paragraph">
<p>HTTP POST requests to Jenkins need to provide a CSRF token (crumb) unless they authenticate using a user-specific API token.
When Jenkins is configured without security realm, there is no way to authenticate using an API token, so any scripted clients triggering builds first need to obtain a CSRF crumb from the crumb issuer as described <a href="/doc/book/security/csrf-protection/#working-with-scripted-clients">in the documentation</a>.</p>
</div>
</div>
<h3 id="upgrading-to-jenkins-lts-2-319-1">
Upgrading to Jenkins 2.319.1
</h3>
<div class="sect3">
<h4 id="built-in-node-name-and-label-migration"><a class="anchor" href="#built-in-node-name-and-label-migration"></a>Built-In Node Name and Label Migration</h4>
<div class="paragraph">
<p>As part of the <a href="https://groups.google.com/g/jenkinsci-dev/c/x5vdlJDvntw">terminology cleanup effort</a>, the built-in node was renamed from "master node" to "built-in node" in Jenkins 2.307 and in Jenkins 2.319.1.
This is not just a change affecting the UI and documentation:
The node name affects the implicitly assigned label of the node (and consequently the <code>NODE_LABELS</code> environment variable), as well as the <code>NODE_NAME</code> environment variable.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>NODE_NAME</code> environment variable in Pipelines is set by the <a href="https://plugins.jenkins.io/workflow-durable-task-step">Pipeline: Nodes and Processes</a> plugin.
In plugin version 2.39 and earlier, this value is always <code>master</code>. Update to version 2.40 or newer to get consistent behavior between job types.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="affected-features"><a class="anchor" href="#affected-features"></a>Affected Features</h4>
<div class="paragraph">
<p>Jenkins features using node labels are therefore potentially impacted by any such changes.
These features include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Label assignments of various project types, both on the top level (e.g. Freestyle jobs) and within jobs (e.g. <code>node</code> statements in Scripted Pipeline, <code>label</code> parameters to <code>agent</code> sections in Declarative Pipeline, or <a href="https://plugins.jenkins.io/matrix-project">Matrix Project</a> axes).</p>
</li>
<li>
<p>Label assignments of features like custom tool auto-installers, typically used to distinguish OS platforms.</p>
</li>
<li>
<p>Any custom build scripts whose behavior is different based on the <code>NODE_NAME</code> or <code>NODE_LABELS</code> environment variables
(or their <code>env</code> global variable equivalent in Pipeline).</p>
</li>
<li>
<p>Any similar features in plugins.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="migration"><a class="anchor" href="#migration"></a>Migration</h4>
<div class="paragraph">
<p>Due to the potential impact to build behavior, instances upgrading Jenkins to version 2.307 or newer do not automatically get these behavior changes applied.
Instead, an administrative monitor informs administrators about this change and allows them to apply it.</p>
</div>
<div class="paragraph">
<p>Before applying the built-in node name and label migration, administrators are advised to review their configuration and build scripts to assess the impact to their instance and jobs.</p>
</div>
<div class="paragraph">
<p>Most problems with label assignments can likely be worked around by manually assigning the label <code>master</code> to the built-in node and then migrating affected configuration incrementally to not need this workaround.</p>
</div>
</div>
<div class="sect3">
<h4 id="plugin-compatibility"><a class="anchor" href="#plugin-compatibility"></a>Plugin Compatibility</h4>
<div class="sect4">
<h5 id="known-incompatible-plugins"><a class="anchor" href="#known-incompatible-plugins"></a>Known Incompatible Plugins</h5>
<div class="ulist">
<ul>
<li>
<p><a href="https://plugins.jenkins.io/workflow-durable-task-step">Pipeline: Nodes and Processes</a> always sets the <code>NODE_NAME</code> to <code>master</code> in Pipelines before <a href="https://github.com/jenkinsci/workflow-durable-task-step-plugin/releases/tag/workflow-durable-task-step-2.40">version 2.40</a>.</p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/nodelabelparameter">Node and Label Parameter plugin</a> displays the controller node as <code>master</code> in releases before <a href="https://github.com/jenkinsci/nodelabelparameter-plugin/releases/tag/nodelabelparameter-1.10.0">version 1.10.0</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use <a href="https://issues.jenkins.io/issues/?jql=labels%3Dbuilt-in-node-migration-regression">this Jira query</a> to find compatibility issues tracked in the Jenkins Jira.</p>
</div>
<div class="paragraph">
<p>Use <a href="https://github.com/search?q=%22https%3A%2F%2Fgithub.com%2Fjenkinsci%2Fjenkins%2Fpull%2F5425%22+-repo%3Ajenkinsci%2Fjenkins&amp;type=Issues&amp;ref=advsearch&amp;l=&amp;l=">this GitHub query</a> to find compatibility issues tracked on GitHub.</p>
</div>
</div>
<div class="sect4">
<h5 id="reporting-incompatible-plugins"><a class="anchor" href="#reporting-incompatible-plugins"></a>Reporting Incompatible Plugins</h5>
<div class="paragraph">
<p>Please report problems in the respective plugin&#8217;s issue tracker.</p>
</div>
<div class="paragraph">
<p>If the affected plugin uses the Jenkins Jira to track issues, please add the label <code>built-in-node-migration-regression</code>.</p>
</div>
<div class="paragraph">
<p>If the affected plugin tracks issues on GitHub, please make sure to mention the <a href="https://github.com/jenkinsci/jenkins/pull/5425">Jenkins pull request</a> that implemented the change in your issue.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="woodstox-implementation-removed"><a class="anchor" href="#woodstox-implementation-removed"></a>Woodstox implementation removed</h4>
<div class="paragraph">
<p>The Woodstox implementation of the StAX API from Jenkins core has been removed from Jenkins core.
Users of the Azure Artifact Manager, Azure Container Agents, Azure Storage, and Azure SDK API plugins must upgrade those plugins to the latest versions prior to this core upgrade.</p>
</div>
</div>
<div class="sect3">
<h4 id="ant-deprecated-classes-removed"><a class="anchor" href="#ant-deprecated-classes-removed"></a>Ant deprecated classes removed</h4>
<div class="paragraph">
<p>Deprecated, unsafe classes that had been previously copied from Apache Ant to Jenkins core have been removed.
The unmaintained <a href="https://plugins.jenkins.io/docker-slaves">Docker slaves</a> plugin is incompatible with this change.</p>
</div>
</div>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/upgrade-guide.html.haml"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
