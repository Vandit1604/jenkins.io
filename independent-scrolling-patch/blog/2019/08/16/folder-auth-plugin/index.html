<!DOCTYPE html>
<html lang="en">
<head>
<title>
Introducing new Folder Authorization Plugin
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2019/08/16/folder-auth-plugin/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Introducing new Folder Authorization Plugin" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Introducing new Folder Authorization Plugin" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Introducing new Folder Authorization Plugin" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2019/08/16/folder-auth-plugin/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Introducing new Folder Authorization Plugin" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Introducing new Folder Authorization Plugin
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/abhyudayasharma/"><div class="app-avatar"><img alt="Abhyudaya Sharma" class="app-avatar__image" src="/images/avatars/abhyudayasharma.jpg"></div> Abhyudaya Sharma</a>
August 16, 2019
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Introducing+new+Folder+Authorization+Plugin&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2019%2F08%2F16%2Ffolder-auth-plugin%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="paragraph">
<p>During my <a href="/projects/gsoc/2019/role-strategy-performance">Google Summer of Code Project</a>,
I have created the brand new <a href="https://plugins.jenkins.io/folder-auth">Folder Auth Plugin</a> for easily
managing permissions to projects organized in folders from the <a href="https://plugins.jenkins.io/cloudbees-folder">Folders plugin</a>.
This new plugin is designed for fast permission checks with easy-to-manage roles.
The 1.0 version of the plugin has just been released and can be downloaded
from your Jenkins' Update center.</p>
</div>
<div class="paragraph">
<p>This plugin was inspired by the <a href="https://plugins.jenkins.io/role-strategy">Role Strategy Plugin</a>
and brings about performance improvements and makes managing roles much easier.
The plugin was developed to overcome performance limitations of the Role Strategy
plugin on a large number of roles. At the same time, the plugin addresses one
of the most popular ways of organizing projects in Jenkins, through folders.
The plugin also has a new UI with more improvements to come in the future.</p>
</div>
<div class="paragraph">
<p>The plugin supports three types of roles which are applicable at different places
in Jenkins.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Global Roles: applicable everywhere in Jenkins</p>
</li>
<li>
<p>Agent Roles: restrict permissions for multiple agents connected to your instance</p>
</li>
<li>
<p>Folder Roles: applicable to multiple jobs organized inside folders</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/gsoc-folder-auth-plugin/folder-auth.png" alt="Screenshot of the Folder Auth Plugin">
</div>
</div>
<div class="sect3">
<h4 id="performance-improvements-over-role-strategy-plugin"><a class="anchor" href="#performance-improvements-over-role-strategy-plugin"></a>Performance Improvements over Role Strategy Plugin</h4>
<div class="paragraph">
<p>This plugin, unlike the Role Strategy plugin, does not use regular expressions
for finding matching projects and agents giving us performance improvements
and makes administrators' lives easier. To reduce the number of roles required
to be managed, permissions given to a folder through a folder role get inherited
to all of its children. This is useful for giving access to multiple projects
through a single role. Similarly, an agent role can be applied to multiple agents
and assigned to multiple users.</p>
</div>
<div class="paragraph">
<p>This plugin is designed to outperform Role Strategy Plugin in permission
checks. The improvements were measured using the
<a href="/blog/2019/06/21/performance-testing-jenkins/">micro-benchmark framework</a>
I had created during the first phase of my GSoC project.
Benchmarks for identical configurations for both plugin show that the
permissions check are up to 934x faster for 500 global roles when compared to
the global roles from the Role Strategy 2.13, which in itself contains several
performance improvements. Comparing folder roles with Role Strategy&#8217;s project
roles, a permission check for access to a job almost 15x faster for 250 projects
organized in two-level deep folders on an instance with 150 users. You can see
the benchmarks and the result comparisons
<a href="https://github.com/jenkinsci/folder-auth-plugin/pull/13">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="jenkins-configuration-as-code-support"><a class="anchor" href="#jenkins-configuration-as-code-support"></a>Jenkins Configuration as Code Support</h4>
<div class="paragraph">
<p>The plugin supports Jenkins Configuration-as-Code so you can configure permissions
without going through the Web UI. A YAML configuration looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">jenkins</span><span class="pi">:</span>
  <span class="na">authorizationStrategy</span><span class="pi">:</span>
    <span class="na">folderBased</span><span class="pi">:</span>
      <span class="na">globalRoles</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">admin"</span>
          <span class="na">permissions</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hudson.model.Hudson.Administer"</span>
              <span class="c1"># ...</span>
          <span class="na">sids</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">admin"</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">read"</span>
          <span class="na">permissions</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hudson.model.Hudson.Read"</span>
          <span class="na">sids</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">user1"</span>
      <span class="na">folderRoles</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">folders</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">root"</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">viewRoot"</span>
          <span class="na">permissions</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hudson.model.Item.Read"</span>
          <span class="na">sids</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">user1"</span>
      <span class="na">agentRoles</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">agents</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">agent1"</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">agentRole1"</span>
          <span class="na">permissions</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hudson.model.Computer.Configure"</span>
            <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hudson.model.Computer.Disconnect"</span>
          <span class="na">sids</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">user1"</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rest-apis-with-swagger-support"><a class="anchor" href="#rest-apis-with-swagger-support"></a>REST APIs with Swagger support</h4>
<div class="paragraph">
<p>The plugin provides REST APIs for managing roles with OpenAPI specifications
through Swagger.json. You can check out the Swagger API on
<a href="https://app.swaggerhub.com/apis/abhyudaya/folder-auth/1.0.0s">SwaggerHub</a>.
SwaggerHub provides stubs in multiple languages which can be downloaded and
used to interact with the plugin. You can also see some sample requests from
the command line using <a href="https://curl.haxx.se/">curl</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/gsoc-folder-auth-plugin/swagger.png" alt="Screenshot of the APIs on SwaggerHub" height="500">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/gsoc-folder-auth-plugin/swagger2.png" alt="Another Screenshot of the APIs on SwaggerHub" height="400">
</div>
</div>
</div>
<div class="sect3">
<h4 id="whats-next"><a class="anchor" href="#whats-next"></a>What&#8217;s next</h4>
<div class="paragraph">
<p>In the (not-too-distant) future, I would like to work on improving the UI and
make the plugin easier to work with. I would also like to work on improving the
APIs, documentation and more optimizations for improving the plugin&#8217;s performance.</p>
</div>
</div>
<div class="sect1">
<h2 id="links-and-feedback"><a class="anchor" href="#links-and-feedback"></a>Links and Feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I would love to hear your comments and suggestions. Please feel free to reach
out to me through either the
<a href="https://gitter.im/jenkinsci/role-strategy-plugin">Role Strategy Plugin Gitter chat</a> or through
<a href="mailto:jenkinsci-dev@googlegroups.com">Jenkins Developer Mailing list</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://drive.google.com/file/d/1IVe3T8WdTILmb62PAIJveR4KbBWzPt1k/view?usp=sharing">Presentation slides for second phase evaluations</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/folder-auth-plugin/blob/master/README.md">Documentation for the Folder Auth Plugin</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=tAUHfYYQrpo">Demo of the Folder Authorization plugin</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/plugins/">
plugins
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/security/">
security
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/performance/">
performance
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/gsoc/">
gsoc
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/gsoc2019/">
gsoc2019
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px">
<img alt="Abhyudaya Sharma" class="app-avatar__image" src="/jenkins.io/independent-scrolling-patch/images/avatars/abhyudayasharma.jpg">
</div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/abhyudayasharma/">
Abhyudaya Sharma
</a>
</p>
<div class="paragraph">
<p>Abhyudaya is a Computer Science student at Shiv Nadar University, India.
He is participating in Google Summer of Code 2019 to improve the performance
of the <a href="https://github.com/jenkinsci/role-strategy-plugin">Role Strategy Plugin</a>.</p>
</div>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
<li>
<a href="https://github.com/AbhyudayaSharma" rel="noreferrer noopener" target="_blank">
GitHub
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2019/08/2019-08-16-folder-auth-plugin.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
