<!DOCTYPE html>
<html lang="en">
<head>
<title>
Running load tests in Jenkins Pipeline with Taurus
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2017/08/17/speaker-blog-blazemeter/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Running load tests in Jenkins Pipeline with Taurus" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Running load tests in Jenkins Pipeline with Taurus" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Running load tests in Jenkins Pipeline with Taurus" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/blog/2017/08/17/speaker-blog-blazemeter/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Running load tests in Jenkins Pipeline with Taurus" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.app-post-page h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<article class="container app-post-page">
<div class="app-!-display-flex">
<a class="app-back-link" href="/jenkins.io/independent-scrolling-patch/node/">
Back to blog
</a>
</div>
<h1>
Running load tests in Jenkins Pipeline with Taurus
</h1>
<div class="post-attrs">
<a class="app-author-link" href="/blog/authors/hinman/"><div class="app-avatar"></div> Hannah Inman</a>
August 17, 2017
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/intent/tweet?text=Running+load+tests+in+Jenkins+Pipeline+with+Taurus&amp;url=https%3A%2F%2Fwww.jenkins.io%2Fjenkins.io%2Findependent-scrolling-patch%2Fblog%2F2017%2F08%2F17%2Fspeaker-blog-blazemeter%2F" rel="noreferrer nofollow" target="_blank">
Tweet
</a>
</div>
<div class="blog-content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is a guest post by Guy Salton, Sr. Professional Services Engineer for
<a href="https://www.blazemeter.com/ca-technologies">CA BlazeMeter</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://www.blazemeter.com/blog/running-jmeter-test-jenkins-pipeline-tutorial">Jenkins
Pipeline</a> is an important Jenkins feature for creating and managing a project
in Jenkins. This is opposed to the traditional way of creating a Jenkins
project by using the Jenkins GUI. When running your open-source load test,
Jenkins Pipeline enables resilience, execution control, advanced logic and
Version Control management.  This blog post will explain how to run any
open-source load test with Jenkins Pipeline, through Taurus.</p>
</div>
<div class="paragraph">
<p><a href="https://gettaurus.org/">Taurus</a> is an open source test automation framework
that enables running and analyzing tests from 9 open source load and functional
testing tools: <a href="https://www.blazemeter.com/jmeter-load-testing">JMeter</a>,
Selenium, Gatling, The Grinder, Locust, Tsung, Siege, Apache Bench, and PBench.
Test results can be analyzed in Taurus. For advanced analyses or running tests
in the cloud, Taurus integrates with
<a href="https://info.blazemeter.com/testing-landing-page-url">BlazeMeter</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Guy will be
<a href="https://jenkinsworld20162017.sched.com/event/BYQn/learn-to-release-faster-by-load-testing-with-jenkins-free?iframe=no">presenting</a>
more on this topic at
<a href="https://www.cloudbees.com/jenkinsworld/home">Jenkins World</a> in August,
register with the code <code>JWFOSS</code> for a 30% discount off your pass.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="getting-started-with-taurus"><a class="anchor" href="#getting-started-with-taurus"></a>Getting started with Taurus</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <a href="https://gettaurus.org">Taurus</a>.</p>
</li>
<li>
<p>Create the following Taurus configuration in YAML. Learn more about YAML in Taurus from
<a href="https://gettaurus.org/docs/YAMLTutorial/">this tutorial</a>.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="c1">## execution:</span>
<span class="pi">-</span> <span class="na">concurrency</span><span class="pi">:</span> <span class="m">100</span>
  <span class="na">hold-for</span><span class="pi">:</span> <span class="s">10m</span>
  <span class="na">ramp-up</span><span class="pi">:</span> <span class="s">120s</span>
  <span class="na">scenario</span><span class="pi">:</span> <span class="s">Thread Group</span>
<span class="na">scenarios</span><span class="pi">:</span>
  <span class="na">Thread Group</span><span class="pi">:</span>
    <span class="na">requests</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">label</span><span class="pi">:</span> <span class="s">blazedemo</span>
      <span class="na">method</span><span class="pi">:</span> <span class="s">GET</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">http://blazedemo.com/</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This script runs 100 concurrent users, holds the load for 10 minutes, the
ramp-up is 120 seconds and the thread group runs one GET request to
<code>blazedemo.com</code>.</p>
</div>
<div class="paragraph">
<p>You can specify an executor by adding <code>executor: &lt;executor_name&gt;</code> to the
script. Otherwise, the default executor will be JMeter. In the background,
Taurus will create an artifact directory with a jmx file (or a Scala file if
you run Gatling, a Python file if you are running Selenium, etc.).</p>
</div>
</li>
<li>
<p>Open a terminal and run: <code>bzt &lt;file_name&gt;.yml</code></p>
</li>
<li>
<p>View the test results:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-1.png" alt="Viewing test results from Taurus">
</div>
</div>
<div class="paragraph">
<p>If you want to conduct an in-depth analysis of your test results, run your
tests on BlazeMeter. You will be able to monitor KPIs through advanced and
colorful reports, evaluate system health over time, and run your tests from
multiple geo-locations.</p>
</div>
<div class="paragraph">
<p>Run the following command from the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="bash">bzt &lt;file_name&gt;.yml <span class="nt">-report</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-2.png" alt="Viewing test results in Blazemeter">
</div>
</div>
</div>
<div class="sect2">
<h3 id="integrate-taurus-with-pipeline"><a class="anchor" href="#integrate-taurus-with-pipeline"></a>Integrate Taurus With Pipeline</h3>
<div class="paragraph">
<p>To run Taurus through <a href="/doc/book/pipeline">Pipeline</a>, you can also go
straight to Jenkins after creating your Taurus script.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Jenkins &#8594; New Item &#8594; Fill in an item name &#8594; Click on ‘Pipeline’</p>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-3.png" alt="blazemeter speaker blog 2017 3">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-4.png" alt="blazemeter speaker blog 2017 4">
</div>
</div>
</li>
<li>
<p>Now create a Pipeline script. You can include all parts of
your CI/CD process in this script: Commit, Build, Unit Test, Performance Test,
etc., by creating different stages.</p>
<div class="paragraph">
<p>This Pipeline has three stages: The first is called “build”. In this example it
is empty, but you can add commands that will build your code. The second,
called “Performance Tests”, creates a folder called “Taurus-Repo” and runs the
Taurus script that we created. At the same time (note the “parallel” command),
there is a “sleep” command for 60 seconds. Obviously it makes no sense to put
those two commands together, this is just to show you the option of running 2
commands in parallel. The third stage called “Deploy” is also empty in this
example. This is where you could deploy your new version.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="n">node</span> <span class="o">{</span>
   <span class="n">stage</span><span class="o">(</span><span class="s1">'Build'</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Run the Taurus build</span>
   <span class="o">}</span>
   <span class="n">stage</span><span class="o">(</span><span class="s1">'Performance Tests'</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">parallel</span><span class="o">(</span>
        <span class="nl">BlazeMeterTest:</span> <span class="o">{</span>
            <span class="n">dir</span> <span class="o">(</span><span class="s1">'Taurus-Repo'</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">sh</span> <span class="s1">'bzt &lt;file_name&gt;.yml -report'</span>
            <span class="o">}</span>
        <span class="o">},</span>
        <span class="nl">Analysis:</span> <span class="o">{</span>
            <span class="n">sleep</span> <span class="mi">60</span>
        <span class="o">})</span>
   <span class="o">}</span>

   <span class="n">stage</span><span class="o">(</span><span class="err">‘</span><span class="n">Deploy</span><span class="err">’</span><span class="o">)</span> <span class="o">{</span>
   <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-5.png" alt="blazemeter speaker blog 2017 5">
</div>
</div>
<div class="paragraph">
<p>Note that you can either add the Pipeline inline, or choose the “Pipeline
script from SCM” option and add the URL to the script on GitHub (in this case
you need to upload a <code>Jenkinsfile</code> to GitHub). With "Pipeline from SCM",
whenever you need to update the tests, you can just add new commits to the
<code>Jenkinsfile</code>.</p>
</div>
</li>
<li>
<p>Save the Pipeline</p>
</li>
<li>
<p>Click on ‘Build Now’ to run the Pipeline</p>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-6.png" alt="blazemeter speaker blog 2017 6">
</div>
</div>
</li>
<li>
<p>Click on the new Build that is running now (build #6 in this example).</p>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-7.png" alt="blazemeter speaker blog 2017 7">
</div>
</div>
</li>
<li>
<p>Click on ‘Console Output’ to see the test results:</p>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-8.png" alt="blazemeter speaker blog 2017 8">
</div>
</div>
</li>
<li>
<p>In the Console Output you can see the test results and also the link to the report in BlazeMeter.</p>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-9.png" alt="blazemeter speaker blog 2017 9">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/post-images/jenkinsworld2017/blazemeter/blazemeter-speaker-blog-2017-10.png" alt="blazemeter speaker blog 2017 10">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>That’s it! Jenkins Pipeline is now running open-source load testing tools via Taurus.</p>
</div>
<div class="paragraph">
<p>Come to
<a href="https://jenkinsworld20162017.sched.com/event/BYQn/learn-to-release-faster-by-load-testing-with-jenkins-free">my
free hands-on workshop “Learn to Release Faster by Load Testing With Jenkins”</a>
at Jenkins World 2017 on Tuesday August 29th from 1-5pm.  You will learn how to
test continuously with Jenkins, JMeter, BlazeMeter and Taurus, including how to
run JMeter with Jenkins, run the BlazeMeter plugin for Jenkins and how to use
open-source Taurus.</p>
</div>
<div class="paragraph">
<p>To learn more about BlazeMeter,
<a href="https://info.blazemeter.com/testing-landing-page2">click here</a>.</p>
</div>
</div>
</div>
<ul class="app-tags">
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/event/">
event
</a>
</li>
<li>
<a class="app-tags__tag" href="/jenkins.io/independent-scrolling-patch/node/tags/jenkinsworld/">
jenkinsworld
</a>
</li>
</ul>
<h2>
About the author
</h2>
<!-- starting partial author.html.haml -->
<div class="app-author" id="about-the-author">
<!-- starting partial avatar.html.haml -->
<div class="app-avatar" style="min-width: 64px; width: 25vw; max-width: 128px"></div>

<!-- ending partial avatar.html.haml -->
<div class="app-author__content">
<p class="app-author__name">
<a href="/blog/authors/hinman/">
Hannah Inman
</a>
</p>
This author has no biography defined.
See social media links referenced below.
<!-- starting partial social-media-buttons.html.haml -->
<ul class="app-social-media-buttons">
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</div>
</div>

<!-- ending partial author.html.haml -->
<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</article>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//blog/2017/08/2017-08-17-speaker-blog-blazemeter.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
