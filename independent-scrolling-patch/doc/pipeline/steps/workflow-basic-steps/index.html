<!DOCTYPE html>
<html lang="en">
<head>
<title>
Pipeline: Basic Steps
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/workflow-basic-steps/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Pipeline: Basic Steps" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Pipeline: Basic Steps" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Pipeline: Basic Steps" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/workflow-basic-steps/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Pipeline: Basic Steps" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-lg-nowrap">
<div class="col-lg-3" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/" class="">> User Documentation Home</a>
</p>
<h5>
User Handbook
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/getting-started/" class="">User Handbook Overview</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/installing/" class="">Installing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/using/" class="">Using Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/" class="">Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/blueocean/" class="">Blue Ocean</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/managing/" class="">Managing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/security/" class="">Securing Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/system-administration/" class="">System Administration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/scaling/" class="">Scaling Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/troubleshooting/" class="">Troubleshooting Jenkins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/glossary/" class="">Glossary</a>
</li>
</ul>
<h5>
Tutorials
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/tour/getting-started/" class="">Guided Tour</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#pipeline" class="">Jenkins Pipeline</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/tutorials#tools" class="">Using Build Tools</a>
</li>
</ul>
<h5>
Resources
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/upgrade-guide/" class="">LTS Upgrade guides</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<p>
The following plugin provides functionality available through
Pipeline-compatible steps. Read more about how to integrate steps into your
Pipeline in the
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/#declarative-steps">Steps</a>
section of the
<a href="/jenkins.io/independent-scrolling-patch/doc/book/pipeline/syntax/">Pipeline Syntax</a>
page.
</p>
<p>
For a list of other such plugins, see the
<a href="/jenkins.io/independent-scrolling-patch/doc/pipeline/steps/">Pipeline Steps Reference</a>
page.
</p>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#pipeline-basic-steps">Pipeline: Basic Steps</a>
<ul class="sectlevel2">
<li><a href="#catcherror-catch-error-and-set-build-result-to-failure"><code>catchError</code>: Catch error and set build result to failure</a></li>
<li><a href="#deletedir-recursively-delete-the-current-directory-from-the-workspace"><code>deleteDir</code>: Recursively delete the current directory from the workspace</a></li>
<li><a href="#dir-change-current-directory"><code>dir</code>: Change current directory</a></li>
<li><a href="#echo-print-message"><code>echo</code>: Print Message</a></li>
<li><a href="#error-error-signal"><code>error</code>: Error signal</a></li>
<li><a href="#fileexists-verify-if-file-exists-in-workspace"><code>fileExists</code>: Verify if file exists in workspace</a></li>
<li><a href="#isunix-checks-if-running-on-a-unix-like-node"><code>isUnix</code>: Checks if running on a Unix-like node</a></li>
<li><a href="#mail-mail"><code>mail</code>: Mail</a></li>
<li><a href="#pwd-determine-current-directory"><code>pwd</code>: Determine current directory</a></li>
<li><a href="#readfile-read-file-from-workspace"><code>readFile</code>: Read file from workspace</a></li>
<li><a href="#retry-retry-the-body-up-to-n-times"><code>retry</code>: Retry the body up to N times</a></li>
<li><a href="#sleep-sleep"><code>sleep</code>: Sleep</a></li>
<li><a href="#stash-stash-some-files-to-be-used-later-in-the-build"><code>stash</code>: Stash some files to be used later in the build</a></li>
<li><a href="#step-general-build-step"><code>step</code>: General Build Step</a></li>
<li><a href="#timeout-enforce-time-limit"><code>timeout</code>: Enforce time limit</a></li>
<li><a href="#tool-use-a-tool-from-a-predefined-tool-installation"><code>tool</code>: Use a tool from a predefined Tool Installation</a></li>
<li><a href="#unstable-set-stage-result-to-unstable"><code>unstable</code>: Set stage result to unstable</a></li>
<li><a href="#unstash-restore-files-previously-stashed"><code>unstash</code>: Restore files previously stashed</a></li>
<li><a href="#waituntil-wait-for-condition"><code>waitUntil</code>: Wait for condition</a></li>
<li><a href="#warnerror-catch-error-and-set-build-and-stage-result-to-unstable"><code>warnError</code>: Catch error and set build and stage result to unstable</a></li>
<li><a href="#withenv-set-environment-variables"><code>withEnv</code>: Set environment variables</a></li>
<li><a href="#wrap-general-build-wrapper"><code>wrap</code>: General Build Wrapper</a></li>
<li><a href="#writefile-write-file-to-workspace"><code>writeFile</code>: Write file to workspace</a></li>
<li><a href="#archive-archive-artifacts"><code>archive</code>: Archive artifacts</a></li>
<li><a href="#getcontext-get-contextual-object-from-internal-apis"><code>getContext</code>: Get contextual object from internal APIs</a></li>
<li><a href="#unarchive-copy-archived-artifacts-into-the-workspace"><code>unarchive</code>: Copy archived artifacts into the workspace</a></li>
<li><a href="#withcontext-use-contextual-object-from-internal-apis-within-a-block"><code>withContext</code>: Use contextual object from internal APIs within a block</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="pipeline-basic-steps"><a class="anchor" href="#pipeline-basic-steps"></a>Pipeline: Basic Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://plugins.jenkins.io/workflow-basic-steps">View this plugin on the Plugins site</a></p>
</div>
<div class="sect2">
<h3 id="catcherror-catch-error-and-set-build-result-to-failure"><a class="anchor" href="#catcherror-catch-error-and-set-build-result-to-failure"></a><code>catchError</code>: Catch error and set build result to failure</h3>
<div><div>
 If the body throws an exception, mark the build as a failure, but nonetheless continue to execute the Pipeline from the statement following the <code>catchError</code> step. The behavior of the step when an exception is thrown can be configured to print a message, set a build result other than failure, change the stage result, or ignore certain kinds of exceptions that are used to interrupt the build.
 <p>This step is most useful when used in Declarative Pipeline or with the options to set the stage result or ignore build interruptions. Otherwise, consider using plain <code>try</code>-<code>catch</code>(-<code>finally</code>) blocks. It is also useful when using certain post-build actions (notifiers) originally defined for freestyle projects which pay attention to the result of the ongoing build.</p>
 <p></p>
 <pre>node {
    catchError {
        sh 'might fail'
    }
    step([$class: 'Mailer', recipients: 'admin@somewhere'])
}
</pre>
 <p>If the shell step fails, the Pipeline build’s status will be set to failed, so that the subsequent mail step will see that this build is failed. In the case of the mail sender, this means that it will send mail. (It may also send mail if this build <em>succeeded</em> but previous ones failed, and so on.) Even in that case, this step can be replaced by the following idiom:</p>
 <p></p>
 <pre>node {
    try {
        sh 'might fail'
    } catch (err) {
        echo "Caught: ${err}"
        currentBuild.result = 'FAILURE'
    }
    step([$class: 'Mailer', recipients: 'admin@somewhere'])
}
</pre>
 <p>For other cases, plain <code>try</code>-<code>catch</code>(-<code>finally</code>) blocks may be used:</p>
 <p></p>
 <pre>node {
    sh './set-up.sh'
    try {
        sh 'might fail'
        echo 'Succeeded!'
    } catch (err) {
        echo "Failed: ${err}"
    } finally {
        sh './tear-down.sh'
    }
    echo 'Printed whether above succeeded or failed.'
}
// …and the pipeline as a whole succeeds
</pre>
 <p>See <a href="https://github.com/jenkinsci/workflow-basic-steps-plugin/blob/master/CORE-STEPS.md#interacting-with-build-status" rel="nofollow">this document</a> for background.</p>
</div></div>
<ul><li><code>buildResult : String</code> (optional)
<div><div>
 If an error is caught, the overall build result will be set to this value. Note that the build result can only get worse, so you cannot change the result to <code>SUCCESS</code> if the current result is <code>UNSTABLE</code> or worse. Use <code>SUCCESS</code> or <code>null</code> to keep the build result from being set when an error is caught.
</div></div>

</li>
<li><code>catchInterruptions : boolean</code> (optional)
<div><div>
 If true, certain types of exceptions that are used to interrupt the flow of execution for Pipelines will be caught and handled by the step. If false, those types of exceptions will be caught and immediately rethrown. Examples of these types of exceptions include those thrown when a build is manually aborted through the UI and those thrown by the <code>timeout</code> step. Defaults to true.
</div></div>

</li>
<li><code>message : String</code> (optional)
<div><div>
 A message that will be logged to the console if an error is caught. If the stage result is specified, the message will also be associated with that result and may be shown in visualizations.
</div></div>

</li>
<li><code>stageResult : String</code> (optional)
<div><div>
 If an error is caught, the stage result will be set to this value. If a message was specified, the message will be associated with this result. Use <code>SUCCESS</code> or <code>null</code> to keep the stage result from being set when an error is caught.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="deletedir-recursively-delete-the-current-directory-from-the-workspace"><a class="anchor" href="#deletedir-recursively-delete-the-current-directory-from-the-workspace"></a><code>deleteDir</code>: Recursively delete the current directory from the workspace</h3>
<div><div>
 Recursively deletes the current directory and its contents. Symbolic links and junctions will not be followed but will be removed. To delete a specific directory of a workspace wrap the <code>deleteDir</code> step in a <code>dir</code> step.
</div></div>
<ul></ul>
</div>
<div class="sect2">
<h3 id="dir-change-current-directory"><a class="anchor" href="#dir-change-current-directory"></a><code>dir</code>: Change current directory</h3>
<div><div>
 Change current directory. Any step inside the <code>dir</code> block will use this directory as current and any relative path will use it as base path.
</div></div>
<ul><li><code>path : String</code>
<div><div>
 The relative path of the directory in the workspace to use as a new working directory.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="echo-print-message"><a class="anchor" href="#echo-print-message"></a><code>echo</code>: Print Message</h3>
<ul><li><code>message : String</code>
<div><div>
 The message to write to the console output.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="error-error-signal"><a class="anchor" href="#error-error-signal"></a><code>error</code>: Error signal</h3>
<div><div>
 Signals an error. Useful if you want to conditionally abort some part of your program. You can also just <code>throw new Exception()</code>, but this step will avoid printing a stack trace.
</div></div>
<ul><li><code>message : String</code>
<div><div>
 The message that will be logged to the console when an error is caught.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="fileexists-verify-if-file-exists-in-workspace"><a class="anchor" href="#fileexists-verify-if-file-exists-in-workspace"></a><code>fileExists</code>: Verify if file exists in workspace</h3>
<div><div>
 Checks if the given file exists on the current node. Returns <code>true | false</code>. This step must be run inside a <code>node</code> context:
 <p></p>
 <pre># Declarative Syntax
stage ('Check for existence of index.html') {
    agent any # Could be a top-level directive or a stage level directive
    steps {
        script {
            if (fileExists('src/main/rersources/index.html') {
                echo "File src/main/rersources/index.html found!"
            }
        }
    }
}
</pre>
 <p></p> With the Declarative Syntax, it must be run in a stage with a defined agent (e.g. different than `agent none`):
 <p></p>
 <pre># Scripted Syntax
node {
    if (fileExists('src/main/rersources/index.html') {
        echo "File src/main/rersources/index.html found!"
    }
}
</pre>
 <p></p>
</div></div>
<ul><li><code>file : String</code>
<div><div>
 Path to a file or a directory to verify its existence.
 <ul>
  <li>Both absolute and relative paths are supported. When using relative path, it is relative to the current working directory (by default: the workspace).</li>
  <li>Both Unix and Windows path are supported using a <pre>/</pre> separator: <p></p><pre>node('Linux') {
    if (fileExists('/usr/local/bin/jenkins.sh') {
        sh '/usr/local/bin/jenkins.sh'
    }
}
node('Windows') {
    if (fileExists('C:/jenkins.exe') {
        bat 'C:/jenkins.exe'
    }
}
</pre><p></p> When using a Windows path with the backslash (<pre>\</pre>) separator, do not forget to escape it: <p>node('Windows') { if (fileExists('src\\main\\resources') { echo 'Found a directory resources.' } }</p></li>
 </ul>
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="isunix-checks-if-running-on-a-unix-like-node"><a class="anchor" href="#isunix-checks-if-running-on-a-unix-like-node"></a><code>isUnix</code>: Checks if running on a Unix-like node</h3>
<div><div>
 Returns true if enclosing <code>node</code> is running on a Unix-like system (such as Linux or Mac OS X), false if Windows.
</div></div>
<ul></ul>
</div>
<div class="sect2">
<h3 id="mail-mail"><a class="anchor" href="#mail-mail"></a><code>mail</code>: Mail</h3>
<div><div>
 Simple step for sending email.
</div></div>
<ul><li><code>subject : String</code>
<div><div>
 Email subject line.
</div></div>

</li>
<li><code>body : String</code>
<div><div>
 Email body.
</div></div>

</li>
<li><code>bcc : String</code> (optional)
<div><div>
 BCC email address list. Comma separated list of email addresses.
</div></div>

</li>
<li><code>cc : String</code> (optional)
<div><div>
 CC email address list. Comma separated list of email addresses.
</div></div>

</li>
<li><code>charset : String</code> (optional)
<div><div>
 Email body character encoding. Defaults to <code>UTF-8</code>
</div></div>

</li>
<li><code>from : String</code> (optional)
<div><div>
 From email address. Defaults to the admin address globally configured for the Jenkins instance.
</div></div>

</li>
<li><code>mimeType : String</code> (optional)
<div><div>
 Email body MIME type. Defaults to <code>text/plain</code>.
</div></div>

</li>
<li><code>replyTo : String</code> (optional)
<div><div>
 Reploy-To email address. Defaults to the admin address globally configured for the Jenkins instance.
</div></div>

</li>
<li><code>to : String</code> (optional)
<div><div>
 To email address list. Comma separated list of email addresses.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="pwd-determine-current-directory"><a class="anchor" href="#pwd-determine-current-directory"></a><code>pwd</code>: Determine current directory</h3>
<div><div>
 Returns the current directory path as a string.
</div></div>
<ul><li><code>tmp : boolean</code> (optional)
<div><div>
 If selected, return a temporary directory associated with the current directory path rather than the directory path itself. The return value is different for each current directory. No two directories share the same temporary directory. This is an appropriate place to put temporary files which should not clutter a source checkout; local repositories or caches; etc. Defaults to false.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="readfile-read-file-from-workspace"><a class="anchor" href="#readfile-read-file-from-workspace"></a><code>readFile</code>: Read file from workspace</h3>
<div><div>
 Reads a file from a relative path (with root in current directory, usually workspace) and returns its content as a plain string.
</div></div>
<ul><li><code>file : String</code>
<div><div>
 Relative (<code>/</code>-separated) path to file within a workspace to read.
</div></div>

</li>
<li><code>encoding : String</code> (optional)
<div><div>
 The encoding to use when reading the file. If left blank, the platform default encoding will be used. Binary files can be read into a Base64-encoded string by specifying "Base64" as the encoding.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="retry-retry-the-body-up-to-n-times"><a class="anchor" href="#retry-retry-the-body-up-to-n-times"></a><code>retry</code>: Retry the body up to N times</h3>
<div><div>
 Retry the block (up to N times) if any exception happens during its body execution. If an exception happens on the final attempt then it will lead to aborting the build (unless it is caught and processed somehow). User aborts of the build are <em>not</em> caught.
</div></div>
<ul><li><code>count : int</code>
</li>
<li><code>conditions</code> (optional)
<div><div>
 Conditions under which the block should be retried. If none match, the block will fail. If there are no specified conditions, the block will always be retried except in case of user aborts.
</div></div>

<ul><b>Array / List of Nested Choice of Objects</b>
<li><code>agent</code><div>
<div><div>
 Detects that a <code>node</code> block, or certain steps inside it such as <code>sh</code>, failed for reasons which are likely due to infrastructure rather than the behavior of the build. If the connection to an agent is broken or the agent is removed from the list of executors while in use (typically in response to the disappearance of underlying cloud resources), this condition will allow <code>retry</code> to allocate a fresh agent and try the whole block again.
</div></div>
<ul></ul></div></li>
<li><code>kubernetesAgent</code><div>
<div><div>
 Similar to <code>agent()</code> (<b>Agent errors</b>) but tailored to agents provisioned from a Kubernetes cloud. Unlike the generic agent error condition, this will ignore certain pod termination reasons which are likely to be under the control of the Pipeline author (e.g., <code>OOMKilled</code>) while still allowing <code>retry</code> to recover after common cases of pod deletion.
</div></div>
<ul><li><code>handleNonKubernetes : boolean</code> (optional)
<div><div>
 Behave like the generic <code>agent()</code> (<b>Agent errors</b>) when applied to a non-Kubernetes agent. Useful in cases where it is hard to predict in a job definition whether a Kubernetes or other sort of agent will be used.
</div></div>

</li>
</ul></div></li>
<li><code>nonresumable</code><div>
<div><div>
 The Jenkins controller was restarted while the build was running a step which cannot be resumed. Some steps like <code>sh</code> or <code>input</code> are written to survive a Jenkins restart and simply pick up where they left off when the build resumes. Others like <code>checkout</code> or <code>junit</code> normally complete promptly but cannot tolerate a restart. In case one of these steps happened to be in progress when Jenkins shut down, the resumed build will throw an error; using this condition with <code>retry</code> allows the step (or the whole enclosing <code>node</code> block) to be rerun.
</div></div>
<ul></ul></div></li>
</ul></li>
</ul>
</div>
<div class="sect2">
<h3 id="sleep-sleep"><a class="anchor" href="#sleep-sleep"></a><code>sleep</code>: Sleep</h3>
<div><div>
 Simply pauses the Pipeline build until the given amount of time has expired. Equivalent to (on Unix) <code>sh 'sleep …'</code>. May be used to pause one branch of <code>parallel</code> while another proceeds.
</div></div>
<ul><li><code>time : int</code>
<div><div>
 The length of time for which the step will sleep.
</div></div>

</li>
<li><code>unit</code> (optional)
<div><div>
 The unit for the time parameter. Defaults to 'SECONDS' if not specified.
</div></div>

<ul><li><b>Values:</b> <code>NANOSECONDS</code>, <code>MICROSECONDS</code>, <code>MILLISECONDS</code>, <code>SECONDS</code>, <code>MINUTES</code>, <code>HOURS</code>, <code>DAYS</code></li></ul></li>
</ul>
</div>
<div class="sect2">
<h3 id="stash-stash-some-files-to-be-used-later-in-the-build"><a class="anchor" href="#stash-stash-some-files-to-be-used-later-in-the-build"></a><code>stash</code>: Stash some files to be used later in the build</h3>
<div><div>
 Saves a set of files for later use on any node/workspace in the same Pipeline run. By default, stashed files are discarded at the end of a pipeline run. Other plugins may change this behavior to preserve stashes for longer. For example, Declarative Pipeline includes a <code>preserveStashes()</code> option to allow stashes from a run to be retained and used if that run is restarted. <br> Stashes from one Pipeline run are not available in other runs, other Pipelines, or other jobs. If you want to persist artifacts for use outside of a single run, consider using <a href="https://jenkins.io/doc/pipeline/steps/core/#archiveartifacts-archive-the-artifacts" rel="nofollow"> <code>archiveArtifacts</code></a> instead. <strong>Note</strong> that the <code>stash</code> and <code>unstash</code> steps are designed for use with small files. For large data transfers, use the External Workspace Manager plugin, or use an external repository manager such as Nexus or Artifactory. This is because stashed files are archived in a compressed TAR, and with large files this demands considerable on-master resources, particularly CPU time. There's not a hard stash size limit, but between 5-100 MB you should probably consider alternatives.
</div></div>
<ul><li><code>name : String</code>
<div><div>
 Name of a stash. Should be a simple identifier akin to a job name.
</div></div>

</li>
<li><code>allowEmpty : boolean</code> (optional)
<div><div>
 Create stash even if no files are included. If <code>false</code> (default), an error is raised when the stash does not contain files.
</div></div>

</li>
<li><code>excludes : String</code> (optional)
<div><div>
 Optional set of <a href="https://ant.apache.org/manual/dirtasks.html#patterns" rel="nofollow">Ant-style exclude patterns</a>.<br> Use a comma separated list to add more than one expression.<br> If blank, no files will be excluded.
</div></div>

</li>
<li><code>includes : String</code> (optional)
<div><div>
 Optional set of <a href="https://ant.apache.org/manual/dirtasks.html#patterns" rel="nofollow">Ant-style include patterns</a>.<br> Use a comma separated list to add more than one expression.<br> If blank, treated like <code>**</code>: all files.<br> The current working directory is the base directory for the saved files, which will later be restored in the same relative locations, so if you want to use a subdirectory wrap this in <a href="https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/#code-dir-code-change-current-directory" rel="nofollow"><code>dir</code></a>.
</div></div>

</li>
<li><code>useDefaultExcludes : boolean</code> (optional)
<div><div>
 If selected, use the default excludes from Ant - see <a href="http://ant.apache.org/manual/dirtasks.html#defaultexcludes" rel="nofollow">here</a> for the list. Defaults to true.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="step-general-build-step"><a class="anchor" href="#step-general-build-step"></a><code>step</code>: General Build Step</h3>
<div>
    <p>
    This is a special step that allows to call builders or post-build actions (as in freestyle or similar projects), in general "build steps".
    Just select the build step to call from the dropdown list and configure it as needed.
    </p>
    <p>
    Note that only Pipeline-compatible steps will be shown in the list.
    </p>
</div>
To use this step you need to specify a delegate class, e.g <code>step([$class: 'A3Builder'])</code>.
</div>
<div class="sect2">
<h3 id="timeout-enforce-time-limit"><a class="anchor" href="#timeout-enforce-time-limit"></a><code>timeout</code>: Enforce time limit</h3>
<div><div>
 Executes the code inside the block with a determined time out limit. If the time limit is reached, an exception (org.jenkinsci.plugins.workflow.steps.FlowInterruptedException) is thrown, which leads to aborting the build (unless it is caught and processed somehow).
</div></div>
<ul><li><code>time : int</code>
<div><div>
 The length of time for which this step will wait before cancelling the nested block.
</div></div>

</li>
<li><code>activity : boolean</code> (optional)
<div><div>
 Timeout after no activity in logs for this block instead of absolute duration. Defaults to false.
</div></div>

</li>
<li><code>unit</code> (optional)
<div><div>
 The unit of the time parameter. Defaults to 'MINUTES' if not specified.
</div></div>

<ul><li><b>Values:</b> <code>NANOSECONDS</code>, <code>MICROSECONDS</code>, <code>MILLISECONDS</code>, <code>SECONDS</code>, <code>MINUTES</code>, <code>HOURS</code>, <code>DAYS</code></li></ul></li>
</ul>
</div>
<div class="sect2">
<h3 id="tool-use-a-tool-from-a-predefined-tool-installation"><a class="anchor" href="#tool-use-a-tool-from-a-predefined-tool-installation"></a><code>tool</code>: Use a tool from a predefined Tool Installation</h3>
<div><div>
 Binds a tool installation to a variable (the tool home directory is returned). Only tools already configured in <code>Configure System</code> are available here. If the original tool installer has the auto-provision feature, then the tool will be installed as required.
</div></div>
<ul><li><code>name : String</code>
<div><div>
 The name of the tool. The tool name must be pre-configured in Jenkins under <em>Manage Jenkins</em> → <em>Global Tool Configuration</em>.
</div></div>

</li>
<li><code>type : String</code> (optional)
<div><div>
 Select the type from the available <a href="https://www.jenkins.io/doc/book/managing/tools/" rel="nofollow">built-in tool providers</a>.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="unstable-set-stage-result-to-unstable"><a class="anchor" href="#unstable-set-stage-result-to-unstable"></a><code>unstable</code>: Set stage result to unstable</h3>
<div><div>
 Prints a message to the log and sets the overall build result and the stage result to <code>UNSTABLE</code>. The message will also be associated with the stage result and may be shown in visualizations.
</div></div>
<ul><li><code>message : String</code>
<div><div>
 A message that will be logged to the console. The message will also be associated with the stage result and may be shown in visualizations.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="unstash-restore-files-previously-stashed"><a class="anchor" href="#unstash-restore-files-previously-stashed"></a><code>unstash</code>: Restore files previously stashed</h3>
<div><div>
 Restores a set of files previously <code>stash</code>ed into the current workspace.
</div></div>
<ul><li><code>name : String</code>
<div><div>
 Name of a previously saved stash.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="waituntil-wait-for-condition"><a class="anchor" href="#waituntil-wait-for-condition"></a><code>waitUntil</code>: Wait for condition</h3>
<div><div>
 Runs its body repeatedly until it returns <code>true</code>. If it returns <code>false</code>, waits a while and tries again. (Subsequent failures will slow down the delay between attempts up to a maximum of 15 seconds.) There is no limit to the number of retries, but if the body throws an error that is thrown up immediately.
</div></div>
<ul><li><code>initialRecurrencePeriod : long</code> (optional)
<div><div>
 Sets the initial wait period, in milliseconds, between retries. Defaults to 250ms. <br> Each failure will slow down the delay between attempts up to a maximum of 15 seconds.
</div></div>

</li>
<li><code>quiet : boolean</code> (optional)
<div><div>
 If true, the step does not log a message each time the condition is checked. Defaults to false.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="warnerror-catch-error-and-set-build-and-stage-result-to-unstable"><a class="anchor" href="#warnerror-catch-error-and-set-build-and-stage-result-to-unstable"></a><code>warnError</code>: Catch error and set build and stage result to unstable</h3>
<div><div>
 Executes its body, and if an exception is thrown, sets the overall build result and the stage result to <code>UNSTABLE</code>, prints a specified message and the thrown exception to the build log, and associates the stage result with the message so that it can be displayed by visualizations.
 <p>Equivalent to <code>catchError(message: message, buildResult: 'UNSTABLE', stageResult: 'UNSTABLE')</code>.</p>
</div></div>
<ul><li><code>message : String</code>
<div><div>
 A message that will be logged to the console if an error is caught. The message will also be associated with the stage result and may be shown in visualizations.
</div></div>

</li>
<li><code>catchInterruptions : boolean</code> (optional)
<div><div>
 If true, certain types of exceptions that are used to interrupt the flow of execution for Pipelines will be caught and handled by the step. If false, those types of exceptions will be caught and immediately rethrown. Examples of these types of exceptions include those thrown when a build is manually aborted through the UI and those thrown by the <code>timeout</code> step. Defaults to true.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="withenv-set-environment-variables"><a class="anchor" href="#withenv-set-environment-variables"></a><code>withEnv</code>: Set environment variables</h3>
<div><div>
 Sets one or more environment variables within a block. The names of environment variables are case-insensitive but case-preserving, that is, setting `Foo` will change the value of `FOO` if it already exists. Environment variables are available to any external processes spawned within that scope. For example:
 <p></p>
 <pre>node {
  withEnv(['MYTOOL_HOME=/usr/local/mytool']) {
    sh '$MYTOOL_HOME/bin/start'
  }
}
</pre>
 <p>(Note that here we are using single quotes in Groovy, so the variable expansion is being done by the Bourne shell, not Jenkins.)</p>
 <p>See the documentation for the <code>env</code> singleton for more information on environment variables.</p>
</div></div>
<ul><li><code>overrides : Array / List of String</code>
<div><div>
 A list of environment variables to set, each in the form <code>VARIABLE=value</code> or <code>VARIABLE=</code> to unset variables otherwise defined. You may also use the syntax <code>PATH+WHATEVER=/something</code> to prepend <code>/something</code> to <code>$PATH</code>.
</div></div>

<ul></ul></li>
</ul>
</div>
<div class="sect2">
<h3 id="wrap-general-build-wrapper"><a class="anchor" href="#wrap-general-build-wrapper"></a><code>wrap</code>: General Build Wrapper</h3>
<div>
    <p>
    This is a special step that allows to call build wrappers (also called "Environment Configuration" in freestyle or similar projects).
    Just select the wrapper to use from the dropdown list and configure it as needed. Everything inside the wrapper block is under its effect.
    </p>
    <p>
    Note that only Pipeline-compatible wrappers will be shown in the list.
    </p>
</div>
To use this step you need to specify a delegate class, e.g <code>wrap([$class: 'AnsiColorBuildWrapper'])</code>.
</div>
<div class="sect2">
<h3 id="writefile-write-file-to-workspace"><a class="anchor" href="#writefile-write-file-to-workspace"></a><code>writeFile</code>: Write file to workspace</h3>
<div><div>
 Write the given content to a named file in the current directory.
</div></div>
<ul><li><code>file : String</code>
<div><div>
 Relative path of a file within the workspace.
</div></div>

</li>
<li><code>text : String</code>
<div><div>
 The data to write in the file.
</div></div>

</li>
<li><code>encoding : String</code> (optional)
<div><div>
 The target encoding for the file. If left blank, the platform default encoding will be used. If the text is a Base64-encoded string, the decoded binary data can be written to the file by specifying "Base64" as the encoding.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="archive-archive-artifacts"><a class="anchor" href="#archive-archive-artifacts"></a><code>archive</code>: Archive artifacts</h3>
<div><div>
 Archives build output artifacts for later use. As of Jenkins 2.x, this step is deprecated in favor of the more configurable <code>archiveArtifacts</code>.
</div></div>
<ul><li><code>includes : String</code>
<div><div>
 Include artifacts matching this <a href="https://ant.apache.org/manual/dirtasks.html#patterns" rel="nofollow">Ant style pattern</a>. Use a comma separated list to add more than one expression.
</div></div>

</li>
<li><code>excludes : String</code> (optional)
<div><div>
 Exclude artifacts matching this <a href="https://ant.apache.org/manual/dirtasks.html#patterns" rel="nofollow">Ant-style pattern</a>.<br> Use a comma-separated list to add more than one expression.
</div></div>

</li>
</ul>
</div>
<div class="sect2">
<h3 id="getcontext-get-contextual-object-from-internal-apis"><a class="anchor" href="#getcontext-get-contextual-object-from-internal-apis"></a><code>getContext</code>: Get contextual object from internal APIs</h3>
<div><p>Obtains a contextual object as in <code>StepContext.get</code>; cf. <code>withContext</code>. Takes a single <code>type</code> argument. Example:</p>
<pre><code>getContext hudson.FilePath</code></pre>
<p>For use from trusted code, such as global libraries, which can manipulate internal Jenkins APIs.</p></div>
<ul><li><code>type</code>
<ul><li><b>Type:</b> <code>java.lang.Class&lt;?&gt;</code></li>
</ul></li>
</ul>
</div>
<div class="sect2">
<h3 id="unarchive-copy-archived-artifacts-into-the-workspace"><a class="anchor" href="#unarchive-copy-archived-artifacts-into-the-workspace"></a><code>unarchive</code>: Copy archived artifacts into the workspace</h3>
<ul><li><code>mapping</code> (optional)
<ul><li><b>Type:</b> <code>java.util.Map&lt;java.lang.String, java.lang.String&gt;</code></li>
</ul></li>
</ul>
</div>
<div class="sect2">
<h3 id="withcontext-use-contextual-object-from-internal-apis-within-a-block"><a class="anchor" href="#withcontext-use-contextual-object-from-internal-apis-within-a-block"></a><code>withContext</code>: Use contextual object from internal APIs within a block</h3>
<div><p>Wraps a block in a contextual object as in <code>BodyInvoker.withContext</code>; cf. <code>getContext</code>. Takes a single <code>context</code> argument plus a block. Example:</p>
<pre><code>withContext(new MyConsoleLogFilter()) {
    sh 'process'
}</code></pre>
<p>Automatically merges its argument with contextual objects in the case of <code>ConsoleLogFilter</code>, <code>LauncherDecorator</code>, and <code>EnvironmentExpander</code>.</p>
<p>For use from trusted code, such as global libraries, which can manipulate internal Jenkins APIs.</p>
<p><strong>Do not</strong> attempt to pass objects defined in Groovy; only Java-defined objects are supported. Really you should avoid using this and <code>getContext</code> and just define a <code>Step</code> in a plugin instead.</p></div>
<ul><li><code>context : <code>Object</code></code>
</li>
</ul>
</div>
</div>
</div>
<hr>
<div class="container"></div>
<!-- starting partial _feedback-footer.html -->
<!-- HTML inclusion for chapter and section layouts (i.e. as footers) as well as
     for use in AsciiDoc file inclusions. -->

<!--
This feedback form was prepared from a Google Form, based on the techniques in
the following documentation sources:
https://codepen.io/learningcode/post/customize-a-google-form-for-your-website,
https://mrhaki.blogspot.com.au/2014/06/awesome-asciidoc-include-raw-html.html,
https://www.freshtechtips.com/2013/05/custom-google-drive-contact-form.html,
https://stackoverflow.com/questions/24436165/set-value-of-hidden-input-inside-form
-->

<!-- Feedback form functionality in JavaScript - refer to comments in this file
     for details on the functionality. -->
<script>
var feedbackForm = {
    formKey : 'e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w'
};
$(document).ready(function() {
    window.onload = feedbackForm.start(window.location.href);
});
</script>
<script src="/js/feedback-form-functionality.js"></script>

<p><a href="#feedback" data-bs-toggle="collapse">Was this page helpful?</a></p>

<div id="feedback" class="collapse">

<p>Please submit your feedback about this page through this
<a href="/doc/feedback-form/">quick form</a>.</p>

<p>Alternatively, if you don't wish to complete the quick form, you can simply
indicate if you found this page helpful?</p>

<!-- Redirects to custom "thank you" page once form is submitted. -->
<script type="text/javascript">
var submitted=false;
</script>
<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
onload="if(submitted) {window.location='/doc/thank-you-for-your-feedback/';}">
</iframe>
<form action="https://docs.google.com/forms/d/e/1FAIpQLSfCEexH09x_-ytEyE7wetizqOvE_-06WkK89dpBLEJcYnOp8w/formResponse" method="POST" id="ss-form" target="hidden_iframe" onsubmit="submitted=true;">

<!-- Set the value of the current URL into the form. -->
<input type="hidden" name="entry.1246830226" id="current-url" value=""/>

<!-- The answer bit -->
<p><input type="radio" name="entry.790002525" id="h1" value="Yes" required/>
<label for="h1">Yes</label>&nbsp;&nbsp;&nbsp;&nbsp;
<input type="radio" name="entry.790002525" id="h2" value="No"/>
<label for="h2">No</label></p>

<!-- The CAPTCHA bit -->

<p><label id="ssTestLabel" for="ssTestValue"></label><br/>
<input type="text" name="ssTestValue" value="" id="ssTestValue"/></p>

<!-- Submit button -->

<p><input class="button" type="submit" value="Submit"/></p>

</form>

<p>See existing feedback <a href="https://docs.google.com/spreadsheets/d/1IIdpVs39JDYKg0sLQIv-MNO928qcGApAIfdW5ohfD78" target="_blank" rel="noreferrer noopener">here</a>.</p>

</div>

<!-- ending partial _feedback-footer.html -->
<script>
  $(function() {
    var collapsibleList = function(e){
      for (var i=1; i < e.length; i++) {
        var li = e[i];
        if (li.tagName == "LI" && li.children[0]) {
          var r=li.children[0].innerText;
  
          var plus = $("<button class='btn btn-outline-secondary btn-xs'>+</button>");
          var minus = $("<button class='btn btn-outline-secondary btn-xs'>-</button>");
          $(li.children[0]).prepend(minus);
  
          var expander = $("<li/>").append($("<code/>").text(r)).prepend(plus);
          var toggle = (function() {
            this.next().toggleClass("collapse");
            this.toggleClass("collapse")
          }).bind(plus.parent());
          plus.on("click", toggle);
          minus.on("click", toggle);
          expander.insertBefore($(li));
          $(li).addClass("collapse");
        }
      }
    };
    $("ul>b:contains('Nested')").each(function(e,f){
      collapsibleList($(f).parent().children())
    });
  });
</script>

</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath=""></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
