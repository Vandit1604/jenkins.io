<!DOCTYPE html>
<html lang="en">
<head>
<title>
Read only view
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/developer/views/read-only/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Read only view" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Read only view" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Read only view" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/doc/developer/views/read-only/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Read only view" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<style>
  h4 {
    font-size: 22px;
  }
  div.container .row.body {
    margin-right: 1em;
    margin-left: 1em;
    padding-left: 0;
    padding-right: 0;
  }
  .toc {
      float: right;
  }
  div.sidebar-nav > ul {
    list-style: none;
    padding-inline-start: 2em;
  }
  ion-icon {
    color: #bf6900;
  }
  .jenkins-developer-chapters {
    list-style: none;
    padding-inline-start: 0;
    padding-left: 0;
    padding-right: 0;
  }
  #dev-docs {
    margin-bottom: 1em;
  }
  #reference-topics {
    font-weight: normal;
  }
  #reference-topics:active {
    font-weight: bold;
  }
  #taglibs {
    margin-bottom: 2em;
    font-weight: normal;
  }
  #taglibs:active {
    font-weight: bold;
  }
  #how-to-guides {
    font-weight: normal;
  }
  #how-to-guides:active {
    font-weight: bold;
  }
  #plugin-tutorial {
    font-weight: normal;
  }
  #plugin-tutorial:active {
    font-weight: bold;
  }
  #javadoc {
    font-weight: normal;
  }
  #javadoc:active {
    font-weight: bold;
  }
</style>
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-8 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body flex-nowrap">
<div class="col-4" id="sidebar-menu">
<div class="sidebar-nav tour" id="sidebar-content">
<p>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/" class="">> Developer Documentation Home</a>
</p>
<h4 id="dev-docs">
Developer Documentation
</h4>
<h5 id="plugin-tutorial">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/tutorial/" class="">Plugin Tutorial</a>
</h5>
<h5 id="how-to-guides">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/guides/" class="">How-To Guides</a>
</h5>
<h5 id="reference-topics">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/book/" class="">Reference Topics</a>
</h5>
<ul>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/architecture/" class="">Architecture</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/initialization/" class="">Initialization and Startup</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/extensibility/" class="">Extensibility</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/model/" class="">Model</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/handling-requests/" class="">Handling Requests</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/security/" class="">Security</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/persistence/" class="">Persistent Objects</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/scheduling/" class="">Scheduling</a>
<span title="Early work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/views/" class="active">Views</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
<small>
<ul style="padding-left: 1rem;">
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/views/read-only/" class="active">Read only view</a>
</li>
</ul>
</small>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/forms/" class="">Forms</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/internationalization/" class="">Internationalization and Localization</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/distributed-builds/" class="">Distributed Builds</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/cli/" class="">Jenkins CLI</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/testing/" class="">Testing</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/telemetry/" class="">Telemetry</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-development/" class="">Plugin Development</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/plugin-governance/" class="">Plugin Governance</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/publishing/" class="">Publishing Plugins</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/blueocean-plugin-development/" class="">Blue Ocean</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/building/" class="">Building and Debugging</a>
<span title="Partial work in progress">
<ion-icon name="warning" style="opacity: 0.5;"></ion-icon>
</span>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/development-environment/" class="">Development Environment</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/crowdin/" class="">Jenkins Crowdin Integration</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/tutorial-improve/" class="">Improve a Plugin Tutorial</a>
</li>
</ul>
<h5>
Resources
</h5>
<h6 style="padding-left: 2rem;">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/extensions/" class="">Extensions Index</a>
</h6>
<h6 id="javadoc" style="padding-left: 2rem;">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/javadoc/" class="">Javadoc</a>
</h6>
<h6 id="taglibs" style="padding-left: 2rem;">
<a href="/jenkins.io/independent-scrolling-patch/doc/developer/development-environment/taglibs/" class="">Taglibs</a>
</h6>
<h5>
Tools
</h5>
<ul>
<li>
<a href="https://jenkinsci.github.io/maven-hpi-plugin/" rel="noreferrer noopener" target="_blank">
Maven HPI Plugin
</a>
</li>
</ul>
</div>
</div>
<div class="col-8">
<h1>
Read only view
</h1>
<div class="paragraph">
<p>Extended read and system read permission allow read only access
to parts of Jenkins.</p>
</div>
<div class="paragraph">
<p>The jelly taglib&#8217;s in core will render a read only look and feel,
if the user only has access to read the view.</p>
</div>
<div class="paragraph">
<p>This is handled for developers transparently if they are already using one
of the supported views, like the <code>job</code> configure view.</p>
</div>
<div class="sect1">
<h2 id="enabling-permissions-that-use-read-only-views"><a class="anchor" href="#enabling-permissions-that-use-read-only-views"></a>Enabling permissions that use read-only views</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are 3 permissions currently that interact with read-only views:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Overall/SystemRead</p>
</li>
<li>
<p>Agent/ExtendedRead</p>
</li>
<li>
<p>Job/ExtendedRead</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>They are currently not enabled by default, the easiest way to enable them is to install
the <a href="https://plugins.jenkins.io/extended-read-permission">Extended read permission plugin</a> v3.2 or above.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-read-only-view-support"><a class="anchor" href="#enabling-read-only-view-support"></a>Enabling read-only view support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jelly example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="c">&lt;!-- configure permissions on a job required for write access --&gt;</span>
<span class="nt">&lt;j:set</span> <span class="na">var=</span><span class="s">"readOnlyMode"</span> <span class="na">value=</span><span class="s">"${!it.hasPermission(it.CONFIGURE)}"</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- administrator permissions required for write access --&gt;</span>
<span class="nt">&lt;j:set</span> <span class="na">var=</span><span class="s">"readOnlyMode"</span> <span class="na">value=</span><span class="s">"${!app.hasPermission(app.ADMINISTER)}"</span> <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Groovy example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="c1">// configure permissions on a job required for write access</span>
<span class="n">set</span><span class="o">(</span><span class="s2">"readOnlyMode"</span><span class="o">,</span> <span class="o">!</span><span class="n">it</span><span class="o">.</span><span class="na">hasPermission</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">CONFIGURE</span><span class="o">))</span>

<span class="c1">// administrator permissions required for write access</span>
<span class="n">set</span><span class="o">(</span><span class="s2">"readOnlyMode"</span><span class="o">,</span> <span class="o">!</span><span class="n">app</span><span class="o">.</span><span class="na">hasPermission</span><span class="o">(</span><span class="n">app</span><span class="o">.</span><span class="na">ADMINISTER</span><span class="o">))</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="partial-view-read-only"><a class="anchor" href="#partial-view-read-only"></a>Partial view read-only</h3>
<div class="paragraph">
<p>It&#8217;s also possible to only use read-only mode for part of a view,</p>
</div>
<div class="paragraph">
<p>This is an example taken from the /configure page showing the
<code>SYSTEM_READ</code> and <code>MANAGE</code> permissions working together, non-editable parts of the view
render in a read only manner:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;j:forEach</span> <span class="na">var=</span><span class="s">"descriptor"</span> <span class="na">items=</span><span class="s">"${h.getSortedDescriptorsForGlobalConfigUnclassifiedReadable()}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;j:set</span> <span class="na">var=</span><span class="s">"editable"</span> <span class="na">value=</span><span class="s">"${h.getSortedDescriptorsForGlobalConfigUnclassified()}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;j:set</span> <span class="na">var=</span><span class="s">"readOnlyMode"</span> <span class="na">value=</span><span class="s">"${!editable.contains(descriptor)}"</span> <span class="nt">/&gt;</span>
  <span class="c">&lt;!-- (unnecessary context removed) --&gt;</span>
  <span class="nt">&lt;st:include</span> <span class="na">page=</span><span class="s">"${descriptor.globalConfigPage}"</span> <span class="na">from=</span><span class="s">"${descriptor}"</span> <span class="nt">/&gt;</span>
  <span class="c">&lt;!-- (unnecessary context removed) --&gt;</span>
<span class="nt">&lt;/j:forEach&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="taglib-changes-required"><a class="anchor" href="#taglib-changes-required"></a>Taglib changes required</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you provide your own taglib that isn&#8217;t in Jenkins core you may need to make some changes.</p>
</div>
<div class="paragraph">
<p>Depending on what change is required there are a few different changes you might need to make,
here are a few examples.</p>
</div>
<div class="sect2">
<h3 id="rendering-plain-text-instead-of-a-control"><a class="anchor" href="#rendering-plain-text-instead-of-a-control"></a>Rendering plain text instead of a control</h3>
<div class="paragraph">
<p>We also add a default text when it is empty (N/A in this case):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;j:choose&gt;</span>
    <span class="nt">&lt;j:when</span> <span class="na">test=</span><span class="s">"${readOnlyMode}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;j:choose&gt;</span>
            <span class="nt">&lt;j:when</span> <span class="na">test=</span><span class="s">"${empty(value)}"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"jenkins-not-applicable"</span><span class="nt">&gt;</span>N/A<span class="nt">&lt;/span&gt;</span>
            <span class="nt">&lt;/j:when&gt;</span>
            <span class="nt">&lt;j:otherwise&gt;&lt;pre</span> <span class="na">class=</span><span class="s">"jenkins-readonly"</span><span class="nt">&gt;</span>${value}<span class="nt">&lt;/pre&gt;&lt;/j:otherwise&gt;</span>
        <span class="nt">&lt;/j:choose&gt;</span>
    <span class="nt">&lt;/j:when&gt;</span>
    <span class="nt">&lt;j:otherwise&gt;</span>
    ... your normal default configuration
    <span class="nt">&lt;/j:otherwise&gt;</span>
<span class="nt">&lt;/j:choose&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="disabling-the-control"><a class="anchor" href="#disabling-the-control"></a>Disabling the control</h3>
<div class="paragraph">
<p>It is preferable to render plain text or some other method that is obvious to the user
what is going on (disabled controls aren&#8217;t very obvious), but a lot of the javascript
and jelly taglibs depend on inputs of specific types being there for rendering,
so sometimes it is preferable to just disable the control:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span>
    <span class="na">checked=</span><span class="s">"${attrs.checked?'true':null}"</span>
    <span class="na">disabled=</span><span class="s">"${readOnlyMode?'true':null}"</span>
<span class="nt">/&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removing-controls-from-a-page"><a class="anchor" href="#removing-controls-from-a-page"></a>Removing controls from a page</h3>
<div class="paragraph">
<p>Like an X button on a repeatable element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;j:if</span> <span class="na">test=</span><span class="s">"${!readOnlyMode}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;f:block&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">align=</span><span class="s">"right"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;f:repeatableDeleteButton</span> <span class="na">value=</span><span class="s">"${attrs.deleteCaption}"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/f:block&gt;</span>
<span class="nt">&lt;/j:if&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="allowing-access-to-a-view"><a class="anchor" href="#allowing-access-to-a-view"></a>Allowing access to a view</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Normally in Jenkins the layout tag of a page will have a permission
attribute which governs which permission is required to access the page.</p>
</div>
<div class="paragraph">
<p>Jenkins has a concept of 'impliedBy' in it&#8217;s permission, which means that each permission is allowed to be automatically granted by another one.
<em>Job/ExtendedRead</em> is implied by <em>Job/Configure</em>, which means that requiring <em>Job/ExtendedRead</em>
to access a view, will also grant <em>Job/Configure</em> access.</p>
</div>
<div class="paragraph">
<p>Here are some examples that show what you will need to update the layout tag to:</p>
</div>
<div class="paragraph">
<p>Requiring the <em>Job/ExtendedRead</em> permission in Jelly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;l:layout</span> <span class="na">permission=</span><span class="s">"${it.EXTENDED_READ}"</span><span class="nt">&gt;</span>
...
<span class="nt">&lt;/l:layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Overall/SystemRead</em> Jelly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;l:layout</span> <span class="na">permission=</span><span class="s">"${app.SYSTEM_READ}"</span><span class="nt">&gt;</span>
...
<span class="nt">&lt;/l:layout&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Overall/SystemRead</em> Groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="n">l</span><span class="o">.</span><span class="na">layout</span><span class="o">(</span><span class="nl">permission:</span> <span class="n">app</span><span class="o">.</span><span class="na">SYSTEM_READ</span><span class="o">)</span> <span class="o">{</span>
<span class="o">...</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removing-part-of-a-view"><a class="anchor" href="#removing-part-of-a-view"></a>Removing part of a view</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Often it makes sense to remove parts of a view, such as 'Save' or 'Apply' buttons.</p>
</div>
<div class="paragraph">
<p>For system read the simplest way to do this is to use the <code>l:isAdmin</code> tag:</p>
</div>
<div class="paragraph">
<p><em>isAdmin</em> Jelly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;l:isAdmin&gt;</span>

<span class="nt">&lt;/l:isAdmin&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>isAdmin</em> Groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="n">l</span><span class="o">.</span><span class="na">isAdmin</span><span class="o">()</span> <span class="o">{</span>
<span class="o">...</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>There&#8217;s also a <code>l:hasAdministerOrManage</code> tag that can be used to check for the <code>Jenkins/Administer or `Jenkins/Manage</code> permissions.</p>
</div>
<div class="paragraph">
<p>If those don&#8217;t fit, then you can write your own permission check:</p>
</div>
<div class="paragraph">
<p><em>hasPermission</em> Jelly:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="xml"><span class="nt">&lt;j:if</span> <span class="na">test=</span><span class="s">"${it.hasPermission(it.CONFIGURE)"</span><span class="nt">&gt;</span>

<span class="nt">&lt;/j:if&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>hasPermission</em> Groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="groovy"><span class="k">if</span> <span class="o">(!</span><span class="n">it</span><span class="o">.</span><span class="na">hasPermission</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">CONFIGURE</span><span class="o">))</span> <span class="o">{</span>
<span class="o">...</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="server-side-changes-required"><a class="anchor" href="#server-side-changes-required"></a>Server side changes required</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Firstly you will need to update any server side permission checks to now check
on load for the <em>Read</em> permission, rather than the <em>Configure</em>  or <em>Administer</em> permission.
See <a href="/doc/developer/security/read-access/#using-staplerproxy">Using <code>StaplerProxy</code></a> for more information
on this feature.</p>
</div>
<div class="paragraph">
<p>i.e.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="java"><span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getTarget</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">checkPermission</span><span class="o">(</span><span class="nc">Jenkins</span><span class="o">.</span><span class="na">SYSTEM_READ</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you will need to review if additional permission checks are required,
i.e. any methods that allow saving or sensitive data access should now require the
permission that was previously in use.</p>
</div>
<div class="paragraph">
<p>Searching for 'public .* do' is a good start as web methods normally start with 'do', but
you should carefully review to make sure nothing is now exposed that shouldn&#8217;t be.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">doInstallPlugin</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">checkPermission</span><span class="o">(</span><span class="nc">Jenkins</span><span class="o">.</span><span class="na">ADMINISTER</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compatibility-with-jenkins-core-version"><a class="anchor" href="#compatibility-with-jenkins-core-version"></a>Compatibility with Jenkins core version</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You do not need to worry about bumping your minimum required Jenkins core version
as this feature is driven by variables set in the jelly context,
old versions of Jenkins will just ignore it.</p>
</div>
<div class="paragraph">
<p>This was released in 2.222</p>
</div>
</div>
</div>
</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//doc/developer/views/read-only.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
