<!DOCTYPE html>
<html lang="en">
<head>
<title>
Jenkins Windows Services: YAML Configuration Support
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/projects/gsoc/2020/projects/winsw-yaml-configs/" rel="canonical">
<!-- Favicons -->
<link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="/site.webmanifest" rel="manifest">
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon">
<meta content="#2b5797" name="msapplication-TileColor">
<meta content="#ffffff" name="theme-color">
<meta content="Jenkins Windows Services: YAML Configuration Support" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Jenkins Windows Services: YAML Configuration Support" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Jenkins Windows Services: YAML Configuration Support" property="og:title">
<meta content="article" property="og:type">
<meta content="https://Vandit1604.github.io/jenkins.io/independent-scrolling-patch/projects/gsoc/2020/projects/winsw-yaml-configs/" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Jenkins Windows Services: YAML Configuration Support" property="og:site_name">
<meta content="/jenkins.io/independent-scrolling-patch/images/logo-title-opengraph.png" name="og:image">
<link href="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/jenkins.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/stylesheets/styles.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="/jenkins.io/independent-scrolling-patch/css/footer.css" media="screen" rel="stylesheet">
<link href="/jenkins.io/independent-scrolling-patch/css/font-awesome.min.css" media="screen" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
</head>
<body>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<jio-navbar class="fixed-top" id="ji-toolbar" property="https://www.jenkins.io" showSearchBox=""></jio-navbar>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<!-- starting partial anchors.html.haml -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>

<!-- ending partial anchors.html.haml -->
<div class="container">
<div class="row body">
<div class="col-lg-9">
<h1>
Jenkins Windows Services: YAML Configuration Support
</h1>
<p>
<b>
Goal:
</b>
Enhance Jenkins controller and agent service management on Windows by offering new configuration file formats and improving settings validation
</p>
<p>
<b>
Status:
</b>
Completed
</p>
<h3 class="title">
Team
</h3>
<ul>
<li>
Student:
<a class="app-author-link" href="/blog/authors/buddhikac96/"><div class="app-avatar"></div> Buddhika Chathuranga</a>
</li>
<li>
Mentor(s):
<a class="app-author-link" href="/blog/authors/oleg_nenashev/"><div class="app-avatar"><img alt="Oleg Nenashev" class="app-avatar__image" src="/images/avatars/oleg_nenashev.png"></div> Oleg Nenashev</a>
, 
<a class="app-author-link" href="/blog/authors/mikecirioli/"><div class="app-avatar"></div> Michael Cirioli</a>
, 
<a class="app-author-link" href="/blog/authors/nextturn/"><div class="app-avatar"></div> Next Turn</a>
</li>
</ul>
<h2 class="title">
Details
</h2>
<div class="paragraph">
<p>On Windows machines, Jenkins controller and agents can be installed as Windows Services to get better robustness and manageability within the system.
This is a functionality bundled into the Jenkins core directly.
When installed as a service, Jenkins uses the Windows Service Wrapper executable (.NET, written in C#) which is being configured by XML config files.
Currently, there are only a few configuration checks there (no XML Schema, limited validation, etc.),
and it’s often that the service wrapper is misconfigured by Jenkins users.</p>
</div>
<div class="paragraph">
<p>In this project, we propose to update Windows Service Wrapper to support YAML files as configuration inputs and to introduce better configuration validation during the service installation and startup.
The usage of YAML should simplify configuration management in Jenkins, especially when automated tools are used.</p>
</div>
<div class="sect1">
<h2 id="deliverables"><a class="anchor" href="#deliverables"></a>Deliverables</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Service Descriptor: YAML Support</p>
</li>
<li>
<p>Validations for Configs</p>
</li>
<li>
<p>Schema validation for YAML (JSON)</p>
</li>
<li>
<p>Unit Test for Validations</p>
</li>
<li>
<p>Project Guideline Documentation</p>
</li>
<li>
<p>Sample YAML config files</p>
<div class="ulist">
<ul>
<li>
<p>Sample-alloption.yaml</p>
</li>
<li>
<p>Sample-minimal.yaml</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="phase-1"><a class="anchor" href="#phase-1"></a>Phase 1</h3>
<div class="ulist">
<ul>
<li>
<p>YAML service Descriptor</p>
</li>
<li>
<p>Start implementing configurations verification on startup</p>
</li>
<li>
<p>Project Guideline documentation</p>
</li>
<li>
<p>Blog Post 1</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="phase-2"><a class="anchor" href="#phase-2"></a>Phase 2</h3>
<div class="ulist">
<ul>
<li>
<p>Finish implementation of configurations verification on startup</p>
</li>
<li>
<p>Start implementing YAML schema validation</p>
</li>
<li>
<p>Minimal Viable Product will be released</p>
</li>
<li>
<p>Blog Post 2</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="phase-3"><a class="anchor" href="#phase-3"></a>Phase 3</h3>
<div class="ulist">
<ul>
<li>
<p>Finish implementation of YAML schema validation</p>
</li>
<li>
<p>Sample YAML config files</p>
</li>
<li>
<p>Blog Post 3</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During each phase, the respective unit test will be added to the existing Unit Test library.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="current-status"><a class="anchor" href="#current-status"></a>Current Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/winsw/winsw/releases/tag/v2.10.0">MVP has been released</a>. This release contains the following features.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>YAML configuration parsing</p>
</li>
<li>
<p>YAML configuration support for extensions</p>
</li>
<li>
<p><a href="https://github.com/winsw/winsw/blob/master/doc/yamlConfigFile.md">YAML configuration documentation</a></p>
</li>
<li>
<p><a href="https://github.com/winsw/winsw/blob/master/examples/sample-allOption.yml">Sample YAML configuration file</a></p>
</li>
<li>
<p>Unit test for YAML configuration support</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="further-improvements"><a class="anchor" href="#further-improvements"></a>Further Improvements</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Configuration validation on Startup</p>
<div class="ulist">
<ul>
<li>
<p>Environment variable expansion and validation is left to do.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Integrate YAML schema validation</p>
<div class="ulist">
<ul>
<li>
<p>Currently, users can validate the YAML file with JSON schema externally. We have to integrate this feature into the Windows service wrapper.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="key-pull-requests"><a class="anchor" href="#key-pull-requests"></a>Key Pull Requests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="merged"><a class="anchor" href="#merged"></a>Merged</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/winsw/winsw/pull/596">YAML configuration support</a></p>
</li>
<li>
<p><a href="https://github.com/winsw/winsw/pull/638">YAML configuration support for extensions</a></p>
</li>
<li>
<p><a href="https://github.com/winsw/winsw/pull/647">YAML configuration support unit test coverage</a></p>
</li>
<li>
<p><a href="https://github.com/winsw/winsw/pull/655">YAML Configuration support - Documentation</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="remaining-tasks"><a class="anchor" href="#remaining-tasks"></a>Remaining tasks</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/winsw/winsw/pull/547">New CLI</a></p>
<div class="ulist">
<ul>
<li>
<p>New CLI is almost done. Have to merge with V3.</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/winsw/winsw/pull/460">XML schema validation</a></p>
<div class="ulist">
<ul>
<li>
<p>XSD schema has been created and integrated. Have to update documentation and validations in the XSD schema.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Integrate the new Windows Service Wrapper into the Jenkins core</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="articles"><a class="anchor" href="#articles"></a>Articles</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="/blog/2020/07/08/winsw-yaml-support">GSoC 2020 - Phase 01 Updates</a></p>
</li>
<li>
<p><a href="/blog/2020/08/27/winsw-yaml-support">GSoC 2020 - Phase 03 Updates</a></p>
</li>
<li>
<p><a href="https://medium.com/runtimeerror/path-to-gsoc-2021-e6a81e62308d">Path to GSoC2021 @ <strong>Medium</strong></a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="demos"><a class="anchor" href="#demos"></a>Demos</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.youtube.com/watch?v=9qyo1f2rKQw&amp;feature=youtu.be">Phase 1 Demo</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=oSBvJwSXOVQ&amp;t=2736s">Phase 2 Demo</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=G05unV7aDrg">Phase 3 Demo</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contact-us"><a class="anchor" href="#contact-us"></a>Contact us</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Office hours are scheduled every Tuesday at <strong>13:30 UTC</strong> in the project&#8217;s Gitter chat.
Meeting notes are available <a href="https://docs.google.com/document/d/1eq1M1buaEMmRQ3XLFRFnTbJpRnHu1fnqxmTHPKm8WjU/edit?usp=sharing">here</a> to read.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://drive.google.com/file/d/1G2cOaRb-Mle_Fl7YVAzlVITDgrN6eCbE/view?usp=sharingp">GSoC Project application draft</a> for more details.</p>
</div>
</div>
</div>
<h3 class="title">
Links
</h3>
<ul>
<!-- starting partial connect-links.html.haml -->
<li>
<a href="https://groups.google.com/g/jenkins-platform-sig" rel="noreferrer noopener" target="_blank">
Mailing List
</a>
</li>
<li>
<a href="https://gitter.im/winsw/winsw" rel="noreferrer noopener" target="_blank">
<img src="https://badges.gitter.im/winsw/winsw.svg" title="Gitter">
</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/projects/gsoc/#office-hours" rel="noreferrer noopener" target="_blank">
Meetings
</a>
</li>

<!-- ending partial connect-links.html.haml -->
<li>
<a href="/projects/gsoc/2020/project-ideas/winsw-yaml-config-support" rel="noreferrer noopener" target="_blank">
Original GSoC project idea
</a>
</li>
<li>
<a href="/projects/gsoc" target="_blank">
Jenkins GSoC page
</a>
</li>
</ul>

<!-- starting partial discuss.html.haml -->

<!-- ending partial discuss.html.haml -->
</div>
<div class="col-lg-3">
<div class="sidebar-nav">
<h4>
On this page
</h4>
<ul class="sectlevel1">
<li><a href="#deliverables">Deliverables</a>
<ul class="sectlevel2">
<li><a href="#phase-1">Phase 1</a></li>
<li><a href="#phase-2">Phase 2</a></li>
<li><a href="#phase-3">Phase 3</a></li>
</ul>
</li>
<li><a href="#current-status">Current Status</a></li>
<li><a href="#further-improvements">Further Improvements</a></li>
<li><a href="#key-pull-requests">Key Pull Requests</a>
<ul class="sectlevel2">
<li><a href="#merged">Merged</a></li>
<li><a href="#remaining-tasks">Remaining tasks</a></li>
</ul>
</li>
<li><a href="#articles">Articles</a></li>
<li><a href="#demos">Demos</a></li>
<li><a href="#contact-us">Contact us</a></li>
</ul>
<!-- starting partial connect-h4-div.html.haml -->
<div>
<h4>
Connect
</h4>
</div>
<ul>
<!-- starting partial connect-links.html.haml -->
<li>
<a href="https://groups.google.com/g/jenkins-platform-sig" rel="noreferrer noopener" target="_blank">
Mailing List
</a>
</li>
<li>
<a href="https://gitter.im/winsw/winsw" rel="noreferrer noopener" target="_blank">
<img src="https://badges.gitter.im/winsw/winsw.svg" title="Gitter">
</a>
</li>
<li>
<a href="/jenkins.io/independent-scrolling-patch/projects/gsoc/#office-hours" rel="noreferrer noopener" target="_blank">
Meetings
</a>
</li>

<!-- ending partial connect-links.html.haml -->
</ul>

<!-- ending partial connect-h4-div.html.haml -->
<div>
<div class="block block-block even blog-posts" id="block-block-15">
<h4 class="title">
Recent Blog Posts
</h4>
<ul>
<li>
<a href="/blog/2020/12/22/gsoc-report/">
Google Summer of Code 2020 summary
</a>
</li>
<li>
<a href="/blog/2020/09/12/new-jenkins-release-observations/">
Testing Jenkins 2.249.1 on Windows
</a>
</li>
<li>
<a href="/blog/2020/08/31/github-checks-api-plugin-coding-phase-3/">
GitHub Checks API Plugin Project - Coding Phase 3
</a>
</li>
<li>
<a href="/blog/2020/08/31/custom-distribution-service/">
Custom Distribution Service : Phase 3 Blogpost
</a>
</li>
<li>
<a href="/blog/2020/08/29/git-performance-improvement-phase3/">
Git Plugin Performance Improvement: Final Phase and Release
</a>
</li>
<li>
<a href="/blog/2020/08/27/winsw-yaml-support/">
Jenkins Windows Services: YAML Configuration Support - GSoC Project Results
</a>
</li>
<li>
<a href="/blog/2020/08/27/machine-learning-plugin-coding-phase3/">
Machine Learning Plugin project - Coding Phase 3 blog post
</a>
</li>
<li>
<a href="/blog/2020/08/25/external-fingerprint-storage-phase-3/">
External Fingerprint Storage Phase-3 Update: Introducing the PostgreSQL Fingerprint Storage Plugin
</a>
</li>
<li>
<a href="/blog/2020/08/12/windows-installers-upgrade/">
Windows Installer Upgrades
</a>
</li>
<li>
<a href="/blog/2020/08/09/custom-distribution-service-phase-2/">
Custom Distribution Service : Phase 2 Blogpost
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>


<script src="/jenkins.io/independent-scrolling-patch/assets/bower/anchor-js/anchor.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/@popperjs/core/umd/popper.min.js"></script>
<script src="/jenkins.io/independent-scrolling-patch/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lit@2.5.0/polyfill-support.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.6.0/webcomponents-loader.js"></script>
<script data="ionicons" defer="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.esm.js" type="module"></script>
<script data="ionicons" defer="" nomodule="" src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.2/ionicons/ionicons.js"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/+esm" type="module"></script>
<script defer="" nomodule="" src="https://cdn.jsdelivr.net/npm/@jenkinsci/jenkins-io-components/"></script>
<jio-footer githubBranch="master" githubRepo="jenkins-infra/jenkins.io" property="https://www.jenkins.io" sourcePath="content//projects/gsoc/2020/projects/winsw-yaml-configs.adoc"></jio-footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  $(function(){
    var $body = $(document.body);
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3" type="text/javascript"></script>
<script type="text/javascript">
docsearch({
  container: document.querySelector('input.searchbox').parentNode,
  indexName: 'jenkins',
  appId: "M6L7Q4Z8HS",
  apiKey: "52f8dfbff76ffd9106f1c68fee16154b",
  algoliaOptions: { 'facetFilters': ["tags:en"] },
  debug: false
});
</script>
</body>
</html>
